<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ca" xml:lang="ca" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>3.2.6 Índex | Bases de Dades </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="ca" />
<meta name="author" content="Àlvar Serrano Calduch" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" />
<meta name="generator" content="eXeLearning 2.6 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
</head>
<body class="exe-web-site" id="exe-node-50"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<div id="header" ><div id="headerContent">Bases de Dades</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Tema 6: SQL -  DDL i consultes d'actualització (part III)</a></li>
   <li><a href="31_introducci.html" class="no-ch">3.1 Introducció</a></li>
   <li class="current-page-parent"><a href="32_ddl.html" class="current-page-parent daddy">3.2 DDL</a>
   <ul>
      <li><a href="321_tipus_de_dades.html" class="no-ch">3.2.1 Tipus de dades</a></li>
      <li><a href="322_create_table.html" class="daddy">3.2.2 CREATE TABLE</a>
      <ul class="other-section">
         <li><a href="exercicis.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="323_restriccions_constraint.html" class="daddy">3.2.3 Restriccions (Constraint)</a>
      <ul class="other-section">
         <li><a href="exercicis0.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="324_alter_table.html" class="daddy">3.2.4 ALTER TABLE</a>
      <ul class="other-section">
         <li><a href="exercicis1.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="325_drop_table.html" class="no-ch">3.2.5 DROP TABLE</a></li>
      <li id="active"><a href="326_ndex.html" class="active daddy">3.2.6 Índex</a>
      <ul>
         <li><a href="exercicis2.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="327_vistes.html" class="daddy">3.2.7 Vistes</a>
      <ul class="other-section">
         <li><a href="exercicis3.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="328_creaci_daltres_objectes_seqncies_dominis_i_tipus.html" class="daddy">3.2.8. Creació d'altres objectes: seqüències, dominis i tipus.</a>
      <ul class="other-section">
         <li><a href="3281_seqncies.html" class="no-ch">3.2.8.1 Seqüències</a></li>
         <li><a href="3282_dominis.html" class="no-ch">3.2.8.2 Dominis</a></li>
         <li><a href="3283_tipus_de_dades.html" class="no-ch">3.2.8.3 Tipus de dades</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="33_consultes_dactualitzaci.html" class="daddy">3.3 Consultes d'actualització</a>
   <ul class="other-section">
      <li><a href="331_insert.html" class="daddy">3.3.1 INSERT</a>
      <ul class="other-section">
         <li><a href="exercicis4.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="332_delete.html" class="daddy">3.3.2 DELETE</a>
      <ul class="other-section">
         <li><a href="exercicis5.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
      <li><a href="333_update.html" class="daddy">3.3.3 UPDATE</a>
      <ul class="other-section">
         <li><a href="exercicis6.html" class="no-ch">Exercicis</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="exercicis_de_tot_el_tema.html" class="no-ch">Exercicis de tot el tema</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="325_drop_table.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="exercicis2.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">3.2.6 Índex</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id45">
<div class="iDevice emphasis0">
<div id="ta45_1" class="block iDevice_content">
<p align="justify"> </p>
<p align="justify">Els índex són estructures de dades que permeten mantenir ordenada una taula respecte a un o més d'un camp, cadascun d'ells de forma ascendent o descendent.</p>
<p align="justify">Tenir un índex per un determinat camp o camps permet reduir dràsticament el temps utilitzat en ordenar per ells (perquè ja es manté aquest ordre) i també quan es busca un determinat valor d'aquest camp, ja que com està ordenat es poden fer recerques binàries o dicotòmiques. Quan no està ordenat no hi ha més remei que fer una recerca seqüencial, que és considerablement més lenta.</p>
<p align="justify">De tota manera no s'ha d'abusar dels índex, ja que és una estructura addicional de dades que ocuparà espai, i que com s'han de mantenir els índex constantment actualitzats, cada vegada que es realitza una operació d'actualització (inserció, modificació o esborrat) s'ha de reestructurar l'índex, per a posar o llevar l'element al seu lloc.</p>
<p align="justify">El següent vídeo intenta explicar de forma molt senzilla com es podria implementar un índex, per poder observar les característiques anteriors. Hem de ser conscients, però, que tot aquest procés és transparent per a l'usuari, que només notaria, en crear un índex, que els SELECT van més ràpids, i els INSERT, DELETE i UPDATE van més lents.</p>
<p align="center"> </p>
<div style="text-align: center;"><iframe width="700" height="492" src="https://slides.com/alvarinstitut/bd_t6_index/embed" title="BD_T6_index" scrolling="no" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></div>
<p> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id59">
<div class="iDevice emphasis0">
<div id="ta59_1" class="block iDevice_content">
<p class="titolet">Creació d'índex</p>
<p>A banda de la creació explícita d'índex que farem en aquesta pregunta, PostgreSQL crea implícitament un índex cada vegada que:</p>
<ul>
<li>Creem una clau princpal</li>
<li>Creem una restricció d'unicitat (UNIQUE)</li>
</ul>
<p>En ambdós casos serà un índex que no es podrà repetir. Per tant, en els casos anteriors no cal crear un índex, perquè PostgreSQL ja ho ha fet automàticament.</p>
<p></p>
<p>En PostgreSQL la creació d'índex és molt completa. Anem a veure una versió resumida:</p>
<p class="codiSQL">CREATE [UNIQUE] INDEX nom_índex <br /> ON taula (c1 [ASC|DESC][, c2 [ASC|DESC], ...] [NULLS { FIRST | LAST }] )</p>
<p>Si posem l'opció UNIQUE impedirà que es repetesquen els valors del camp (o camps) que formen l'índex, de forma similar a la restricció UNIQUE del CONSTRAINT.</p>
<p>L'opció d'ordenació per defecte és l'ascendent.</p>
<p>Podem fer que els nuls estiguen al principi de tot o al final de tot, segons ens convinga:</p>
<ul>
<li><b>FIRST</b>: farà que en l'ordenació els valors nuls vagen abans de qualsevol altre valor. Aquesta és l'opció per defecte si l'ordre és descendenta més de crear l'índex fa que siga clau principal. Evidentment no ha d'haver una clau principal creada amb anterioritat.</li>
</ul>
<ul>
<li><b>LAST</b>: els valors nuls estaran al final de tot, després de qualsevol altre valor. És l'opció per defecte quan l'ordre és ascendent.</li>
</ul>
<p></p>
<p> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id61">
<div class="iDevice emphasis0">
<div id="ta61_1" class="block iDevice_content">
<p class="titolet">Exemples</p>
<ol>
<li value="1">
<p>Crear un índex en la taula <b>EMPLEAT4 </b>per al camp <b>departament </b>en ordre ascendent .</p>
</li>
</ol>
<p class="codi">CREATE INDEX i_dep ON EMPLEAT4 (departament);</p>
<p> </p>
<ol start="2">
<li>
<p align="justify">Crear un index per al camp <b>data_naixement </b>(descendent) i <b>sou </b>(ascendent) en la taula <b>EMPLEAT4</b>. En els dos casos, <strong>data_naixement</strong> i <strong>sou</strong>, s'han d'ordenar els valors nuls al final</p>
</li>
</ol>
<p class="codi">CREATE INDEX i_dat_sou ON EMPLEAT4 (data_naixement DESC NULLS LAST, sou NULLS LAST);</p>
<p></p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id60">
<div class="iDevice emphasis0">
<div id="ta60_1" class="block iDevice_content">
<p class="titolet">
Esborrar un índex
</p>
<p>
La sentència d'esborrar un índex és molt senzilla. Només hem d'especificar el nom de l'índex i la taula on està definit.
</p>
<p class="codi">
DROP INDEX nom_índex ON taula
</p>


</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="325_drop_table.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="exercicis2.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial CompartirIgual 3.0</a></p>
</div>
</div>
</div>
</div>
</body></html>