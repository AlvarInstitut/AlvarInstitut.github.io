<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ca" xml:lang="ca" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>6. Operadors | Bases de Dades </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="ca" />
<meta name="author" content="Àlvar Serrano Calduch" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" />
<meta name="generator" content="eXeLearning 2.6 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
</head>
<body class="exe-web-site" id="exe-node-88"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<div id="header" ><div id="headerContent">Bases de Dades</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Tema 6: SQL -  Consulta bàsica (part I)</a></li>
   <li><a href="objectius_i_coneixements_previs.html" class="no-ch">Objectius i Coneixements previs</a></li>
   <li><a href="1_introducci.html" class="no-ch">1. Introducció</a></li>
   <li><a href="2_ddl_i_dml.html" class="no-ch">2. DDL i DML</a></li>
   <li><a href="3_client_dbeaver_installaci_i_confiuraci.html" class="no-ch">3. Client DBeaver: instal·lació i confiuració</a></li>
   <li><a href="4_client_dbeaver_utilitzaci.html" class="no-ch">4. Client DBeaver: utilització</a></li>
   <li><a href="5_dades_dels_exemples_i_els_exercicis.html" class="no-ch">5. Dades dels exemples i els exercicis</a></li>
   <li id="active"><a href="6_operadors.html" class="active no-ch">6. Operadors</a></li>
   <li><a href="7_funcions.html" class="daddy">7. Funcions</a>
   <ul class="other-section">
      <li><a href="71_formats_de_les_dates.html" class="no-ch">7.1 Formats de les dates</a></li>
      <li><a href="72_formats_dels_nmeros.html" class="no-ch">7.2 Formats dels números</a></li>
   </ul>
   </li>
   <li><a href="8_la_consulta_select.html" class="no-ch">8. La consulta SELECT</a></li>
   <li><a href="9_consulta_bsica.html" class="daddy">9. Consulta bàsica</a>
   <ul class="other-section">
      <li><a href="exercicis.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="10_lies_en_les_columnes.html" class="daddy">10. Àlies en les columnes</a>
   <ul class="other-section">
      <li><a href="exercicis0.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="11_la_clusula_where.html" class="daddy">11. La clàusula WHERE</a>
   <ul class="other-section">
      <li><a href="exercicis1.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="12_funcions_dagregat.html" class="daddy">12. Funcions d'agregat</a>
   <ul class="other-section">
      <li><a href="exercicis2.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="13_la_clusula_group_by.html" class="daddy">13. La clàusula GROUP BY</a>
   <ul class="other-section">
      <li><a href="exercicis3.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="14_la_clusula_having.html" class="daddy">14. La clàusula HAVING</a>
   <ul class="other-section">
      <li><a href="exercicis4.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="15_la_clusula_order_by.html" class="daddy">15. La clàusula ORDER BY</a>
   <ul class="other-section">
      <li><a href="exercicis5.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="16_el_predicat_distinct.html" class="daddy">16. El predicat DISTINCT</a>
   <ul class="other-section">
      <li><a href="exercicis6.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="17_la_clusula_limit__offset.html" class="daddy">17. La clàusula LIMIT .. OFFSET</a>
   <ul class="other-section">
      <li><a href="exercicis7.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="18_consulta_de_creaci_de_taules.html" class="daddy">18. Consulta de creació de taules</a>
   <ul class="other-section">
      <li><a href="exercicis8.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="19_ordre_amb_qu_sexecuta_una_sentncia_sql.html" class="no-ch">19. Ordre amb què s'executa una sentència SQL</a></li>
   <li><a href="exercicis_de_tot_el_tema_amb_els_resultats.html" class="no-ch">Exercicis de tot el tema, amb els resultats</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="5_dades_dels_exemples_i_els_exercicis.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="7_funcions.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">6. Operadors</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id58">
<div class="iDevice emphasis0">
<div id="ta58_1" class="block iDevice_content">
<p>Els operadors que es gasten en el SQL de PostgreSQL són moltíssims. Cada tipus de dades té una sèrie d'operadors, i el mateix operador, aplicat a tipus distints pot fer coses diferents.</p>
<p>Es poden veure tots els operadors en la taula <b>PG_OPERATOR</b>, on tindrem el nom de l'operador, els tipus de dades dels operands i del resultat i el procediment que implementa l'operador. Ací tenim una vista d'aquesta taula, encara que hi ha tantíssims operadors que mareja i tot (els que estan repetits és per a especificar l'actuació sobre operands de diferents tipus).</p>
<p align="center"><img src="T6_1_6_1.png" alt="" width="953" height="557" /></p>
<p>Podríem fins i tot definir els nostres operadors, amb la sentència <strong>CREATE OPERATOR</strong>, on definiríem el tipus de l'operador de l'esquerra, el de la dreta, la funció que implementa l'operador, ... Ho intentarem en el tema següent, quan ja sapiguem crear funcions.</p>
<p>No farem un repàs extens de tots els operadors. Només els més habituals, i algun d'un tipus de dades especial. Els tipus de dades els veurem en la tercera part d'aquest tema, quan les sentències de creació de taules.</p>
<p>Per tant, fixeu-vos sobretot en els opradors <strong>aritmètics</strong>, de <strong>cadena</strong> i de <strong>comparació</strong>.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id59">
<div class="iDevice emphasis0">
<div id="ta59_1" class="block iDevice_content">
<p class="titolet">Operadors aritmètics</p>
<table style="width: 711px; height: 56px;" border="1" bordercolor="#000000" cellpadding="0" cellspacing="0"><colgroup><col width="60" /> <col width="143" /> <col width="65" /> <col width="140" /> <col width="68" /> <col width="137" /> </colgroup>
<tbody>
<tr valign="top">
<td style="text-align: center;" width="60">
<p><b>+</b></p>
</td>
<td width="143">
<p align="justify">Suma</p>
</td>
<td style="text-align: center;" width="65">
<p><b>-</b></p>
</td>
<td width="140">
<p align="justify">Resta</p>
</td>
<td style="text-align: center;" width="68">
<p><b>*</b></p>
</td>
<td width="137">
<p align="justify">Multiplicació</p>
</td>
<td style="text-align: center;" width="68">
<p><b>/</b></p>
</td>
<td width="273">
<p align="justify">Divisió</p>
</td>
</tr>
<tr valign="top">
<td style="text-align: center;" width="60">
<p><b>^</b></p>
</td>
<td width="143">
<p align="justify">Exponenciació</p>
</td>
<td style="text-align: center;" width="65">
<p><b>|/</b></p>
</td>
<td width="140">
<p align="justify">Arrel quadrada</p>
</td>
<td style="text-align: center;" width="68">
<p><b>!</b></p>
</td>
<td width="137">
<p align="justify">Factorial</p>
</td>
<td style="text-align: center;" width="68">
<p><b>%</b></p>
</td>
<td width="273">
<p align="justify">Mòdul (rest de la divisió)</p>
</td>
</tr>
</tbody>
</table>
<p>Exemples</p>
<p class="codi">SELECT |/16;</p>
<p class="codi">SELECT 5 ^ 3;</p>
<p class="codi">SELECT 5!;</p>
<p> </p>
<p class="titolet">Operadors de cadena</p>
<table style="width: 179px; height: 27px;" border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr valign="top">
<td style="text-align: center;" width="60">
<p><b>||</b></p>
</td>
<td width="143">
<p align="justify">Concatenació</p>
</td>
</tr>
</tbody>
</table>
<p>Exemples</p>
<p class="codi">SELECT 'Data i hora actual: ' || Now();</p>
<p></p>
<p></p>
<p class="titolet">Operadors de comparació</p>
<table style="width: 711px; height: 56px;" border="1" cellpadding="0" cellspacing="0"><colgroup><col width="60" /> <col width="143" /> <col width="65" /> <col width="140" /> <col width="68" /> <col width="137" /> </colgroup>
<tbody>
<tr valign="top">
<td style="text-align: center;" width="60">
<p><b>=</b></p>
</td>
<td width="143">
<p align="justify">Igual</p>
</td>
<td style="text-align: center;" width="65">
<p><b>&lt;&gt;</b></p>
</td>
<td width="140">
<p align="justify">Distint</p>
</td>
<td style="text-align: center;" width="68">
<p><b>!=</b></p>
</td>
<td width="137">
<p align="justify">Distint</p>
</td>
<td style="text-align: center;" width="68">
<p></p>
</td>
<td width="273">
<p align="justify"></p>
</td>
</tr>
<tr valign="top">
<td style="text-align: center;" width="60">
<p><b>&gt;</b></p>
</td>
<td width="143">
<p align="justify">Major</p>
</td>
<td style="text-align: center;" width="65">
<p><b>&gt;=</b></p>
</td>
<td width="140">
<p align="justify">Major o igual</p>
</td>
<td style="text-align: center;" width="68">
<p><b>&lt;</b></p>
</td>
<td width="137">
<p align="justify">Menor</p>
</td>
<td style="text-align: center;" width="68">
<p><b>&lt;=</b></p>
</td>
<td width="273">
<p align="justify">Menor o igual</p>
</td>
</tr>
</tbody>
</table>
<p>S'utilitzen principalment en les condicions. Tornen sempre un valor booleà (true o false)</p>
<p> </p>
<p class="titolet">Operador conversor de tipus</p>
<p><b>:: <i>tipus</i></b></p>
<p>Servirà per a convertir alguna dada a algun tipus de dades.</p>
<p>Així, per exemple,</p>
<ul>
<li><b>'25-4-2012'::date</b> estem convertint una cadena de text en una dada de tipus date.</li>
<li><b>'(0,0)'::point</b> estem convertint el text a un punt.</li>
</ul>
<p>La forma utilitzada en els exemples anteriors és una forma molt habitual de posar les constants d'un determinat tipus: la posem com a cadena de caràcters (entre cometes) i després la convertim. L'única restricció serà que PostgreSQL "entenga" el que hi ha entre cometes per fer la conversió.</p>
<p>Per veure que realment hi ha un canvi ens aprofitem de DBeaver que diu de quin tipus és un camp, si pot. Observeu que en el primer camp no hem posat més que una tira de caràcters, però en el segon intentem reconvertir aquesta mateixa tira de caràcters al tipus POINT. En el resultat s'observa com ha entés que el tipus de la dada és POINT.</p>
<div style="text-align: center;"><img src="T6_1_6_2.png" alt="" width="352" height="216" /></div>
<p>També ens serviria la funció <b>point ('(0,0)')</b></p>
<p class="titolet">Operadors Geomètrics</p>
<table style="width: 100%;" border="1" cellpadding="0" cellspacing="0"><colgroup><col width="79" /> <col width="321" /> <col width="213" /> </colgroup>
<tbody>
<tr valign="top">
<td width="79">
<p align="center"><b>Operador</b></p>
</td>
<td style="width: 372px;">
<p align="left"><b>Descripció</b></p>
</td>
<td style="width: 216px;">
<p align="left"><b>Utilització</b></p>
</td>
</tr>
<tr valign="top">
<td width="79">
<p align="center">&lt;-&gt;</p>
</td>
<td style="width: 372px;">
<p align="left">Distància (han de ser del mateix tipus)</p>
</td>
<td style="width: 216px;">
<p align="left">point '(1,0)' &lt;-&gt; point '(3,0)'</p>
</td>
</tr>
<tr valign="top">
<td width="79">
<p align="center">&lt;@</p>
</td>
<td style="width: 372px;">
<p align="left">Està contingut en?</p>
</td>
<td style="width: 216px;">
<p align="left">'(1,1)'::point @ '((0,0),(2,2))'::box</p>
</td>
</tr>
<tr valign="top">
<td width="79">
<p align="center">@&gt;</p>
</td>
<td style="width: 372px;">
<p align="left">Conté?</p>
</td>
<td style="width: 216px;">
<p align="left">box '((0,0),(2,2))' @&gt; point '(1,1)'</p>
</td>
</tr>
</tbody>
</table>
<p>La llista d'operadors és molt més llarga, però ací només volem mostrar-ne algun a mode il·lustratiu.</p>
<p style="margin-bottom: 0.21cm;" align="justify">Podem fer comprovacions d'aquest tipus:</p>
<p class="codi">SELECT '(0,0)'::point &lt;-&gt; '(3,4)'::point;</p>
<p>que ens donarà la <b>distància</b> entre el punt <b>(0,0)</b> i el punt <b>(3,4)</b>. Aquesta distància ha de ser 5.</p>
<p class="codi">SELECT '(1,1)'::point &lt;@ '((0,0),2)'::circle;</p>
<p>que ens dirà si el <b>punt</b> <b>(1,1)</b> està <b>dins</b> del <b>cercle amb origen (0,0) i radi 2</b>. Com que sí que està tornarà el valor <b>true</b> (vertader).</p>
<p> </p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="5_dades_dels_exemples_i_els_exercicis.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="7_funcions.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial CompartirIgual 3.0</a></p>
</div>
</div>
</div>
</div>
</body></html>