<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ca" xml:lang="ca" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>12. Funcions d'agregat | Bases de Dades </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="ca" />
<meta name="author" content="Àlvar Serrano Calduch" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" />
<meta name="generator" content="eXeLearning 2.6 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
</head>
<body class="exe-web-site" id="exe-node-12"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<div id="header" ><div id="headerContent">Bases de Dades</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Tema 6: SQL -  Consulta bàsica (part I)</a></li>
   <li><a href="objectius_i_coneixements_previs.html" class="no-ch">Objectius i Coneixements previs</a></li>
   <li><a href="1_introducci.html" class="no-ch">1. Introducció</a></li>
   <li><a href="2_ddl_i_dml.html" class="no-ch">2. DDL i DML</a></li>
   <li><a href="3_client_dbeaver_installaci_i_confiuraci.html" class="no-ch">3. Client DBeaver: instal·lació i confiuració</a></li>
   <li><a href="4_client_dbeaver_utilitzaci.html" class="no-ch">4. Client DBeaver: utilització</a></li>
   <li><a href="5_dades_dels_exemples_i_els_exercicis.html" class="no-ch">5. Dades dels exemples i els exercicis</a></li>
   <li><a href="6_operadors.html" class="no-ch">6. Operadors</a></li>
   <li><a href="7_funcions.html" class="daddy">7. Funcions</a>
   <ul class="other-section">
      <li><a href="71_formats_de_les_dates.html" class="no-ch">7.1 Formats de les dates</a></li>
      <li><a href="72_formats_dels_nmeros.html" class="no-ch">7.2 Formats dels números</a></li>
   </ul>
   </li>
   <li><a href="8_la_consulta_select.html" class="no-ch">8. La consulta SELECT</a></li>
   <li><a href="9_consulta_bsica.html" class="daddy">9. Consulta bàsica</a>
   <ul class="other-section">
      <li><a href="exercicis.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="10_lies_en_les_columnes.html" class="daddy">10. Àlies en les columnes</a>
   <ul class="other-section">
      <li><a href="exercicis0.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="11_la_clusula_where.html" class="daddy">11. La clàusula WHERE</a>
   <ul class="other-section">
      <li><a href="exercicis1.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li id="active"><a href="12_funcions_dagregat.html" class="active daddy">12. Funcions d'agregat</a>
   <ul>
      <li><a href="exercicis2.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="13_la_clusula_group_by.html" class="daddy">13. La clàusula GROUP BY</a>
   <ul class="other-section">
      <li><a href="exercicis3.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="14_la_clusula_having.html" class="daddy">14. La clàusula HAVING</a>
   <ul class="other-section">
      <li><a href="exercicis4.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="15_la_clusula_order_by.html" class="daddy">15. La clàusula ORDER BY</a>
   <ul class="other-section">
      <li><a href="exercicis5.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="16_el_predicat_distinct.html" class="daddy">16. El predicat DISTINCT</a>
   <ul class="other-section">
      <li><a href="exercicis6.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="17_la_clusula_limit__offset.html" class="daddy">17. La clàusula LIMIT .. OFFSET</a>
   <ul class="other-section">
      <li><a href="exercicis7.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="18_consulta_de_creaci_de_taules.html" class="daddy">18. Consulta de creació de taules</a>
   <ul class="other-section">
      <li><a href="exercicis8.html" class="no-ch">Exercicis</a></li>
   </ul>
   </li>
   <li><a href="19_ordre_amb_qu_sexecuta_una_sentncia_sql.html" class="no-ch">19. Ordre amb què s'executa una sentència SQL</a></li>
   <li><a href="exercicis_de_tot_el_tema_amb_els_resultats.html" class="no-ch">Exercicis de tot el tema, amb els resultats</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="exercicis1.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="exercicis2.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">12. Funcions d'agregat</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id7">
<div class="iDevice emphasis0">
<div id="ta7_1" class="block iDevice_content">
<p> </p>
<p>Les<b> funcions d'agrega</b>t, o funcions de domini agregat, són aquelles que trauen un resultat a partir dels valors d'un determinat camp en un conjunt de files. Així tindrem una funció per a <b>sumar</b> els valors d'una columna, o <b>comptar</b>-los, o traure la <b>mitjana</b>, o el <b>màxim</b>, ...</p>
<p>Actuaran sobre un conjunt de files determinat, que en principi suposarem que és tota la taula (totes les files de la taula). En la següent pregunta, veurem que el conjunt de files sobre el qual es calcula una funció d'agregat, el podrem canviar amb la clàusula <b>GROUP BY</b>.</p>
<p class="titolet">Sintaxi</p>
<ul>
<li value="1">
<p><b>COUNT (* | &lt;expressió&gt; ) </b>: compta el número de files; si es posa una columna o expressió, no es comptaran els valors nuls.</p>
</li>
<li>
<p><b>SUM ( &lt;expressió&gt; ) </b>: torna la suma de la columna o expressió especificada. Ignora els valors nuls.</p>
</li>
<li>
<p><b>AVG ( &lt;expressió&gt; ) </b>: calcula la mitjana aritmètica de la columna o expressió especificada. Ignora els valors nuls.</p>
</li>
<li>
<p><b>VAR_SAMP ( &lt;expressió&gt; ) </b>: calcula la variància d'una mostra a partir de la columna o expressió especificada.</p>
</li>
<li>
<p><b>STDDEV ( &lt;expressió&gt; ) </b>: desviació típica d'una mostra.</p>
</li>
<li>
<p><b>MAX ( &lt;expressió&gt; ) </b>: calcula el màxim.</p>
</li>
<li>
<p><b>MIN ( &lt;expressió&gt; ) </b>: calcula el mínim.</p>
</li>
</ul>
<p>Per exemple, si volem saber el nombre d'Instituts:</p>
<div class="codiSQL">SELECT COUNT(*) AS "Nombre d'Instituts" <br />
<blockquote>FROM INSTITUTS;</blockquote>
</div>
<p><span style="text-decoration: underline;">Nota</span></p>
<p>És interessant la utilització d'àlias, per a que no apareguen capçaleres com <i><b>count</b></i></p>
<p> </p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id35">
<div class="iDevice emphasis0">
<div id="ta35_1" class="block iDevice_content">
<p class="titolet">Exemples</p>
<ol>
<li value="1">
<p>Comptar el nombre total de pobles.</p>
</li>
</ol>
<p class="codiSQL">SELECT Count(*)<br />FROM POBLACIONS;</p>
<p> </p>
<ol start="2">
<li>
<p>Comptar el nombre de poblacions de la <strong>Plana Alta</strong>.</p>
</li>
</ol>
<p class="codiSQL">SELECT Count(*)<br />FROM POBLACIONS<br />WHERE nom_c = 'Plana Alta';</p>
<p> </p>
<ol start="3">
<li>
<p>Calcular la mitjana d'habitants dels pobles de la <strong>Plana Alta </strong>i <strong>Plana Baixa</strong>.</p>
</li>
</ol>
<p class="codiSQL">SELECT AVG(poblacio)<br />FROM POBLACIONS<br />WHERE nom_c = 'Plana Alta' OR nom_c = 'Plana Baixa'</p>
<p> </p>
<ol start="4">
<li>
<p>Calcular la mitjana de densitat de les poblacions. La densitat es calcula com el número d'habitants dividit per l'extensió.</p>
</li>
</ol>
<p class="codiSQL">SELECT AVG(poblacio/extensio)<br />FROM POBLACIONS;</p>
<p> </p>
<ol start="5">
<li>
<p>Calcular l'altura màxima i mínima de tots els pobles.</p>
</li>
</ol>
<p class="codiSQL">SELECT MAX(altura), MIN(altura)<br />FROM POBLACIONS</p>
<p> </p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="exercicis1.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="exercicis2.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-sa">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial CompartirIgual 3.0</a></p>
</div>
</div>
</div>
</div>
</body></html>