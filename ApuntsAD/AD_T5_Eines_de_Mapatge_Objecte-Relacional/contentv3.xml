<?xml version="1.0" encoding="utf-8"?>

<instance xmlns="http://www.exelearning.org/content/v0.3" reference="2" version="0.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="http://www.exelearning.org/content/v0.3 content.xsd" class="exe.engine.package.Package">
 <dictionary>
  <string role="key" value="_title"></string>
  <unicode value="Accés a Dades"></unicode>
  <string role="key" value="idevices"></string>
  <list></list>
  <string role="key" value="_addPagination"></string>
  <bool value="0"></bool>
  <string role="key" value="_addSearchBox"></string>
  <bool value="0"></bool>
  <string role="key" value="_author"></string>
  <unicode value="Àlvar Serrano Calduch"></unicode>
  <string role="key" value="_backgroundImg"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextMode"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextPlace"></string>
  <unicode value=""></unicode>
  <string role="key" value="_description"></string>
  <unicode value=""></unicode>
  <string role="key" value="_docType"></string>
  <unicode value="XHTML"></unicode>
  <string role="key" value="_exportElp"></string>
  <bool value="0"></bool>
  <string role="key" value="_extraHeadContent"></string>
  <unicode value=""></unicode>
  <string role="key" value="_fieldValidationInfo"></string>
  <dictionary>
   <unicode role="key" value="all"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_title"></unicode>
     <unicode value="pp_lang"></unicode>
     <unicode value="pp_description"></unicode>
     <unicode value="pp_author"></unicode>
     <unicode value="pp_newlicense"></unicode>
    </list>
   </dictionary>
   <unicode role="key" value="procomun"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_learningResourceType"></unicode>
    </list>
    <unicode role="key" value="values_from_list"></unicode>
    <dictionary>
     <unicode role="key" value="pp_learningResourceType"></unicode>
     <list>
      <unicode value="master class"></unicode>
      <unicode value="closed exercise or problem"></unicode>
      <unicode value="real project"></unicode>
      <unicode value="didactic game"></unicode>
      <unicode value="webquest"></unicode>
      <unicode value="open problem"></unicode>
      <unicode value="simulation"></unicode>
      <unicode value="questionnaire"></unicode>
      <unicode value="conceptual map"></unicode>
     </list>
    </dictionary>
   </dictionary>
  </dictionary>
  <string role="key" value="_intendedEndUserRoleGroup"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleTutor"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_isChanged"></string>
  <bool value="0"></bool>
  <string role="key" value="_isTemplate"></string>
  <bool value="0"></bool>
  <string role="key" value="_lang"></string>
  <unicode value="ca"></unicode>
  <string role="key" value="_learningResourceType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_levelNames"></string>
  <list>
   <unicode value="Tema"></unicode>
   <unicode value="Secció"></unicode>
   <unicode value="Apartat"></unicode>
  </list>
  <string role="key" value="_name"></string>
  <unicode value="AD_T5_Eines_de_Mapatge_Objecte-Relacional"></unicode>
  <string role="key" value="_nextIdeviceId"></string>
  <int value="48"></int>
  <string role="key" value="_nextNodeId"></string>
  <int value="29"></int>
  <string role="key" value="_nodeIdDict"></string>
  <dictionary>
   <unicode role="key" value="0"></unicode>
   <instance class="exe.engine.node.Node" reference="4">
    <dictionary>
     <string role="key" value="_title"></string>
     <unicode value="Tema 5: Eines de mapatge Objecte-Relacional (ORM)"></unicode>
     <string role="key" value="idevices"></string>
     <list>
      <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="1">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Free Text"></unicode>
        <string role="key" value="_author"></string>
        <unicode value="University of Auckland"></unicode>
        <string role="key" value="_purpose"></string>
        <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
        <string role="key" value="_tip"></string>
        <string value=""></string>
        <string role="key" value="childs"></string>
        <list></list>
        <string role="key" value="content"></string>
        <instance class="exe.engine.field.TextAreaField" reference="3">
         <dictionary>
          <string role="key" value="_id"></string>
          <int value="1"></int>
          <string role="key" value="_idevice"></string>
          <reference key="1"></reference>
          <string role="key" value="_instruc"></string>
          <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
          <string role="key" value="_name"></string>
          <unicode value="Free Text"></unicode>
          <string role="key" value="anchor_names"></string>
          <list></list>
          <string role="key" value="anchors_linked_from_fields"></string>
          <dictionary></dictionary>
          <string role="key" value="buttonCaption"></string>
          <string value=""></string>
          <string role="key" value="content_w_resourcePaths"></string>
          <unicode content="true" value="&lt;p&gt;&lt;img src=&quot;resources/T5_Portada.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;800&quot; height=&quot;500&quot; /&gt;&lt;/p&gt;"></unicode>
          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
          <int value="4"></int>
          <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
          <int value="2"></int>
          <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
          <int value="3"></int>
          <string role="key" value="htmlTag"></string>
          <string value="div"></string>
          <string role="key" value="images"></string>
          <instance class="exe.engine.galleryidevice.GalleryImages">
           <dictionary>
            <string role="key" value=".listitems"></string>
            <list>
             <instance class="exe.engine.galleryidevice.GalleryImage">
              <dictionary>
               <string role="key" value="_caption"></string>
               <instance class="exe.engine.field.TextField">
                <dictionary>
                 <string role="key" value="_id"></string>
                 <int value="3865"></int>
                 <string role="key" value="_idevice"></string>
                 <none></none>
                 <string role="key" value="_instruc"></string>
                 <string value=""></string>
                 <string role="key" value="_name"></string>
                 <string value=""></string>
                 <string role="key" value="content"></string>
                 <string value=""></string>
                 <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                 <int value="4"></int>
                </dictionary>
               </instance>
               <string role="key" value="_id"></string>
               <unicode value="0_1.102"></unicode>
               <string role="key" value="_imageResource"></string>
               <instance class="exe.engine.resource.Resource" reference="5">
                <dictionary>
                 <string role="key" value="_idevice"></string>
                 <reference key="1"></reference>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="_storageName"></string>
                 <string value="T5_Portada.png"></string>
                 <string role="key" value="_userName"></string>
                 <string value="/tmp/tmp4Erftk/T5_Portada.png"></string>
                 <string role="key" value="checksum"></string>
                 <string value="2f8aeca9d8f2efa1f4ae07a7fe850d18"></string>
                 <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="warningMsg"></string>
                 <string value=""></string>
                </dictionary>
               </instance>
               <string role="key" value="_parent"></string>
               <reference key="3"></reference>
               <string role="key" value="_thumbnailResource"></string>
               <none></none>
               <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
               <int value="3"></int>
               <string role="key" value="makeThumbnail"></string>
               <bool value="0"></bool>
              </dictionary>
             </instance>
            </list>
            <string role="key" value="idevice"></string>
            <reference key="3"></reference>
           </dictionary>
          </instance>
          <string role="key" value="intlinks_to_anchors"></string>
          <dictionary></dictionary>
          <string role="key" value="nextImageId"></string>
          <int value="103"></int>
          <string role="key" value="parentNode"></string>
          <reference key="4"></reference>
         </dictionary>
        </instance>
        <string role="key" value="edit"></string>
        <bool value="0"></bool>
        <string role="key" value="emphasis"></string>
        <int value="0"></int>
        <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
        <int value="7"></int>
        <string role="key" value="icon"></string>
        <string value=""></string>
        <string role="key" value="id"></string>
        <unicode value="0"></unicode>
        <string role="key" value="lastIdevice"></string>
        <bool value="0"></bool>
        <string role="key" value="parent"></string>
        <none></none>
        <string role="key" value="parentNode"></string>
        <reference key="4"></reference>
        <string role="key" value="systemResources"></string>
        <list></list>
        <string role="key" value="type"></string>
        <none></none>
        <string role="key" value="undo"></string>
        <bool value="1"></bool>
        <string role="key" value="userResources"></string>
        <list>
         <reference key="5"></reference>
        </list>
        <string role="key" value="version"></string>
        <int value="0"></int>
       </dictionary>
      </instance>
     </list>
     <string role="key" value="_id"></string>
     <unicode value="0"></unicode>
     <string role="key" value="_package"></string>
     <reference key="2"></reference>
     <string role="key" value="anchor_fields"></string>
     <list></list>
     <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
     <int value="2"></int>
     <string role="key" value="exportType"></string>
     <string value="website"></string>
     <string role="key" value="last_full_node_path"></string>
     <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29"></string>
     <string role="key" value="parent"></string>
     <none></none>
     <string role="key" value="top_anchors_linked_from_fields"></string>
     <list></list>
     <string role="key" value="children"></string>
     <list>
      <instance class="exe.engine.node.Node" reference="8">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="1 - Introducció"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="6">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="7">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="6"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Ja hem vist que a través de JDBC podem connectar fàcilment a Bases de Dades Relacionals. Però tenim el problema del desfasament Objecte-Relacional. Com que en Java i Kotlin utilitzem objectes, ha d'haver una part important de programació en la conversió d'aquestos objectes a taules, per a que es puguen guardar de forma permanent. Això ho hem intentat comprovar en l'&lt;strong&gt;exercici 4.4&lt;/strong&gt;, destinat a fer la classe &lt;strong&gt;GestionarRutesBD&lt;/strong&gt; de manera que siga transparent la persistència de les dades a qui utilitza aquesta classe. Sobre un exemple molt senzill, hem vist que la traducció entre els objectes i únicament dues taules, ja suposava una miqueta de esforç. Podem veure per tant que en una aplicació una miqueta més complicada, fer la traducció entre objectes i taules és una feina que es pot fer, però que costarà prou.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Les eines de &lt;strong&gt;mapatge objecte-relacional&lt;/strong&gt; (&lt;strong&gt;ORM&lt;/strong&gt;: Object-Relational Mapping) intenten minimitzar tant com siga possible el desfasament objecte-relacional, automatitzant el procés de traspàs d’un sistema a l’altre.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En certa manera podríem dir que implementen una Base de Dades Orientada a Objectes virtual perquè aporten característiques pròpies del paradigma OO, però el substrat on s’acaben guardant els objectes és un SGBD Relacional. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="7"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="8"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="1"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="8"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="1"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:1%20-%20Introducci%C3%B3"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="11">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="2 - Concepte de mapatge objecte-relacional"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="9">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="10">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="9"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Les eines de mapatge objecte-relacional automatitzen els processos necessaris d’intercanvi de dades entre Sistemes Orientats a Objectes (OO) i Sistemes Relacionals.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_2_1.png&quot; alt=&quot;T5_2_1&quot; width=&quot;709&quot; height=&quot;412&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per tant ens ajuden a salvar el desfasament Objecte-Relacional de forma molt còmoda.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;L’automatització s’aconsegueix gràcies a un conjunt de metadades que descriuen quin procés cal utilitzar i quina correspondència hi ha entre les dades primitives d’ambdós sistemes i les estructures que les suporten.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La descripció més senzilla que han de fer les metadades és la d’establir una correspondència directa entre classes i taules, i a nivell més bàsic entre els atributs de tipus primitius i els camps o columnes. També caldrà identificar l’atribut corresponent al camp que actuarà com a clau primària.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Lamentablement, no sempre es podrà establir aquest tipus de correspondències directes i caldrà que les metadades puguen expressar molta més complexitat. Aquestos són alguns dels problemes que ens podem trobar:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;A vegades pot interessar guardar una propietat en més d’una columna o unes quantes propietats en una columna única.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Pot haver propietats que no es guarden i camps guardats que no es vegen reflectits als objectes.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Quan els atributs no siguen tipus de dades primitius caldrà saber també si haurem de guardar les dades en una taula diferent o en la mateixa taula i, en cas de que siga en taules diferents, quins atributs haurem de fer servir com a claus externes, qui tindrà la responsabilitat de realitzar l’emmagatzematge, etc. &lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3850"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="2_1.101"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="12">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="9"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_2_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_2_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="2e64371ec3d38608bd6d6356c92c0444"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="10"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="10"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="102"></int>
             <string role="key" value="parentNode"></string>
             <reference key="11"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="2"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="11"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="12"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="2"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:2%20-%20Concepte%20de%20mapatge%20objecte-relacional"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="15">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="3 - Eines de mapatge"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="13">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="14">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="13"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Actualment hi ha moltes eines de mapatge en el mercat. Existeixen eines de mapatge per a la major part de llenguatges orientats a objectes &lt;acronym title=&quot;Hypertext Preprocessor&quot;&gt;PHP&lt;/acronym&gt;, Objective-C, C++, SmallTalk i evidentment Java/Kotlin.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Bàsicament són eines en les quals podem distingir tres aspectes conceptuals clarament diferenciats:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Un sistema per expressar el mapatge entre les classes i l’esquema de la Base de Dades,&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Un llenguatge de consulta orientat a objectes (que en realitat accedirà a les taules) i per tant ens permetrà salvar el desfasament O-R&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Un nucli funcional que possibilita la sincronització dels objectes persistents de l’aplicació amb la Base de Dades. &lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="14"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="4"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="16">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="17">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="16"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tècniques de mapatge&lt;/p&gt;
&lt;p&gt;Entre les tècniques que aquestes eines fan servir per plasmar els mapes O-R, destaquem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les que incrusten les definicions dins el codi de les classes&lt;/li&gt;
&lt;li&gt;Les que guarden les definicions en fitxers independents.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les primeres solen ser tècniques molt vinculades al llenguatge de programació, així per exemple, en C++ se solen fer servir macros i en Java/Kotlin s’utilitzen &lt;strong&gt;anotacions&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Les tècniques de definició basades en fitxers independents del codi solen utilitzar el format &lt;strong&gt;&lt;acronym title=&quot;Extensible Markup Language&quot;&gt;XML&lt;/acronym&gt;&lt;/strong&gt;, perquè és un llenguatge molt expressiu i fàcilment extensible.&lt;/p&gt;
&lt;p&gt;La major part d’eines accepten les dues tècniques de mapatge anteriors, i fins i tot permeten la convivència dins d'una mateixa aplicació.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les tècniques que utilitzen el propi llenguatge de programació per incrustar el mapatge dins el codi presenten una corba d’aprenentatge més baixa per a desenvolupadors experimentats en el llenguatge amfitrió, però per contra no serà possible aprofitar les definicions si es decideix canviar de llenguatge de programació.&lt;/li&gt;
&lt;li&gt;En canvi, fent servir les tècniques basades en &lt;acronym title=&quot;Extensible Markup Language&quot;&gt;XML&lt;/acronym&gt; sí que es poden reutilitzar les definicions per a diferents llenguatges, sempre que l’eina utilitzada estiga disponible en el llenguatge de programació requerit o bé si el format de les definicions segueix alguna especificació estàndard.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A hores d'ara és difícil dir per on s'encaminaran els estàndards. Això sí, la major part d’eines utilitzen una sintaxi prou similar per a expressar les definicions del mapatge, encara que òbviament sempre hi ha diferències que no els fan del tot compatibles. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="17"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="5"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="18">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="19">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="18"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Llenguatges de consulta&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;El llenguatge de consulta més utilitzat per la major part d’eines és el llenguatge anomenat &lt;strong&gt;OQL&lt;/strong&gt; (&lt;strong&gt;Object Query Language&lt;/strong&gt;) o una variant del mateix. Es tracta d’un llenguatge especificat per l’ODMG. Presenta molta similitud amb &lt;acronym title=&quot;Structured Query Language&quot;&gt;SQL&lt;/acronym&gt;, ja que que els dos són llenguatges d’interrogació no procedimental, però l’OQL està totalment orientat a objectes. És a dir, en la consulta fem servir la sintaxi pròpia dels objectes i els resultats obtinguts retornen objectes o col·leccions d’objectes.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Es tracta del llenguatge d’interrogació que també utilitzen moltes bases de dades orientades a objecte, la qual cosa el fa un dels estàndards més populars i coneguts. Hi ha altres llenguatges de consulta orientats a objectes, però no tan estesos com OQL. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="19"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="6"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="20">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="21">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="20"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tècniques de sincronització&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La sincronització amb la base de dades és segurament un dels aspectes més crítics de les eines de mapatge. Solen ser processos molt complexos, on trobem implicades sofisticades tècniques de programació per a poder descobrir els canvis que van patint els objectes (i així poder guardar-los), a crear i inicialitzar les noves instàncies que calga posar en joc dins l’aplicació d’acord amb les dades guardades o també a extreure la informació dels objectes per revertir-la a les taules del SGBD.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aquest és probablement l’aspecte que més diferencia les eines entre elles. Les principals tècniques utilitzades són la precompilació, la postcompilació i la reflexió. El llenguatge de programació suportat per l’eina influirà moltíssim en les solucions adoptades per resoldre la sincronització. Per exemple, C++ admet precompilació, però no reflexió, mentre que Java/Kotlin admet postcompilació i reflexió.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;JDO&lt;/strong&gt; (&lt;strong&gt;Java Data Objects&lt;/strong&gt;) és un estàndard de persistència per a Java (i per tant per a Kotlin) desenvolupat per Apache. El projecte inclou, a més de l’especificació de l’estàndard, el desenvolupament d’un marc de persistència basat en la postcompilació. Aquesta tècnica consisteix en realitzar dues compilacions a les classes que requereixen persistència. La primera, realitzada pel jdk, generarà els &lt;em&gt;bytecode&lt;/em&gt; estàndards (és a dir els &quot;executables&quot; de Java/Kotlin, els que es poden executar en la màquina virtual Java). La segona compilació, fent servir les indicacions descrites en els documents de mapatge, modificarà els &lt;em&gt;bytecode&lt;/em&gt; generats i hi afegirà nova funcionalitat necessària per dur a terme la persistència d’una forma transparent.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;JPA&lt;/strong&gt; (&lt;strong&gt;Java Persistence API&lt;/strong&gt;) és també un estàndard de persistència. Es troba incorporat en el &lt;acronym title=&quot;Java Development Kit&quot;&gt;JDK&lt;/acronym&gt; des de la versió 5. Hi ha diverses biblioteques que el suporten, totes elles basades en el principi de la reflexió. Java és un llenguatge que en compilar les classes incorpora metadades amb informació pròpia de la classe, com ara l’estructura de dades interna, els mètodes que tinga disponibles, els paràmetres necessaris per invocar els mètodes, etc. La màquina virtual permet fer servir aquestes metadades per accedir a la informació real guardada en els objectes, per invocar algun dels seus mètodes, per construir noves instàncies, etc.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La postcompilació, usada per JDO, presenta l’avantatge de ser més eficient, ja que incrusta codi compilat directament allà on cal, mentre que la tècnica de la reflexió ha d’anar llegint les metadades i interpretant la manera d’executar adequadament les ordres desitjades.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Malauradament, JDO no ha acabat de quallar i poques iniciatives comercials l’han seguit. Per contra JPA, és la tècnica que han utilitzat els dos gegants fortament implantats (Hibernate i EJB). Tot sembla apuntar que serà l’escollit per cobrir l’estandardització de la persistència en Java/Kotlin. &lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En aquestos apunts utilitzarem &lt;strong&gt;Hibernate&lt;/strong&gt;, que es basa en JPA.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="21"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="7"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="3"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:3%20-%20Eines%20de%20mapatge"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="24">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="4 - Arquitectura Hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="22">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="23">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="22"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;El producte que utilitzarem serà &lt;strong&gt;Hibernate&lt;/strong&gt;. Aquesta eina ens permetrà fer el mapatge entre objectes i les taules d'una Base de Dades. Aquestos objectes seran senzills, d'aquells que només tenen les propietats, i mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt; per a accedir a elles.&lt;/p&gt;
&lt;p&gt;Per a intercanviar la informació entre aquestos objectes i la Base de Dades, utilitzarem la classe &lt;strong&gt;Session&lt;/strong&gt; (que seria l'equivalent de &lt;strong&gt;Connection&lt;/strong&gt; de JDBC). Aquesta classe ens proporciona els mètodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;save(&lt;em&gt;objecte&lt;/em&gt;) &lt;/strong&gt;, que guardarà l'objecte en la Base de Dades&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;createQuery(&lt;em&gt;consulta&lt;/em&gt;) &lt;/strong&gt;, que crearà una consulta&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;beginTransaction() &lt;/strong&gt;, que començarà una transacció&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;close()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Amb açò, interactuar amb la Base de Dades serà molt senzill, i no farà falta executar sentències SQL, tal i com ens passava en JDBC.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Session&lt;/strong&gt; no consumeix molta memòria i la seua creació i destrucció és molt barata, cosa que ens pot animar a crear (i destruir) una sessió per a cada accés a la Base de Dades. Ho anirem veient.&lt;/p&gt;
&lt;p&gt;El context que ens fa falta per a una aplicació serà:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Configuration&lt;/strong&gt;. S'utilitza per a configurar Hibernate. L'aplicació utilitza una instància de Configuration per a especificar la ubicació dels documents que descriuen el mapatge i també per a especificar propietats específiques d'Hibernate. A partir de Configuration es crearà el &lt;strong&gt;SessionFactory&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SessionFactory&lt;/strong&gt;. Permet construir instàncies &lt;strong&gt;Session&lt;/strong&gt;. Normalment utilitzarem només un SessionFactory en tota l'aplicació, i d'ell traurem totes les sessions que ens facen falta, a no ser que ens toque accedir a més d'una Base de Dades, on aleshores tindrem una SessionFactory per cada Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Session&lt;/strong&gt;. Com ja hem comentat representa una connexió a la Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Query&lt;/strong&gt;. Permet realitzar consultes a la Base de Dades. El llenguatge utilitzat serà &lt;strong&gt;HQL&lt;/strong&gt; (Hibernate Query Language) o el SQL del SGBD, però preferiblement utilitzarem el primer. Es construeix a partir d'un &lt;strong&gt;Session&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Transaction&lt;/strong&gt;. Permet assegurar que es fan totes les actualitzacions o cap d'elles. De pas ens assegura que en cas d'error en mig d'una transacció, no es faça cap de les operacions. També es construeix a partir d'un &lt;strong&gt;Session&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_4_2.jpg&quot; alt=&quot;T5_4_2&quot; width=&quot;460&quot; height=&quot;446&quot; /&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3852"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="8_1.101"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="25">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="22"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_4_2.jpg"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_4_2.jpg"></string>
                    <string role="key" value="checksum"></string>
                    <string value="c01846a4e974bd8d947c44f1094b42c0"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="23"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="23"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="102"></int>
             <string role="key" value="parentNode"></string>
             <reference key="24"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="8"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="24"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="25"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="4"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:4%20-%20Arquitectura%20Hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="28">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="5 - Connexió a Hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="26">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="27">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="26"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Des d'&lt;strong&gt;IntelliJ Idea&lt;/strong&gt; no cal cap tipus d'instal·lació. Això sí, haurem d'utilitzar la versió &lt;strong&gt;ULTIMATE&lt;/strong&gt; per a poder fer projectes que connecten a Hibernate.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Concretament seran projectes de tipus &lt;strong&gt;Jakarta EE&lt;/strong&gt;, que és l'evolució de &lt;strong&gt;Java Enterprise&lt;/strong&gt;, i com dèiem només estan disponibles en la versió &lt;strong&gt;Ultimate&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Durant aquest tema, cada connexió a una Base de Dades la farem en un projecte diferent, al contrari que en temes anteriors, on ho vam col·locar tot en el mateix projecte.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aquestos projectes seran a més de tipus &lt;strong&gt;Maven&lt;/strong&gt;, que es caracteritzen per no haver d'incorporar les dependències (Drivers) a mà, sinó que es reflecteixen automàticament en un fixter &lt;strong&gt;pom.xml&lt;/strong&gt;, i ell s'encarrega de baixar tots els drivers necessaris. Ho farem així perquè, a diferència del que hem fet fins ara que hi havia pocs drivers a incorporar, per a &lt;strong&gt;Hibernate&lt;/strong&gt; seran molts .jar, per tant és molt més còmode un projecte Maven, que ell s'encarregarà de baixartots els drivers necessaris&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt; Els passos a seguir en cada projecte seran sempre els mateixos:&lt;/p&gt;
&lt;ul style=&quot;text-align: justify;&quot;&gt;
&lt;li&gt;Crear un projecte de tipus &lt;strong&gt;Jakarta EE &lt;/strong&gt;(en versions anterior, &lt;strong&gt;Java Enterprise&lt;/strong&gt;), amb la implementació de &lt;strong&gt;JPA&lt;/strong&gt; per &lt;strong&gt;Hibernate&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Crear la connexió a la Base de Dades&lt;/li&gt;
&lt;li&gt;Afegir la configuració de persistència d'Hibernate, per a generar el fitxer &lt;strong&gt;hiernate.cfg.xml&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Mapejar les taules a classes&lt;/li&gt;
&lt;li&gt;Incorporar el Driver del SGBD a utilitzar (PostgreSQL en l'exemple)&lt;/li&gt;
&lt;li&gt;Acabar de configurar el fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;El següent vídeo explica tot el procés de creació del projecte.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;iframe width=&quot;1000&quot; height=&quot;643&quot; src=&quot;https://slides.com/alvarinstitut/ad-t5-connexiohibernate/embed?style=light&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; webkitallowfullscreen=&quot;webkitallowfullscreen&quot; mozallowfullscreen=&quot;mozallowfullscreen&quot; allowfullscreen=&quot;allowfullscreen&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En versions anteriors, en el fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt; no es guardava usuari ni contrasenya, i després li feia falta el dialecte de PostgreSQL. Concretament s'havien d'afegir les següents línies:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-markup&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;property name=&quot;connection.username&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;
    &amp;lt;property name=&quot;connection.password&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;
    &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.PostgreSQL93Dialect&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;I observeu que en aquest exemple hem optat per incorporar el Driver directament, ja que el teníem des del tema passat. Podríem haver optat també per incorporar-lo a l'estil Maven, que seria senzillament incorporar en el fitxer &lt;strong&gt;pom.xml &lt;/strong&gt;en l'apartat de &lt;strong&gt;&amp;lt;dependencies&amp;gt;&lt;/strong&gt; la següent. Atenció: si ja heu incorporat el Driver de PostgreSQL al projecte, no cal que fey el que va a continuació&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-markup&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.postgresql&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;postgresql&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;42.2.24&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;I aquestes són les dades de connexió a la Base de  Dades &lt;strong&gt;geo_ad &lt;/strong&gt; de &lt;strong&gt;PostgreSQL&lt;/strong&gt;:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_1.png&quot; alt=&quot;&quot; width=&quot;707&quot; height=&quot;659&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Si la connexió fóra a &lt;strong&gt;MySQL &lt;/strong&gt;la BD &lt;strong&gt;factura&lt;/strong&gt;, recordem que les dades de connexió serien:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2.1.png&quot; alt=&quot;&quot; width=&quot;733&quot; height=&quot;696&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;I fins i tot podem mapejar les taules d'una Base de Dades &lt;strong&gt;SQLite&lt;/strong&gt;, amb una connexió com aquesta:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_3.1.png&quot; alt=&quot;&quot; width=&quot;820&quot; height=&quot;659&quot; /&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3853"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.283"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="29">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_5_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="1a3941bd258e1ea2b1d04083105d1e09"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3859"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.284"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="30">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_2.1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_5_2.1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="31c9a2070f8f61bf9b81dc3ed936a5c7"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3863"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.285"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="31">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_3.1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_5_3.1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="977fa6508c0c95278888670edb3d0b66"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="27"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="286"></int>
             <string role="key" value="parentNode"></string>
             <reference key="28"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="9"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="28"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="29"></reference>
            <reference key="30"></reference>
            <reference key="31"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="5"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Connexi%C3%B3%20a%20Hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="34">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.1 - HQL: consultes senzilles"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="32">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="33">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="32"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Podem provar consultes senzilles de HQL, que és el llenguatge propi de HQL, paregut a SQL, però utilitzant objectes.&lt;/p&gt;
&lt;p&gt;Ho podem fer obrint una consola d'Hibernate, des de la finestra de Persistència, dins de la configuració d'&lt;strong&gt;Hibernate&lt;/strong&gt; sobre &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, i amb el botó de la dreta triar &lt;strong&gt;Console&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_1_1.png&quot; alt=&quot;&quot; width=&quot;1350&quot; height=&quot;791&quot; /&gt;&lt;/p&gt;
&lt;p&gt;S'obrirà un apartat a la part de baix, i com que la connexió és sobre la que havíem fet en la Base de Dades, si en la finestra &lt;strong&gt;Database &lt;/strong&gt; estem connectats, podrem fer les consultes &lt;strong&gt;HQL&lt;/strong&gt;. La primera podria ser aquesta &lt;strong&gt;from Comarca&lt;/strong&gt;. Hem de respectar escrupulosament majúscules i minúscules, ja que en definitiva estem accedint a les classes Java.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_1_2.png&quot; alt=&quot;&quot; width=&quot;1370&quot; height=&quot;809&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Un altre exemple, on es veu que hem de respectar la sintaxi dels objectes (no de les taules)&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_1_3.png&quot; alt=&quot;&quot; width=&quot;1370&quot; height=&quot;809&quot; /&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3858"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.347"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="35">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="32"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_1_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_5_1_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="06692625ef461790b5926be94f6ae86e"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="33"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3862"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.348"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="36">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="32"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_1_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_5_1_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="784de883a7ed08d4b5a41ba45bf15c96"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="33"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3866"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.349"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="37">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="32"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_1_3.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_5_1_3.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="cf14390307371a8864980ca3d3f2e953"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="33"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="33"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="350"></int>
                <string role="key" value="parentNode"></string>
                <reference key="34"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="11"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="34"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="35"></reference>
               <reference key="36"></reference>
               <reference key="37"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="7"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Connexi%C3%B3%20a%20Hibernate:5.1%20-%20HQL%3A%20consultes%20senzilles"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="40">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.2 - Començant a programar"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="38">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="39">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="38"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Com que hem fet un projecte Maven, totes les llibreries necessàries estaran ja incorporades.&lt;/p&gt;
&lt;p&gt;I si ja hem incorporat el Driver de PostgreSQL, bé directament tal com feem en el Tema 4, bé incorporant la dependència en el fitxer pom.xml, aleshores ja estem en condicions de començar a programar.&lt;/p&gt;
&lt;p&gt;Tots els programes que farem, els posarem dins del paquet &lt;strong&gt;exemples&lt;/strong&gt;, que ha d'estar dins de &lt;strong&gt;src -&amp;gt; main -&amp;gt; kotlin&lt;/strong&gt;. Aquest primer programa el podem guardar amb el nom &lt;strong&gt;Exemple_01_PrimerAcces.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import classes.Comarca

fun main(args: Array&amp;lt;String&amp;gt;) {
    val sf = Configuration().configure().buildSessionFactory()
    val sessio = sf.openSession()
    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Alt Maestrat&quot;) as Comarca
    print(&quot;Comarca &quot; + com.nomC + &quot;: &quot;)
    print(com.provincia)
    println(&quot; (&quot; + com.poblacions.size + &quot; pobles)&quot;)
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;L'execució ens haurà donat molts avisos, que són un poc pesats, però l'execució (la línia en negre quasi al final) ha eixit bé&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2_1.png&quot; alt=&quot;&quot; width=&quot;1208&quot; height=&quot;507&quot; /&gt;&lt;/p&gt;
&lt;p&gt;El programa a carregat la comarca de l'Alt Maestrat, i ens ha dit la província i el número de pobles&lt;/p&gt;
&lt;p&gt;Anem a llevar aquetsos missatge, que són únicament de INFO. Senzillament li direm que mostre únicament els errors &lt;strong&gt;severs&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aprofitarem per a canviar un poc el programa, i ara traurem també el nom dels pobles de la comarca Alt Maestrat. Així veiem també el potencial, ja que és comodíssim accedir els pobles de la comarca. Guardeu el següent programa amb el nom &lt;strong&gt;Exemple_02_SegonAcces.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Alt Maestrat&quot;) as Comarca
    print(&quot;Comarca &quot; + com.nomC + &quot;: &quot;)
    print(com.provincia)
    println(&quot; (&quot; + com.poblacions.size + &quot; pobles)&quot;)

    for (p in com.poblacions)
        println(&quot;\t&quot; + p.nom)
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I aquest serà el resultat:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T5_5_2_3.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;604&quot; height=&quot;310&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3854"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="12_1.107"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="41">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="38"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_2_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_5_2_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="bcdabdc38943cf11f5136a19277fd26c"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="39"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3860"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="12_1.108"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="42">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="38"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_2_3.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_5_2_3.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="dc35764e2c346e2502ba4f1a6f77efaf"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="39"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="39"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="109"></int>
                <string role="key" value="parentNode"></string>
                <reference key="40"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="12"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="40"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="41"></reference>
               <reference key="42"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="8"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Connexi%C3%B3%20a%20Hibernate:5.2%20-%20Comen%C3%A7ant%20a%20programar"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="45">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="6 - Classes generades"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="43">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="44">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="43"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Comentem les classe que ha generat automàticament Hibernate.&lt;/p&gt;
&lt;p&gt;Són classes &lt;strong&gt;Java&lt;/strong&gt;. Podríem traduir-les perfectament a Kotlin. Però optarem per no canviar-les per fer el procés més senzill.&lt;/p&gt;
&lt;p&gt;Posarà una propietat per cada camp de la taula, i alguna cosa més com veurem més endavant. També posarà un mètode &lt;strong&gt;get&lt;/strong&gt; i un &lt;strong&gt;set&lt;/strong&gt; per a cada propietat, ja que les propietats seran &lt;strong&gt;private&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;A continuació mostrem 2 de les classes. En el cas de &lt;strong&gt;Poblacio.java&lt;/strong&gt; no hem posat tots els mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt;, ja que sempre són com cabria esperar. I en roig teniu el més destacable.&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;span&gt;&lt;strong&gt;Comarca.java&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;span&gt;&lt;strong&gt;Poblacio.java&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot; style=&quot;margin-left: 0.05in; margin-right: 0.05in;&quot;&gt;
&lt;p&gt;package classes;&lt;/p&gt;
&lt;p&gt;import java.util.Collection;&lt;/p&gt;
&lt;p&gt;public class Comarca {&lt;br /&gt;    private String nomC;&lt;br /&gt;    private String provincia;&lt;br /&gt;    &lt;span style=&quot;color: #ff0000;&quot;&gt;private Collection&amp;lt;Poblacio&amp;gt; poblacions;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    public String getNomC() {&lt;br /&gt;        return nomC;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setNomC(String nomC) {&lt;br /&gt;        this.nomC = nomC;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public String getProvincia() {&lt;br /&gt;        return provincia;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setProvincia(String provincia) {&lt;br /&gt;        this.provincia = provincia;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    @Override&lt;br /&gt;    public boolean equals(Object o) {&lt;br /&gt;        ...&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    @Override&lt;br /&gt;    public int hashCode() {&lt;br /&gt;        ...&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public Collection&amp;lt;Poblacio&amp;gt; getPoblacions() {&lt;br /&gt;        return poblacions;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setPoblacions(Collection&amp;lt;Poblacio&amp;gt; poblacions) {&lt;br /&gt;        this.poblacions = poblacions;&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot; style=&quot;margin-left: 0.05in; margin-right: 0.05in;&quot;&gt;
&lt;p&gt;package classes;&lt;/p&gt;
&lt;p&gt;import java.math.BigDecimal;&lt;br /&gt;import java.util.Collection;&lt;/p&gt;
&lt;p&gt;public class Poblacio {&lt;br /&gt;    private int codM;&lt;br /&gt;    private String nom;&lt;br /&gt;    private Integer poblacio;&lt;br /&gt;    private BigDecimal extensio;&lt;br /&gt;    private Integer altura;&lt;br /&gt;    private String longitud;&lt;br /&gt;    private String latitud;&lt;br /&gt;    private String llengua;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;    private Collection&amp;lt;Institut&amp;gt; instituts;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;    private Comarca comarca;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    public int getCodM() {&lt;br /&gt;        return codM;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setCodM(int codM) {&lt;br /&gt;        this.codM = codM;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    ...&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;    public Collection&amp;lt;Institut&amp;gt; getInstituts() {&lt;br /&gt;        return instituts;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setInstituts(Collection&amp;lt;Institut&amp;gt; instituts) {&lt;br /&gt;        this.instituts = instituts;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public Comarca getComarca() {&lt;br /&gt;        return comarca;&lt;br /&gt;    }&lt;/p&gt;
&lt;p&gt;    public void setComarca(Comarca comarca) {&lt;br /&gt;        this.comarca = comarca;&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Sens dubte, el més destacable de la classe &lt;strong&gt;Comarca&lt;/strong&gt; és que en les propietats, posa també una &lt;strong&gt;col·lecció d'objectes Poblacio&lt;/strong&gt;. Açò ens permetrà accedir comodíssimament a les poblacions d'una determinada comarca. Aquest conjunt sempre l'intenta anomenar com la classe a què fa referència, però en plural (en el nostre cas seria &lt;strong&gt;poblacios&lt;/strong&gt;) encara que en el moment de dissenyar el mapatge podem canviar aquest nom. Una col·lacció (&lt;strong&gt;Collection&lt;/strong&gt;) té un comportament relativament senzill per a accedir als seus elements.&lt;/p&gt;
&lt;p&gt;En la classe &lt;strong&gt;Poblacio&lt;/strong&gt;, tindrem les propietats que cabria esperar. I la referència a la comarca és un objecte de la classe &lt;strong&gt;Comarca&lt;/strong&gt;. També tindrà un conjunt d'objectes &lt;strong&gt;Institut&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Per tant, i en resum, una cosa molt útil que fa Hibernate quan troba una clau externa, és posar en la classe corresponent a la taula on està la clau externa una propietat de la classe corresponent a la taula principal (cosa que en principi cabria esperar); però també en la classe corresponent a la taula principal, un conjunt d'objectes de la classe corresponent a l'altra taula, la qual cosa ens permetrà accedir fàcilment.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="44"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="45"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="15"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="45"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="11"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:6%20-%20Classes%20generades"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="48">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="7 - Estructura dels fitxers de mapatge"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="46">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="47">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="46"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;En la pregunta 5.1 havíem vist les classes generades per Hibernate. Anem a veure-ho ara amb més detall, mirant totes les classes i fitxers generades en el procés de mapatge i com s'interrelacionen entre elles.&lt;/p&gt;
&lt;p&gt;Els fitxers que serveixen de mapatge, Hibernate els genera de tipus &lt;strong&gt;XML&lt;/strong&gt;, i seran:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, ja comentat anteriorment i que estableix les condicions bàsiques de la connexió amb la Base de Dades (Driver, URL, usuari, contrasenya, ...).&lt;/li&gt;
&lt;li&gt;Un fitxer &lt;strong&gt;.hbm.xml&lt;/strong&gt; per cada taula (i classe). Així en el nostre exemple tindrem &lt;strong&gt;Comarques.hbm.xml&lt;/strong&gt;, &lt;strong&gt;Poblacions.hbm.xml &lt;/strong&gt;i &lt;strong&gt;Instituts.hbm.xml&lt;/strong&gt; i són els encarregats de dir la correspondència entre els camps de la taula (p.e. COMARCA) i les propietats de l'objecte (p.e. Comarca.java).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La següent imatge explica aquesta manera d'enllaçar. Les nostre classes són classes Kotlin, però totalment equivalents a les classes Java, per això es deixa aquest nom en la imatge:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_7_1.png&quot; style=&quot;border-width: 1px;&quot; width=&quot;755&quot; height=&quot;776&quot; /&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;El fitxer hibernate.cfg.xml&lt;/p&gt;
&lt;p&gt; El fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt; estableix les condicions de la connexió. Depenent de la versió, pot estar lleugerament diferent:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;&amp;lt;?xml version='1.0' encoding='utf-8'?&amp;gt;&lt;br /&gt;&amp;lt;!DOCTYPE hibernate-configuration PUBLIC&lt;br /&gt;&quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;&lt;br /&gt;&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&amp;gt;&lt;br /&gt;&amp;lt;hibernate-configuration&amp;gt;&lt;br /&gt;  &amp;lt;session-factory&amp;gt;&lt;br /&gt;    &amp;lt;property name=&quot;connection.url&quot;&amp;gt;jdbc:postgresql://89.36.214.106:5432/geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;    &amp;lt;property name=&quot;connection.driver_class&quot;&amp;gt;org.postgresql.Driver&amp;lt;/property&amp;gt;&lt;br /&gt;    &amp;lt;property name=&quot;connection.username&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;    &amp;lt;property name=&quot;connection.password&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;    &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.PostgreSQL93Dialect&amp;lt;/property&amp;gt;&lt;br /&gt;    &amp;lt;mapping resource=&quot;Comarca.hbm.xml&quot;/&amp;gt;&lt;br /&gt;    &amp;lt;mapping resource=&quot;Institut.hbm.xml&quot;/&amp;gt;&lt;br /&gt;    &amp;lt;mapping resource=&quot;Poblacio.hbm.xml&quot;/&amp;gt;&lt;br /&gt;  &amp;lt;/session-factory&amp;gt;&lt;br /&gt;&amp;lt;/hibernate-configuration&amp;gt;&lt;/div&gt;
&lt;p&gt;Podem observar com s'especifica el driver JDBC, la URL, l'usuari que es connecta, la contrasenya i el dialecte (per a poder comunicar-se bé en versions anteriors). També ha registrat els fitxers de mapatge.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Els fitxers .hbm.xml&lt;/p&gt;
&lt;p&gt;Els fitxers &lt;strong&gt;.hbm.xml&lt;/strong&gt; estableixen la correspondència entre taula i classe, i dins d'elles entre camps de la taula i propietats de la classe. Mirem el contingut de &lt;strong&gt;Comarques.hbm.xml&lt;/strong&gt;. Posem a un costat l'estructura de la taula, i a l'altre l'estructura de l'objecte:&lt;/p&gt;
&lt;table width=&quot;1296&quot; height=&quot;627&quot; border=&quot;1&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 316.167px;&quot;&gt;&lt;strong&gt;Taula COMARCA&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 441.233px;&quot;&gt;&lt;strong&gt;Comarca.hbm.xml&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 517.267px;&quot;&gt;&lt;strong&gt;Comarca.java&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;background-color: #ffffff; width: 316.167px;&quot;&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #808080;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;TABLE COMARCA (&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #808080;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;    nom_c VARCHAR(50) PRIMARY KEY,&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #808080;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;    provincia VARCHAR(25)&lt;/span&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #808080;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt; );&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td style=&quot;background-color: #ffffff; width: 441.233px;&quot;&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&amp;lt;?xml version='1.0' encoding='utf-8'?&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&amp;lt;!DOCTYPE hibernate-mapping PUBLIC&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&amp;lt;hibernate-mapping&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;   &amp;lt;class name=&quot;classes.Comarca&quot; table=&quot;comarca&quot; schema=&quot;public&quot; catalog=&quot;geo_ad&quot;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;      &amp;lt;id name=&quot;nomC&quot; column=&quot;nom_c&quot;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;      &amp;lt;property name=&quot;provincia&quot; column=&quot;provincia&quot;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;      &amp;lt;set name=&quot;poblacions&quot; inverse=&quot;true&quot; order-by=&quot;nom&quot;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;         &amp;lt;key&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;            &amp;lt;column name=&quot;nom_c&quot; not-null=&quot;true&quot;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;         &amp;lt;/key&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;         &amp;lt;one-to-many not-found=&quot;ignore&quot; class=&quot;classes.Poblacio&quot;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;      &amp;lt;/set&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;   &amp;lt;/class&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;&amp;lt;/hibernate-mapping&amp;gt;&lt;/span&gt;&lt;/td&gt;
&lt;td style=&quot;background-color: #ffffff; width: 517.267px;&quot;&gt;&lt;span style=&quot;font-size: small; font-family: courier new, courier, monospace; color: #808080;&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/span&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;package classes;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;import java.util.Collection;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;public class Comarca {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    private String nomC;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    private String provincia;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    private Collection&amp;lt;Poblacio&amp;gt; poblacions;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public String getNomC() { &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;return nomC; &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public void setNomC(String nomC) {&lt;/span&gt; &lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;this.nomC = nomC; &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public String getProvincia() {&lt;/span&gt; &lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;return provincia; &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public void setProvincia(String provincia) {&lt;/span&gt; &lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;this.provincia = provincia; &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    @Override&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public boolean equals(Object o) {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; font-size: 8pt;&quot;&gt;        ...&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    }&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    @Override&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public int hashCode() {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;        ...&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    }&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public Collection&amp;lt;Poblacio&amp;gt; getPoblacions() { &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;return poblacions; &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;    public void setPoblacions(Collection&amp;lt;Poblacio&amp;gt; poblacions) { &lt;/span&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;this.poblacions = poblacions;&lt;/span&gt; &lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: courier new, courier, monospace; color: #000000; font-size: 8pt;&quot;&gt;}&lt;/span&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Comentem un poc les coses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;hibernate-mapping&amp;gt;&lt;/strong&gt; és l'element arrel; tot el mapatge està contingut dins d'ell.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;class&amp;gt; &lt;/strong&gt;Equival a tota la classe per una banda i tota la taula per una altra. Dins d'aquest element estaran totes les correspondències de camps i propietats.
&lt;ul&gt;
&lt;li&gt;L'atribut&lt;strong&gt; name&lt;/strong&gt; conté el nom de la classe.&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;table&lt;/strong&gt; conté el nom de la taula corresponent.&lt;/li&gt;
&lt;li&gt;Pot haver algun altre atribut, indicant el catàleg (depén del SGBD)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;id&lt;/strong&gt;&lt;strong&gt;&amp;gt;&lt;/strong&gt; especifica el camp que és clau principal. És diferent als camps normals.
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;&lt;/strong&gt; &lt;strong&gt;column&lt;/strong&gt; indica el camp de la taula&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;property&amp;gt;&lt;/strong&gt; especifica un camp normal, que no és clau principal. Només s'ha d'especificar:&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'atribut column indica el camp de la taula&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I ens deixem per al final la manera d'enllaçar la clau externa. Recordem que la clau externa està definida en &lt;strong&gt;POBLACIO&lt;/strong&gt; i que apunta a &lt;strong&gt;COMARCA&lt;/strong&gt;. En el mapatge de &lt;strong&gt;Comarca&lt;/strong&gt; tindrem una línia nova que és la que indica que la propietat &lt;strong&gt;poblacions&lt;/strong&gt; ha de contenir les poblacions de la comarca. És per tant un conjunt (&lt;strong&gt;Collection&lt;/strong&gt;) de moltes poblacions. Les coses més importants són les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;set&amp;gt;&lt;/strong&gt; que indica que serà un conjunt
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; serà el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;key&lt;/strong&gt; especifica la clau externa, amb l'element &lt;strong&gt;column&lt;/strong&gt; i atribut &lt;strong&gt;name&lt;/strong&gt;, en aquest cas &lt;strong&gt;nom_c&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;one-to-many&lt;/strong&gt; indica que un departament pot tenir molts empleats (per això era un conjunt), i especifica de quina classe són amb l'atribut &lt;strong&gt;class&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En el cas de les poblacions, taula &lt;strong&gt;POBLACIO&lt;/strong&gt; i classe &lt;strong&gt;Poblacio&lt;/strong&gt;, les coses seran molt similars. La diferència més significativa és la manera de representar la clau externa. Ara serà una relació &lt;strong&gt;many-to-one&lt;/strong&gt;, indicant que la població pot estar en una única comarca, és a dir farà referència a un únic objecte &lt;strong&gt;Comarca&lt;/strong&gt;.&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot;&gt; &amp;lt;many-to-one name=&quot;comarca&quot; class=&quot;classes.Comarca&quot;&amp;gt; &lt;br /&gt;     &amp;lt;column name=&quot;nom_c&quot; not-null=&quot;true&quot;/&amp;gt;&lt;br /&gt; &amp;lt;/many-to-one&amp;gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;many-to-one&lt;/strong&gt;&lt;strong&gt;&amp;gt;&lt;/strong&gt; en la propietat que fa referència a l'altra classe &lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat.&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;class&lt;/strong&gt; indica la classe a què fa referència, en aquest cas &lt;strong&gt;Comarca&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;column&lt;/strong&gt; és un element buit amb la propietat &lt;strong&gt;name&lt;/strong&gt;, que contindrà el camp de la taula&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En resum, dins de l'element &lt;strong&gt;class&lt;/strong&gt; que equival a la classe (i la taula), tindrem els elements&lt;strong&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;id&lt;/strong&gt; per a la clau principal&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;property&lt;/strong&gt; per als camps normals&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;set&lt;/strong&gt; per als que són apuntats per una clau externa, indicant el conjunt.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;many-to-one&lt;/strong&gt; per als que són clau externa&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3857"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="14_1.104"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="49">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="46"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_7_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp4Erftk/T5_7_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="3192c3691ddd9931f64f10d6c0850ce8"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="47"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="47"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="105"></int>
             <string role="key" value="parentNode"></string>
             <reference key="48"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="14"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="48"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="49"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="10"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:7%20-%20Estructura%20dels%20fitxers%20de%20mapatge"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="52">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="7.1 - Anotacions en compte de fitxers xml de mpatge"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.jsidevice.JsIdevice" reference="50">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value=""></unicode>
              <string role="key" value="_attributes"></string>
              <list>
               <tuple>
                <string value="title"></string>
                <list>
                 <string value="Title"></string>
                 <int value="0"></int>
                 <int value="0"></int>
                </list>
               </tuple>
               <tuple>
                <string value="category"></string>
                <list>
                 <string value="Category"></string>
                 <int value="0"></int>
                 <int value="1"></int>
                </list>
               </tuple>
               <tuple>
                <string value="css-class"></string>
                <list>
                 <string value="CSS class"></string>
                 <int value="0"></int>
                 <int value="2"></int>
                </list>
               </tuple>
               <tuple>
                <string value="icon"></string>
                <list>
                 <string value="Icon"></string>
                 <int value="0"></int>
                 <int value="3"></int>
                </list>
               </tuple>
              </list>
              <string role="key" value="_author"></string>
              <string value=""></string>
              <string role="key" value="_iDeviceDir"></string>
              <string value="text"></string>
              <string role="key" value="_purpose"></string>
              <string value=""></string>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="_valid"></string>
              <bool value="1"></bool>
              <string role="key" value="class_"></string>
              <unicode value="text"></unicode>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
              <int value="1"></int>
              <string role="key" value="fields"></string>
              <list>
               <instance class="exe.engine.field.TextAreaField" reference="51">
                <dictionary>
                 <string role="key" value="_id"></string>
                 <unicode value="112_2"></unicode>
                 <string role="key" value="_idevice"></string>
                 <reference key="50"></reference>
                 <string role="key" value="_instruc"></string>
                 <string value=""></string>
                 <string role="key" value="_name"></string>
                 <string value=""></string>
                 <string role="key" value="anchor_names"></string>
                 <list></list>
                 <string role="key" value="anchors_linked_from_fields"></string>
                 <dictionary></dictionary>
                 <string role="key" value="content_w_resourcePaths"></string>
                 <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;Ja vam comentar en la pregunta 3 que hi havia 2 tècniques per a fer el mapatge:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Per mig de fitxers &lt;strong&gt;xml&lt;/strong&gt;, que són els que hem vist&lt;/li&gt;
&lt;li&gt;Per mig d'&lt;strong&gt;anotacions&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les anotacions es fan en el mateix fitxer on està definida la classe que ens ha resultat (Comarca.java, Poblacio.java i Institut.java), però per a que Java no ho intente interpretar, en fan amb un símbol inicial i així distingir les anotacions de les línies normals de la classe.&lt;/p&gt;
&lt;p&gt;Aquest caràcter especial pel qual comencen les anotacions sol ser &lt;strong&gt;@&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Aquest seria el resultat de la classe amb anotacions, si haguérem optat per aquesta tècnica.&lt;/p&gt;
&lt;p&gt;Es mostra només a nivell il·lustratiu. Vosaltres no ho tindreu en el vostre projecte&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package classes;

import javax.persistence.*;
import java.util.Collection;

@Entity
public class Comarca {
    private String nomC;
    private String provincia;
    private Collection&amp;lt;Poblacio&amp;gt; poblacions;

    @Id
    @Column(name = &quot;nom_c&quot;)
    public String getNomC() {
        return nomC;
    }

    public void setNomC(String nomC) {
        this.nomC = nomC;
    }

    @Basic
    @Column(name = &quot;provincia&quot;)
    public String getProvincia() {
        return provincia;
    }

    public void setProvincia(String provincia) {
        this.provincia = provincia;
    }

    @Override
    public boolean equals(Object o) {
        ...
    }

    @Override
    public int hashCode() {
        ...
    }

    @OneToMany(mappedBy = &quot;comarca&quot;)
    public Collection&amp;lt;Poblacio&amp;gt; getPoblacions() {
        return poblacions;
    }

    public void setPoblacions(Collection&amp;lt;Poblacio&amp;gt; poblacions) {
        this.poblacions = poblacions;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Observeu com tenim les mateixes coses que en els fitxers de mapatge, però representat de forma lleugerament diferent&lt;/p&gt;&lt;/div&gt;"></unicode>
                 <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                 <int value="4"></int>
                 <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                 <int value="3"></int>
                 <string role="key" value="htmlTag"></string>
                 <string value="div"></string>
                 <string role="key" value="images"></string>
                 <instance class="exe.engine.galleryidevice.GalleryImages">
                  <dictionary>
                   <string role="key" value=".listitems"></string>
                   <list></list>
                   <string role="key" value="idevice"></string>
                   <reference key="51"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="intlinks_to_anchors"></string>
                 <dictionary></dictionary>
                 <string role="key" value="nextImageId"></string>
                 <int value="0"></int>
                 <string role="key" value="parentNode"></string>
                 <reference key="52"></reference>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="icon"></string>
              <unicode value=""></unicode>
              <string role="key" value="id"></string>
              <unicode value="47"></unicode>
              <string role="key" value="ideviceCategory"></string>
              <unicode value="Text and Tasks"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="nextFieldId"></string>
              <int value="3"></int>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parentNode"></string>
              <reference key="52"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="28"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:7%20-%20Estructura%20dels%20fitxers%20de%20mapatge:7.1%20-%20Anotacions%20en%20compte%20de%20fitxers%20xml%20de%20mpatge"></string>
           <string role="key" value="parent"></string>
           <reference key="48"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="55">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="8 - Sessions i objectes hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="53">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="54">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="53"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;En aquesta secció comentarem el comportament de les sessions i dels objectes Hibernate (les classes creades per Hibernate).&lt;/p&gt;
&lt;p&gt;Recordem que el procés per a arribar a una sessió era &lt;strong&gt;Configuration -&amp;gt; SessionFactory -&amp;gt; Session&lt;/strong&gt;. Les sentències serien aquestes:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;val cfg = Configuration().configure()&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;val sf = cfg.buildSessionFactory()&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;val sessio = sf.openSession()&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; La primera sentència carrega el fitxer de configuració &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, i inicialitza l'entorn d'Hibernate. A partir d'aquest moment podem utilitzar l'objecte Configuration per crear el &lt;strong&gt;SessionFactory&lt;/strong&gt;. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="54"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="55"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="55"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="12"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="58">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.1 - Transaccions"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="56">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="57">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="56"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;El primer que hauríem de fer notar és que si el SGBD admet transaccions, les possibles modificacions que fem sobre una Base de Dades a través d'Hibernate no es guardaran si no posem en marxa una transacció. Per tant, si volem fer actualitzacions (insercions, esborrats i/o modificacions), el primer que haurem de fer en la sessió serà començar una transacció. Al final podrem confirmar amb &lt;strong&gt;commit&lt;/strong&gt; o rebutjar totes les actualitzacions amb &lt;strong&gt;rollback&lt;/strong&gt;. En el següent codi inserim una nova comarca. Utilitzem el mètode &lt;strong&gt;save&lt;/strong&gt; de la sessió, però ja el veurem més avant. Ara només volem il·lustrar una transacció. No farem aquest exemple, ja que tots ens estem connectant com el mateix usuari a la mateixa Base de Dades, aleshores només el primer ho podria fer, i a la reste ens donaria error perquè ja existiria la fila corresponent a aquesta nova comarca (restricció de clau principal)&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val sessio = Configuration().configure().buildSessionFactory().openSession()
	val t = sessio.beginTransaction()

	val com = Comarca()
	com.nomC = &quot;Columbretes&quot;
	com.provincia = &quot;Castelló&quot;
	sessio.save(com)

	t.commit()
	sessio.close()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;En cas de no haver posat les dues sentències de les línies 2 i 9, no hauria hagut cap modificació. El mètode &lt;strong&gt;beginTransaction()&lt;/strong&gt; ha fet començar la transacció, i el mètode &lt;strong&gt;commit()&lt;/strong&gt; l'ha confirmada definitivament. Si en aquest moment vulguérem començar una altra transacció seria suficient amb &lt;strong&gt;t.begin()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;Per a no haver d'estar sempre pendents de transaccions, es podria posar en mode &lt;strong&gt;autocommit&lt;/strong&gt;, és a dir, que automàticament faça un commit després de cada actualització (després de cada &lt;strong&gt;save()&lt;/strong&gt;, &lt;strong&gt;delete()&lt;/strong&gt; o &lt;strong&gt;update()&lt;/strong&gt; ). Seria canviar en el fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, posant la següent propietat entre les del &lt;strong&gt;&amp;lt;session-factory&amp;gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;&amp;lt;property name=&quot;hibernate.connection.autocommit&quot;&amp;gt;true&amp;lt;/property&amp;gt;&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Tanmateix no és tan fiable, i us recomane que utilitzeu transaccions, és a dir, tenir el autocommit a false com estava per defecte i gestionar les transaccions manualment.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="57"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="58"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="17"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="58"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="13"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.1%20-%20Transaccions"></string>
           <string role="key" value="parent"></string>
           <reference key="55"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="61">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.2 - Estats d'un objecte Hibernate"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="59">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="60">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="59"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Els objectes de les classes que Hibernate ens ha ajudat a crear poden estar en més d'un estat, si mirem la seua sincronització amb la Base de Dades:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transitori&lt;/strong&gt;: quan l'objecte s'ha creat, però no s'ha associat a cap sessió. És a dir, ja s'ha creat amb &lt;strong&gt;la creació de l'objecte&lt;/strong&gt; i potser estiga buit o no (ja se li ha posat algun valor a alguna propietat), però encara no s'ha associat a cap sessió. Es podrà associar per exemple amb &lt;strong&gt;save()&lt;/strong&gt; per a guardar l'objecte com hem vist en l'exemple de l'apartat anterior, o per exemple amb &lt;strong&gt;load()&lt;/strong&gt;, com havíem vist en exemples anteriors per a agafar des de la Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Persistent&lt;/strong&gt;: quan l'objecte ja s'ha associat amb una sessió i per tant té una representació en la Base de Dades i un valor identificador. Es pot haver guardat o carregat. Hibernate detectarà qualsevol canvi fet sobre un objecte persistent i sincronitzarà l'estat quan es complete la unitat de treball. I per a això ja s'encarregarà ell de fer els INSERT, DELETE o UPDATE en la Base de Dades. Nosaltres no ens haurem de preocupar.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Separat&lt;/strong&gt;: és un objecte persistent, però que la seua sessió ha finalitzat. Es pot utilitzar, i fins i tot canviar l'estat, però no tindrà efecte aquestos canvies la Base de Dades, a no ser que es torne a associar una altra vegada amb una sessió, és a dir, si es torna a fer persistent. De fet, és una tècnica de treball, utilitzar objectes separats quan l'usuari puga estar molt de temps sense interactuar, i quan torne a interactuar, tornar a fer-lo persistent.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anem a veure un exemple on es vegen els tres tipus d'estat. Tampoc cal que el feu vosaltres, està únicament a nivell il·lustratiu:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val sessio = Configuration().configure().buildSessionFactory().openSession()
	val t = sessio.beginTransaction()

	val com = Comarca()				// A partir d'ací l'objecte és transitori
	com.nomC = &quot;Columbretes&quot;
	com.provincia = &quot;Castelló&quot;
	sessio.save(com)				// A partir d'ací és persistent

	t.commit()
	sessio.close()					// A partir d'ací és separat, igual es pot utilitzar,
                                    // però no estarà sincronitzat
	
	println(com.nomC + &quot; (&quot; + com.provincia + &quot;)&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="60"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="61"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="18"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="61"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="14"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.2%20-%20Estats%20d%27un%20objecte%20Hibernate"></string>
           <string role="key" value="parent"></string>
           <reference key="55"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="64">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.3 - Càrrega d'objectes: mètodes load() i get()"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="62">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="63">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="62"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;La càrrega d'objectes s'aconsegueix amb els mètodes &lt;strong&gt;load()&lt;/strong&gt; i &lt;strong&gt;get()&lt;/strong&gt;. Són similars excepte en una qüestió: el primer dóna un error si no es troba la fila, mentre que el segon contindrà null. A més a partir d'Hibernate 6.0 &lt;strong&gt;load &lt;/strong&gt;està &lt;strong&gt;deprecated&lt;/strong&gt;, així que millor uilitzar &lt;strong&gt;get&lt;/strong&gt; .&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tant si utilitzem un com l'altre, haurem d'especificar 2 paràmetres: la &lt;strong&gt;classe&lt;/strong&gt; que volem buscar, i el &lt;strong&gt;valor&lt;/strong&gt; de la clau principal de qui volem trobar. &lt;strong&gt;Aquest valor s'ha de passar amb el mateix tipus que la propietat corresponent a la clau principal&lt;/strong&gt;, i en moltes ocasions haurem de canviar de tipus (&lt;strong&gt;cast&lt;/strong&gt;). En el següent exemple, molt paregut al ja utilitzat anteriorment en &lt;strong&gt;SegonAcces&lt;/strong&gt;, trobem la comarca &lt;strong&gt;Alt Maestrat&lt;/strong&gt; (valor de &lt;strong&gt;nom_c&lt;/strong&gt;, que correspon a la clau principal). En aquesta ocasió no cal canviar de tipus, ja que és string:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-3&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val sessio = Configuration().configure().buildSessionFactory().openSession()
	
	val com = sessio.get(&quot;classes.Comarca&quot;,&quot;Alt Maestrat&quot;) as Comarca	// càrrega amb mètode load()
	
	println(&quot;Comarca &quot; + com.nomC + &quot;: &quot; + com.provincia)
	sessio.close()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Com comentàvem, si no existira la comarca Alt Maestrat, donaria un error. Ací tenim el mateix exemple, però utilitzant el mètode &lt;strong&gt;get()&lt;/strong&gt; i comprovant després si &lt;strong&gt;com &lt;/strong&gt; és null, i així esquivem l'error:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-3&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val sessio = Configuration().configure().buildSessionFactory().openSession()
	
	val com = sessio.get(&quot;classes.Comarca&quot;,&quot;Al Maestrat&quot;) as Comarca?	// càrrega amb mètode get()
	
	 if (com==null)
            println(&quot;No existeix la comarca&quot;);
        else {
            println(&quot;Comarca &quot; + com.nomC + &quot;: &quot; + com.provincia)
	 }
	sessio.close()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Només hem tingut la dificultat d'haver de posar &lt;strong&gt;Comarca?&lt;/strong&gt; per si és null el resultat de la consulta (justament el que volem comprovar)&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="63"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="64"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="19"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="64"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="65">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="66">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="65"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Anem a mirar la potencialitat que ens proporciona la manera que té Hibernate de construir les classes, amb el conjunt (o col·lecció) de poblacions que té un objecte de la classe Comarca.&lt;/p&gt;
&lt;p&gt;Els &lt;strong&gt;Set&lt;/strong&gt; es poden recórrer de més d'una manera. Una molt estesa és utilitzar un &lt;strong&gt;iterator&lt;/strong&gt;, utilitzant els mètodes &lt;strong&gt;hasNext()&lt;/strong&gt; que ens diu si hi ha més elements en la col·lecció, i &lt;strong&gt;next()&lt;/strong&gt; que torna el següent element de la col·lecció. En el següent programa anem a visualitzar informació de la comarca de l'&lt;strong&gt;Alcalatén&lt;/strong&gt;, i també els seus pobles. Estan marcades les línies de la utilització del &lt;strong&gt;Iterator&lt;/strong&gt;. Copieu-lo en un fitxer Kotlin anomenat &lt;strong&gt;Exemple_03_TercerAcces.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-19-24&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Alcalatén&quot;) as Comarca
    print(&quot;La comarca &quot; + com.nomC)
    print(&quot; (província de &quot; + com.provincia + &quot;) &quot;)
    println(&quot;té &quot; + com.poblacions.size + &quot; pobles&quot;)
    println()
    println(&quot;Llista de pobles&quot;)
    println(&quot;-----------------&quot;)

    val it = com.poblacions.iterator()!!

    while (it.hasNext()) {
        val p = it.next()
        System.out.println(p.nom + &quot; (&quot; + p.poblacio + &quot; habitants)&quot;)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Però més senzilla encara és la utilització del bucle &lt;strong&gt;foreach&lt;/strong&gt;, que fa el recorregut ell sol, tenint disponible cada element. La sintaxi en Kotlin pot ser de dues maneres. Posem com queda l'exemple anterior de cadascuna de les dues maneres&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;for (&lt;/strong&gt;&lt;strong&gt;e in&lt;/strong&gt; &lt;em&gt;&lt;strong&gt;conjunt&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;)&lt;/strong&gt; i &lt;strong&gt;e&lt;/strong&gt; anirà agafant tots els valors de la col·lecció.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre style=&quot;padding-left: 60px;&quot;&gt;&lt;code&gt;for (p in com.poblacions!!) {
		println(p.nom + &quot; (&quot; + p.poblacio + &quot; habitants)&quot;)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;conjunt.&lt;/em&gt;forEach()&lt;/strong&gt; i dins dels parèntesis utilitzem cada element com &lt;strong&gt;it&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	com.poblacions!!.forEach { 
		println(it.nom + &quot; (&quot; + it.poblacio + &quot; habitants)&quot;)
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Utilitzarem la primera forma, que és la més còmoda, i quedarà de la següent manera. Guardeu el següent programa en fitxer Kotlin anomenat &lt;strong&gt;Exemple_04_QuartAcces.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Alcalatén&quot;) as Comarca
    print(&quot;La comarca &quot; + com.nomC)
    print(&quot; (província de &quot; + com.provincia + &quot;) &quot;)
    println(&quot;té &quot; + com.poblacions.size + &quot; pobles&quot;)
    println()
    println(&quot;Llista de pobles&quot;)
    println(&quot;-----------------&quot;)

    for (p in com.poblacions) {
        println(p.nom + &quot; (&quot; + p.poblacio + &quot; habitants)&quot;)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;En ambdós, tant en &lt;strong&gt;TercerAcces&lt;/strong&gt; com en &lt;strong&gt;QuartAcces&lt;/strong&gt; casos el resultat haurà estat:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;p&gt;La comarca Alcalatén (província de Castelló) té 9 pobles&lt;/p&gt;
&lt;p&gt;Llista de pobles&lt;br /&gt;-----------------&lt;br /&gt;Llucena (1417 habitants)&lt;br /&gt;Useres, les (992 habitants)&lt;br /&gt;Figueroles (549 habitants)&lt;br /&gt;Costur (562 habitants)&lt;br /&gt;Xodos (126 habitants)&lt;br /&gt;Alcora, l' (10672 habitants)&lt;br /&gt;Atzeneta del Maestrat (1321 habitants)&lt;br /&gt;Vistabella del Maestrat (384 habitants)&lt;br /&gt;Benafigos (156 habitants)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Com veieu apareixen tots els pobles de la comarca que hem llegit, però com és un conjunt (Set) no podem assegurar l'ordre. De fet, podria ser que a cadascú de nosaltres li apareguen els pobles en ordre distint.&lt;/p&gt;
&lt;p&gt;Estaria bé que aparegueren ordenats. Sempre ho podríem fer per mig d'una consulta i ordenar pel nom de la població com veurem més avant. Però si ens interessa que els pobles apareguen sempre ordenats, podem fer una altra cosa: modificant el fitxer de mapatge, li podem dir que ens apareguen sempre ordenats per un camp. Ho havíem comentat en la pregunta 7, i ara anem a aplicar-lo.&lt;/p&gt;
&lt;p&gt;Per mig d'una senzilla indicació en el fitxer de mapatge &lt;strong&gt;Comarca.hbm.xml&lt;/strong&gt;, podem fer que les dades ens vinguen ordenades, és a dir, que les poblacions d'una comarca ens vinguen per ordre alfabètic. Senzillament serà posar &lt;strong&gt;order-by=&quot;nom&quot;&lt;/strong&gt; en la definició del &lt;strong&gt;set &lt;/strong&gt;&lt;strong&gt;poblacions&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;És a dir hauríem de substituir la línia&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;        &amp;lt;set name=&quot;poblacions&quot; inverse=&quot;true&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;per&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;         &amp;lt;set name=&quot;poblacions&quot; inverse=&quot;true&quot; order-by=&quot;nom&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;I així li estem dient que les poblacions vinguen ordenades per nom, que és el camp de la taula &lt;strong&gt;POBLACIO&lt;/strong&gt; pel qual ens interessa ordenar.&lt;/p&gt;
&lt;p&gt;Només fent aquesta modificació, el resultat tant del programa &lt;strong&gt;TercerAcces&lt;/strong&gt; com el de &lt;strong&gt;QuartAccess&lt;/strong&gt; serà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;La comarca Alcalatén (província de Castelló) té 9 pobles&lt;br /&gt;&lt;br /&gt;Llista de pobles&lt;br /&gt;-----------------&lt;br /&gt;Alcora, l' (10672 habitants)&lt;br /&gt;Atzeneta del Maestrat (1321 habitants)&lt;br /&gt;Benafigos (156 habitants)&lt;br /&gt;Costur (562 habitants)&lt;br /&gt;Figueroles (549 habitants)&lt;br /&gt;Llucena (1417 habitants)&lt;br /&gt;Useres, les (992 habitants)&lt;br /&gt;Vistabella del Maestrat (384 habitants)&lt;br /&gt;Xodos (126 habitants)&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="66"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="64"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="22"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="64"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="15"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.3%20-%20C%C3%A0rrega%20d%27objectes%3A%20m%C3%A8todes%20load%28%29%20i%20get%28%29"></string>
           <string role="key" value="parent"></string>
           <reference key="55"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="69">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.4 - Inserció, modificació i esborrat d'objectes"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="67">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="68">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="67"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;En totes aquestes operacions d'actualització, recordem que farà falta posar-les en una &lt;strong&gt;transacció&lt;/strong&gt; per a que tinguen efecte.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Inserció&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;b&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;A partir de la versió 6.0 d'Hibernate, &lt;strong&gt;save()&lt;/strong&gt; està deprecated, en favor de &lt;strong&gt;persist()&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Es fa amb els mètodes &lt;strong&gt;save()&lt;/strong&gt; o &lt;strong&gt;persist() &lt;/strong&gt;de la sessió, passant-li l'objecte que volem guardar. Posem el mateix exemple de l'apartat 8.1, el d'inserir una comarca. Copieu l'exemple en un fitxer anomenat &lt;strong&gt;Exemple_11_Insercio.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-17&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val t = sessio.beginTransaction ()
    val com = Comarca()

    com.nomC = &quot;Columbretes&quot;
    com.provincia = &quot;Castelló&quot;

    sessio.persist(com)

    t.commit()
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Podem comprovar en la taula com apareix la comarca que acabem d'introduir:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_8_4_1.png&quot; alt=&quot;&quot; width=&quot;378&quot; height=&quot;484&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I evidentment ho podríem comprovar des de &lt;strong&gt;DBeaver&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Esborrat&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;b&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;A partir de la versió 6.0 d'Hibernate, &lt;strong&gt;delete()&lt;/strong&gt; està deprecated, en favor de &lt;strong&gt;remove()&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Amb els mètodes &lt;strong&gt;delete &lt;/strong&gt;o &lt;strong&gt;remove&lt;/strong&gt;, passant-li com a paràmetre l'objecte. Prèviament s'ha d'haver carregar l'objecte amb els mètodes &lt;strong&gt;load() &lt;/strong&gt;o &lt;strong&gt;get()&lt;/strong&gt;. Copieu el següent exemple en el fitxer &lt;strong&gt;Exemple_12_Esborrat.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-13&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val t = sessio.beginTransaction()
    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Columbretes&quot;)

    sessio.remove(com)

    t.commit()
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Modificació&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;b&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;A partir de la versió 6.0 d'Hibernate, &lt;strong&gt;update()&lt;/strong&gt; està deprecated, en favor de &lt;strong&gt;merge()&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Amb el mètode &lt;strong&gt;update() &lt;/strong&gt;o &lt;strong&gt;merge()&lt;/strong&gt;, passant-li com a paràmetre l'objecte. Prèviament haurà d'haver estat carregat amb els mètodes &lt;strong&gt;load()&lt;/strong&gt; o &lt;strong&gt;get()&lt;/strong&gt;, igual que en el cas d'esborrar.&lt;/p&gt;
&lt;p&gt;En el següent exemple estem canviant la província del Camp de Morvedre. Per a que no tinga efecte aquest canvi, i no modificar les dades que està utilitzant la resta de companys, observeu com al final estem fent un &lt;strong&gt;rollback&lt;/strong&gt;. Copieu el següent en el fitxer &lt;strong&gt;Exemple_13_M&lt;/strong&gt;&lt;strong&gt;odificacio.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers hightlight-15and17&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val t = sessio.beginTransaction()
    val com = sessio.get(&quot;classes.Comarca&quot;, &quot;Camp de Morvedre&quot;) as Comarca
    com.provincia = &quot;Castelló&quot;

    sessio.merge(com)

    t.rollback()

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;En realitat tant el mètode &lt;strong&gt;persist()&lt;/strong&gt; com el mètode &lt;strong&gt;merge()&lt;/strong&gt; serveixen tant per a actualitzar un objecte ja existent (que ja era persistent) com per a crear-ne un nou si no existia.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3864"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="21_1.127"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="70">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="67"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_8_4_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp4Erftk/T5_8_4_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="7e5bb1c6beda01dde9e265f638e4700e"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="68"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="68"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="128"></int>
                <string role="key" value="parentNode"></string>
                <reference key="69"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="21"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="69"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="70"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.4%20-%20Inserci%C3%B3%2C%20modificaci%C3%B3%20i%20esborrat%20d%27objectes"></string>
           <string role="key" value="parent"></string>
           <reference key="55"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="73">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="9 - Consultes"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="71">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="72">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="71"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Hem vist com podem accedir molt còmodament a les classes que equivalen a una taula. Però en moltes ocasions ens farà falta accedir no exactament a una taula sinó a una combinació de taules, o en definitiva voldrem informació més elaborada. Per a poder &quot;interrogar&quot; a la Base de Dades amb consultes més complexes, Hibernate suporta un llenguatge de consulta Orientat a Objectes anomenat &lt;strong&gt;HQL&lt;/strong&gt; (&lt;em&gt;&lt;strong&gt;Hibernate Query Language&lt;/strong&gt;&lt;/em&gt;), molt paregut a SQL ja que és una extensió Orientada a Objectes d'aquest.&lt;/p&gt;
&lt;p&gt;En aquest sentit s'ha intentat fer un estàndar de llenguatge de consulta anomenat &lt;strong&gt;OQL&lt;/strong&gt; (&lt;em&gt;&lt;strong&gt;Object Query Language&lt;/strong&gt;&lt;/em&gt;), desenvolupat per un grup amb ànim de crear un estàndar &lt;strong&gt;ODMG&lt;/strong&gt; (Object Data Management Group). Aquest estàndar no l'ha implementat al 100% cap producte comercial, i en realitat tenim subconjunts d'aquest estàndar.&lt;/p&gt;
&lt;p&gt;Utilitzarem la classe &lt;strong&gt;Query&lt;/strong&gt;, i invocarem al mètode &lt;strong&gt;createQuery()&lt;/strong&gt; de &lt;strong&gt;Session&lt;/strong&gt;, que justament torna una Query. Aquest seria un exemple. Observeu que com a primer paràmetre se li passa la sentència, i com a segon paràmetre el tipus que torna; com que les classes no les hem traduïdes a Kotlin, hem d'especificar que són de Java:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;val q = sessio.createQuery(&quot;from Comarca&quot;, Comarca::class.java)&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;b&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;Abans no calia el segon paràmetre, però des de la versió d'&lt;strong&gt;Hibernate 6&lt;/strong&gt;, marca com a &lt;strong&gt;deprecated&lt;/strong&gt; el &lt;strong&gt;createQuery &lt;/strong&gt;si no es posa aquest segon paràmetre&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Per a recuperar les dades tenim dues possibilitats, utilitzant dos mètodes de la query:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mètode &lt;strong&gt;list()&lt;/strong&gt;: torna tots els resultats de la consulta en una col·lecció (&lt;strong&gt;List)&lt;/strong&gt;. Aquest mètode fa una crida única al SGBD i es duran totes les dades. Haurà d'haver, per tant, memòria suficient per a que càpiguen tots els resultats. Si és una quantitat gran de resultats, tardarà molt en executar-se.&lt;/li&gt;
&lt;li&gt;Mètode &lt;strong&gt;iterate()&lt;/strong&gt;: torna un iterador per a poder recórrer els resultats de la consulta. Hibernate executa la sentència, però només torna els identificadors de les files del resultat, i cada vegada que fem &lt;strong&gt;next()&lt;/strong&gt; del iterador, s'executa realment la consulta tornant la següent fila. Per tant fa falta molta menys memòria. Per contra es fan mots més accessos a la Base de Dades, encara que cadascun tardarà molt poc, però en total tardarà més. Es pot fins i tot fixar la quantitat de files a tornar amb el mètode &lt;strong&gt;setFetchSize()&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En el següents dos exemples, que són equivalents, es trau una llista de totes les comarques. El primer utilitza el mètode &lt;strong&gt;list()&lt;/strong&gt; i el segon el mètode &lt;strong&gt;iterate()&lt;/strong&gt;. I en aquesta ocasió utilitzem un iterador per a recórrer la llista (List) en compte de &lt;strong&gt;foreach&lt;/strong&gt;, per veure més d'una manera, i per similitud amb el segon exemple. Poseu a aquest primer exemple el nom de &lt;strong&gt;Exemple_21_AccesAmbList.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val q = sessio.createQuery (&quot;from Comarca&quot;, Comarca::class.java)

    val llista = q.list ()

    val it = llista.iterator ()
    while (it.hasNext()) {
        val com = it.next() // no fa falta fer un casting perquè ja sap que és Comarca
        println(com.nomC + &quot; - &quot; + com.provincia)
    }
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Aquest serà el resultat:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Safor - València&lt;br /&gt;Horta Sud - València&lt;br /&gt;Foia de Bunyol - València&lt;br /&gt;Plana Baixa - Castelló&lt;br /&gt;Horta Nord - València&lt;br /&gt;Racó - València&lt;br /&gt;Plana d'Utiel - València&lt;br /&gt;Vall de Cofrents - València&lt;br /&gt;Ribera Baixa - València&lt;br /&gt;Ribera Alta - València&lt;br /&gt;Marina Alta - Alacant&lt;br /&gt;Serrans - València&lt;br /&gt;València - València&lt;br /&gt;Baix Maestrat - Castelló&lt;br /&gt;Marina Baixa - Alacant&lt;br /&gt;Vall d'Albaida - València&lt;br /&gt;Canal de Navarrés - València&lt;br /&gt;Horta Oest - València&lt;br /&gt;Camp de Túria - València&lt;br /&gt;Alt Millars - Castelló&lt;br /&gt;Baix Vinalopó - Alacant&lt;br /&gt;Comtat - Alacant&lt;br /&gt;Alt Palància - Castelló&lt;br /&gt;Plana Alta - Castelló&lt;br /&gt;Alacantí - Alacant&lt;br /&gt;Camp de Morvedre - València&lt;br /&gt;Alt Vinalopó - Alacant&lt;br /&gt;Costera - València&lt;br /&gt;Alcalatén - Castelló&lt;br /&gt;Alcoià - Alacant&lt;br /&gt;Vinalopó Mitjà - Alacant&lt;br /&gt;Alt Maestrat - Castelló&lt;br /&gt;Baix Segura - Alacant&lt;br /&gt;Ports - Castelló&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Encara que la manera més curta i potser més clara és utilitzant un bucle &lt;strong&gt;foreach&lt;/strong&gt; amb el mètode &lt;strong&gt;list()&lt;/strong&gt;. Només haurem d'anar amb compte de fer un &lt;em&gt;&lt;strong&gt;cast&lt;/strong&gt;&lt;/em&gt; per a que sàpiga quin tipus d'element és. Copieu aquest tercer exemple al fitxer &lt;strong&gt;Exemple_22_AccesAmbListForEach.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()
    val q = sessio.createQuery (&quot;from Comarca&quot;, Comarca::class.java)

    for (c in q.list()) {
        println(c.nomC + &quot; --- &quot; + c.provincia)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="72"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="86"></int>
             <string role="key" value="parentNode"></string>
             <reference key="73"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="24"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="73"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="74">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="75">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="74"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt; Si sabem que la consulta tornarà únicament una fila, podem assignar aquesta fila a un objecte de la classe de la taula afectada, posant el mètode &lt;strong&gt;uniqueResult()&lt;/strong&gt; en la creació de la query, així ens estalviem passos. Copieu el següent programa al fitxer kotlin &lt;strong&gt;Exemple_23_AccesAmbUniqueResult.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val d = sessio.createQuery (&quot;from Comarca where nomC='Alcalatén'&quot;,Comarca::class.java).uniqueResult()

    println(d.nomC + &quot; - &quot; + d.provincia)

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Però en realitat en aquest exemple poca cosa hem guanyat, perquè per a agafar l'objecte corresponent a una única fila d'una taula, ja ho féiem amb &lt;strong&gt;session.get()&lt;/strong&gt;. Més endavant veurem consultes més complicades on trobarem la utilitat.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="75"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="73"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="25"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="73"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="17"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="78">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="9.1 - Paràmetres en les consultes"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="76">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="77">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="76"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;&lt;strong&gt;createQuery()&lt;/strong&gt; admet també la utilització de paràmetres, igual que feia les sentències &lt;strong&gt;PreparedStatement&lt;/strong&gt; del tema anterior. La manera de posar-les és prou similar al vist en aquella ocasió. Ara, però, ho ampliarem un poc.&lt;/p&gt;
&lt;p&gt;La manera de posar valor als paràmetres serà utilitzant el mètodes &lt;strong&gt;setParameter()&lt;/strong&gt; que tindrà 2 paràmetres, el primer per a assenyalar el paràmetre, i el segon per a indicar el valor. De moment tot igual que en el &lt;strong&gt;PreparedStatement&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;Però ara veurem 2 maneres de posar paràmetres en la consulta:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Amb &lt;strong&gt;?i&lt;/strong&gt;, utilitzant el mètode &lt;strong&gt;setParameter(int, &lt;em&gt;valor&lt;/em&gt;)&lt;/strong&gt; i indicant el número &lt;strong&gt;el mateix que després de la interrogant (la i)&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Amb &lt;strong&gt;:&lt;em&gt;nom&lt;/em&gt; &lt;/strong&gt;, utilitzant el mètode &lt;strong&gt;setParameter(string, &lt;em&gt;valor&lt;/em&gt;)&lt;/strong&gt; i indicant el nom del paràmetre&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ho veurem molt més clar en un exemple, millor dit, en dues versions del mateix exemple. Intentarem traure les poblacions d'una determinada comarca, que tenen una altura determinada o major. I aquestos dos valors els posarem com a paràmetres, i així podrem practicar les dues formes. Els valors que posarem per a la comarca serà &lt;strong&gt;Alcalatén&lt;/strong&gt;, i l'altura &lt;strong&gt;500&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En aquesta primera versió assenyalem els paràmetres amb &lt;strong&gt;?i&lt;/strong&gt; a l'estil de &lt;strong&gt;JDBC&lt;/strong&gt;. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_31_ConsultesAmbParametres1.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Poblacio
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val q = sessio.createQuery(&quot;from Poblacio where altura&amp;gt;=?1 and comarca.nomC=?2&quot;, Poblacio::class.java)
    q.setParameter(1, 500)
    q.setParameter(2, &quot;Alcalatén&quot;)

    for (p in q.list()) {
        p as Poblacio
        println(p.nom + &quot; - &quot; + p.altura)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;u&gt;Nota&lt;/u&gt;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En versions anteriors a banda de &lt;strong&gt;setParameter()&lt;/strong&gt; s'utilitzaven els mètodes &lt;strong&gt;setInteger()&lt;/strong&gt;, &lt;strong&gt;setString()&lt;/strong&gt;... però des de la versió 6 d'Hibernate ja no existeixen&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;En la segona posem els paràmetres de l'altra manera. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_32_ConsultesAmbParametres2.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Poblacio
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val q = sessio.createQuery(&quot;from Poblacio where altura&amp;gt;=:alt and comarca.nomC=:com&quot;, Poblacio::class.java)
    q.setParameter(&quot;alt&quot;,500)
    q.setParameter(&quot;com&quot;,&quot;Alcalatén&quot;)
    for (p in q.list()) {
        p as Poblacio
        println(p.nom + &quot; - &quot; + p.altura)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="77"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="78"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="27"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="78"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="18"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes:9.1%20-%20Par%C3%A0metres%20en%20les%20consultes"></string>
           <string role="key" value="parent"></string>
           <reference key="73"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="81">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="9.2 - Consultes diferents a una classe ja definida"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="79">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="80">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="79"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;De moment en les consultes sempre hem tornat una fila o més però sempre&lt;strong&gt; d'una única taula&lt;/strong&gt;, o millor dit, &lt;strong&gt;una classe&lt;/strong&gt; equivalent a una taula.&lt;/p&gt;
&lt;p&gt;Però hi haurà moltes ocasions en què voldrem fer una consulta diferent, on intervinga més d'una taula (o classe),  que torne funcions de grup (SUM, AVG, ...), en definitiva que no siga una sentència equivalent a &lt;strong&gt;SELECT * FROM ...&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Per tant ara no tornarà un objecte o una col·lecció d'objectes dels que ja tenim definits. Podem tenir més d'un cas, i a continuació els intentarem tractar:&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="80"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="28"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="82">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="83">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="82"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes que tornen més d'un objecte dels definits&lt;/p&gt;
&lt;p&gt;Són consultes en les quals hi haurà una reunió de taules (millor dit, de les classes equivalents), i es tornen tots els camps (totes les propietats).&lt;/p&gt;
&lt;p&gt;Podríem definir-nos una classe que englobara totes les propietats de tots els objectes, però hi ha una solució més ràpida. Els resultats s'obtenen en un &lt;strong&gt;array d'objectes&lt;/strong&gt;, on el primer objecte serà l'equivalent de la primera taula, el segon l'equivalent de la segona, etc.&lt;/p&gt;
&lt;p&gt;Per tant, la classe que posem com a segon paràmetre del &lt;strong&gt;createQuery&lt;/strong&gt; sera &lt;strong&gt;Array::class.java&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Aquest exemple, on traurem el nom de la comarca i la província, és només il·lustratiu. Està clar que es pot fer molt més curt i senzill agafant únicament les Poblacions i a partir d'elles traure la comarca. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_41_ConsultaComplexa1.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import classes.Poblacio
import classes.Comarca
import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val q = sessio.createQuery(&quot;from Poblacio p, Comarca c where p.comarca.nomC=c.nomC order by p.nom&quot;, Array::class.java)

    for(tot in q.list()) {
        val p = tot[0] as Poblacio
        val c = tot[1] as Comarca
        println(p.nom + &quot; (&quot; + c.nomC + &quot;. &quot; + c.provincia + &quot;)&quot;)
    }

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Com veiem, un poc &quot;rotllo&quot;...&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="83"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="29"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="84">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="85">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="84"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes que tornen un únic valor&lt;/p&gt;
&lt;p&gt;Aquest és el cas més senzill, ja que el valor tornat el podem agafar del tipus bàsic del valor tornat. Normalment és després d'utilitzar una funció de grup. Recordem que ha de tornar un únic valor (una única fila i una única columna, per dir-lo així).&lt;/p&gt;
&lt;p&gt;La classe que posem com a segon paràmetre del &lt;strong&gt;createQuery &lt;/strong&gt;harà de ser la del valor tornat. En aquest cas que calculem la mitjana, a classe oportuna serà &lt;strong&gt;Double&lt;/strong&gt;. Si comptàrem, per exemple, seria &lt;strong&gt;Long&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Haurem d'utilitzar el mètode &lt;strong&gt;uniqueResult()&lt;/strong&gt; ja comentat amb anterioritat. L'exemple serà per a calcular l'altura mitjana de totes les poblacions. Copieu el següent codi al fitxer Kotlin &lt;strong&gt;Exemple_42_ConsultaComplexa2.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val q = sessio.createQuery(&quot;select avg(altura) from Poblacio&quot;,Double::class.java)

    val mitjana = q.uniqueResult ()

    println(&quot;Altura mitjana: &quot; + mitjana)

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="85"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="30"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="86">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="87">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="86"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes amb qualsevol resultat&lt;/p&gt;
&lt;p&gt;Una de les solucions seria crear una classe amb totes les propietats que torna la consulta. No veurem aquesta solució per tediosa.&lt;/p&gt;
&lt;p&gt;Farem com en el primer apartat d'aquesta pregunta, gestionant l'&lt;strong&gt;array d'objectes&lt;/strong&gt; que s'obtenen, però en aquesta ocasió cada objecte de l'array serà un tipus simple. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_43_ConsultaComplexa3.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val q = sessio.createQuery(&quot;select c.nomC,count(p.codM),avg(p.altura) &quot;
            + &quot;from Comarca c , Poblacio p &quot;
            + &quot;where c.nomC=p.comarca.nomC &quot;
            + &quot;group by c.nomC &quot;
            + &quot;order by c.nomC&quot;, Array::class.java);
    for (tot in q.list()){
        println(&quot;Comarca: &quot; + tot[0] + &quot;. Núm. pobles: &quot; + tot[1] + &quot;. Altura mitjana: &quot; + tot[2]);
    }
    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Només hem d'anar amb compte amb posar com a segon paràmetre de &lt;strong&gt;createQuery &lt;/strong&gt;el tipus &lt;strong&gt;Array::class.java&lt;/strong&gt;.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="87"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="31"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="19"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes:9.2%20-%20Consultes%20diferents%20a%20una%20classe%20ja%20definida"></string>
           <string role="key" value="parent"></string>
           <reference key="73"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="90">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="10 - Consultes d'actualització"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="88">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="89">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="88"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Aquesta pregunta no té tanta importància com les altres, ja que actualitzacions ja sabíem fer amb els mètodes &lt;strong&gt;persist()&lt;/strong&gt;, &lt;strong&gt;remove()&lt;/strong&gt; i &lt;strong&gt;mege()&lt;/strong&gt; de la sessió (o els seus equivalents ja deprecated &lt;strong&gt;save()&lt;/strong&gt;, &lt;strong&gt;delete()&lt;/strong&gt; i &lt;strong&gt;update()&lt;/strong&gt; )&lt;/p&gt;
&lt;p&gt;Pràcticament l'única utilitat serà fer actualitzacions massives, que afecten a més d'una fila (millor dit, més d'un objecte). HQL també permet fer-les.&lt;/p&gt;
&lt;p&gt;Lamentablement, aquestes sentències HQL no tornen cap classe, i per tant no podem posar res vàlid en el segon paràmetre de &lt;strong&gt;createQuery()&lt;/strong&gt;. Per tant, per a aquest tipus de sentència ens veurem &lt;strong&gt;obligats a utilitzar la versió deprecated de createQuery()&lt;/strong&gt;, la que no li posem un segon paràmetre&lt;/p&gt;
&lt;p&gt;Mirem la seua sintaxi:&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;DELETE&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;DELETE [FROM] NomEntitat&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;[WHERE condició] &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Esborrarà tots els objecte que acomplesquen la condició. Observeu que:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FROM és opcional&lt;/li&gt;
&lt;li&gt;La clàusula WHERE és opcional. Si no es posa s'esborraran tots els objectes.&lt;/li&gt;
&lt;li&gt;En el FROM només es pot posar una entitat. No val a posar més d'una ni reunions ni res. Sí que es podran posar subconsultes en la clàusula WHERE, i en les consultes sí que es pot fer el que es vulga (reunions, ...).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per a executar la consulta s'utilitzarà el mètode &lt;strong&gt;Query.&lt;/strong&gt;&lt;strong&gt;executeUpdate()&lt;/strong&gt; (en compte de &lt;strong&gt;Query.&lt;/strong&gt;&lt;strong&gt;list()&lt;/strong&gt; per exemple). Aquest mètode torna un enter que serà el número de files (objectes) esborrades.&lt;/p&gt;
&lt;p&gt;I recordeu que s'ha de confirmar la transacció per a que tinguen efecte els canvis.&lt;/p&gt;
&lt;p&gt;Ací tenim un exemple, al qual li hem aplicat &lt;strong&gt;ROLLBACK&lt;/strong&gt; al final, per a no fer efectiu l'esborrat. Però sí que diu quantes files &quot;s'esborrarien&quot;.&lt;/p&gt;
&lt;p&gt;El següent exemple &quot;esborraria&quot; els Instituts de la província de Castelló, que són els que el seu codi comença per 12, i es diu quants serien els afectats, però després es rebutgen els canvis en fer &lt;strong&gt;rollback()&lt;/strong&gt;. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_51_EsborratMassiu.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val t = sessio.beginTransaction()

    val files = sessio.createQuery(&quot;delete Institut where codi like '12%'&quot;).executeUpdate()

    println(&quot;S'han esborrat &quot; + files + &quot; files.&quot;)

    t.rollback()

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Ens dirà que s'han esborrat 52 files, però després no les esborrarà de veritat.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="89"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="90"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="32"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="90"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="91">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="92">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="91"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;UPDATE&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;UPDATE [FROM] NomEntitat&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;SET propietat = valor [, propietat2 = valor2, ...]&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;[ WHERE condicio ]&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Les observacions fetes en l'apartat de DELETE també valen ací. I observeu que podem modificar més d'un camp, separant-los per comes. Ací tenim un exemple, en el qual fem també &lt;strong&gt;rollback()&lt;/strong&gt; per a deixar les coses com estaven. Copieu el següent codi al fitxer &lt;strong&gt;Exemple_52_ModificacioMassiva.kt&lt;/strong&gt; :&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import org.hibernate.cfg.Configuration
import java.util.logging.Level
import java.util.logging.LogManager

fun main(args: Array&amp;lt;String&amp;gt;) {
    LogManager.getLogManager().getLogger(&quot;&quot;).setLevel(Level.SEVERE)
    val sessio = Configuration().configure().buildSessionFactory().openSession()

    val t = sessio.beginTransaction()

    val files = sessio.createQuery(&quot;update Poblacio set poblacio = poblacio *1.05 where poblacio &amp;lt; 200&quot;).executeUpdate()

    println(&quot;S'han modificat &quot; + files + &quot; files.&quot;)

    t.rollback()

    sessio.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="92"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="90"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="34"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="90"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="93">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="94">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="93"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;INSERT&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;INSERT INTO NomEntitat (llista_propietats)&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;em&gt;Sentència_select&lt;/em&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Ara tindrem els següents condicionants:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No és vàlida la sentència INSERT INTO ... VALUES ... que servia per a introduir una fila donant-li els valors. Si volem fer això, millor utilitzar &lt;strong&gt;save()&lt;/strong&gt;. Per tant només podrem introduir valors procedents d'una altra taula.&lt;/li&gt;
&lt;li&gt;La sentència SELECT pot ser qualsevol sentència HQL. Només hem de cuidar que els tipus tornats per la consulta siguen els que espera INSERT (és a dir, del mateix tipus que les propietats de la classe associada a la taula).&lt;/li&gt;
&lt;li&gt;Per a la propietat &lt;strong&gt;id&lt;/strong&gt;, que és la que correspon a la clau principal, podem tenir 2 opcions:
&lt;ul&gt;
&lt;li&gt;es pot especificar en la llista de propietats, i aleshores li haurem de proporcionar un valor.&lt;/li&gt;
&lt;li&gt;es pot ometre, sempre i quan la propietat estiga definida com &lt;strong&gt;increment&lt;/strong&gt; (no &lt;strong&gt;assigned&lt;/strong&gt;); això vol dir que es correspon a un camp autoincrementat. Aleshores serà el SGBD qui li assignarà el valor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest seria un exemple. En ell intentem introduir una nova comarca a partir d'una hipotètica taula de comarques noves (&lt;em&gt;NovesComarques&lt;/em&gt;). No la podrem provar perquè no existeix aquesta taula, millor dit, aquesta classe. L'hauríem de crear, fer-li el mapatge, i posteriorment executar açò. Per tant ho veiem únicament a mode il·lustratiu:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;
&lt;p&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;val t = sessio.beginTransaction()&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;val files = sessio.createQuery(&quot;insert into Comarca (nomC, provincia) &quot;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;               + &quot; select n.nomC, n.provincia from NovesComarques n&quot;).executeUpdate()&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;println(&quot;S'han introduït &quot; + files + &quot; files.&quot;)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;t.rollback()&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="94"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="90"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="33"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="90"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="20"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:10%20-%20Consultes%20d%27actualitzaci%C3%B3"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="97">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="11 - Resum del llenguatge HQL"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="95">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="96">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="95"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Veurem d'una manera molt ràpida el llenguatge HQL. Sobretot insistirem en les diferències amb SQL, al qual se sembla molt.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La clàusula &lt;strong&gt;SELECT&lt;/strong&gt; és opcional. Si no la posem equival a agafar totes les propietats (és a dir, equivalent a SELECT * de SQL). És una operació molt habitual, ja que d'aquesta manera la llista d'objectes tornats és de la classe marcada en el from.&lt;/li&gt;
&lt;li&gt;Es poden utilitzar àlies de les classes, posant &lt;strong&gt;AS &lt;/strong&gt;després de la classe i abans de l'àlies. També podem prescindir del AS. Si utilitzem àlies, per a fer referència a la classe haurem d'utilitzar sempre l'àlies. Per exemple &lt;strong&gt;FROM Comarques AS c&lt;/strong&gt;, o senzillament &lt;strong&gt;FROM Comarques c&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;La clàusula &lt;strong&gt;WHERE&lt;/strong&gt; és opcional. Si no la posem equival a agafar de totes les instàncies de la classe associada (és a dir, de totes les files de la taula).&lt;/li&gt;
&lt;li&gt;S'admeten les clàusules &lt;strong&gt;GROUP BY &lt;/strong&gt; , &lt;strong&gt;HAVING&lt;/strong&gt; i &lt;strong&gt;ORDER BY&lt;/strong&gt;, que funcionen igual que en SQL.&lt;/li&gt;
&lt;li&gt;S'admeten &lt;strong&gt;subconsultes&lt;/strong&gt;, si és que el SGBD les admet, clar.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ací teniu uns quants exemples:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les instàncies de Comarques&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca order by nomC&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les instàncies de Comarques ordenades per nom de comarca&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where provincia='Castelló'&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les comarques de la província de Castelló&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where provincia in ('Castelló','Alacant')&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les comarques de les províncies de Castelló i Alacant&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio where altura between 700 and 750&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les poblacions amb una altura entre 700 i 750 m,&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Institut where codpostal is null&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna els instituts que no tenen codi postal (no hi ha ningun)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where nomC like 'A%'&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les comarques el nom de les quals comença per A&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;select provincia, count(*) from Comarca group by provincia&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les províncies i el número de comarques en cadascuna&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;span&gt;select poblacio.nom , count(*) from Institut group by poblacio.nom&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna el nom de la població i el número d'instituts que té (només d'aquelles que tenen algun institut)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;select comarca.nomC , avg(altura) from Poblacio group by comarca.nomC having avg(altura) &amp;gt; 700&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna el nom de la comarca i l'altura mitjana d'aquelles comarques que tenen una altura mitjana més gran que 700&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio where altura &amp;gt; (select avg(altura) from Poblacio)&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les poblacions que tenen una altura major que la mitjana&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio p1 where p1.altura &amp;gt; (select avg(altura) from Poblacio p2 where p2.comarca=p1.comarca)&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les poblacions que tenen una altura major que la mitjana de la seua comarca&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;HQL també admet reunions en les classes. Per a fer una reunió normal, podem posar la condició en el where i ja està, però si volem fer una reunió externa (un &lt;strong&gt;left join&lt;/strong&gt; per exemple) no ens valdrà aquesta opció, i haurem de fer la reunió.&lt;/p&gt;
&lt;p&gt;La sintaxi de la reunió és diferent en HQL.&lt;/p&gt;
&lt;p&gt;En &lt;strong&gt;SQL&lt;/strong&gt; posàvem la condició en l'apartat &lt;strong&gt;ON&lt;/strong&gt;, després d'haver posat les taules, i posàvem una condició d'igualtat entre els camps d'una i altra taula&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;SELECT ... FROM POBLACIO LEFT JOIN INSTITUT ON POBLACIO.cod_m=INSTITUT.cod_m&lt;/div&gt;
&lt;p&gt;En canvi en &lt;strong&gt;HQL&lt;/strong&gt; després de les taules no posem &lt;strong&gt;ON&lt;/strong&gt; , sinó que posarem l'enllaç entre les dues taules. Aquest enllaç coincideix amb el nom de la col·lecció d'elements de l'altre taula. En el cas de l'exemple que estem veient és &lt;strong&gt;institutses&lt;/strong&gt;. Per tant una reunió entre &lt;strong&gt;Poblacions&lt;/strong&gt; i &lt;strong&gt;Instituts&lt;/strong&gt; es definiria així &lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;from Poblacio p left join p.instituts&lt;/div&gt;
&lt;p&gt;Vejam un exemple un poc més elaborat, on traurem el nom de la població amb el número d'instituts que té, fins i tot d'aquells que no tenen institut&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;select p.nom, count(i.codi) from Poblacio p left join p.instituts i group by p.nom order by p.nom&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="96"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="97"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="35"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="97"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="21"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:11%20-%20Resum%20del%20llenguatge%20HQL"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="100">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="12. Generació de taules a partir de les classes (voluntari)"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="98">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="99">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="98"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;color: #ff0000; font-size: 18pt;&quot;&gt;&lt;strong&gt;VOLUNTARI&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Durant aquest tema, i també en els exercicis, hem treballat sobre projectes en els quals a partir de les taules d'una Base de Dades ja creada en qualsevol Sistema Gestor de Bases de Dades (excepte SQLite) hem generat les classes. Funciona molt bé aquesta generació de classes amb Hibernate.&lt;/p&gt;
&lt;p&gt;També és possible el procés invers, és a dir, &lt;strong&gt;generar les taules&lt;/strong&gt; en una Base de Dades &lt;strong&gt;a partir de les classes&lt;/strong&gt; creades en un projecte. Veurem un exemple molt senzill de com és possible. Tanmateix hem de dir ja que aquesta manera de funcionar no és tan efectiva com la inversa, i si l'estructura de classes és complexa, podem tenir problemes per a generar les taules. Per això l'exemple que posarem és molt senzill. I les classes estaran escrites en Java, no en Kotlin.&lt;/p&gt;
&lt;p&gt;Aquesta pregunta és totalment voluntària. Si no teniu ganes o temps, no fa falta que feu l'exemple mostrat a continuació. El que sí que és obligatori és la generació de classes a partir de les taules, vist anteriorment.&lt;/p&gt;
&lt;p&gt;L'exemple que intentarem implementar és una part de l'exemple de la biblioteca, vist ja en el tema 4. Només treballarem sobre 2 classes &lt;strong&gt;Editorial&lt;/strong&gt; i &lt;strong&gt;Llibre&lt;/strong&gt;, i fins i tot no posarem totes les propietats, ja que si ho posàrem tot, segurament ens donaria problemes a l'hora de la generació de taules.&lt;/p&gt;
&lt;p&gt;Aquestes són les classes, millor dit les propietats de les classes, com veieu amb una estructura molt senzilla:&lt;/p&gt;
&lt;table style=&quot;width: 620.767px;&quot; height=&quot;146&quot; border=&quot;1&quot; bgcolor=&quot;#FFFFFF&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 276px;&quot;&gt;&lt;strong&gt;classe Editorial&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 267.767px;&quot;&gt;&lt;strong&gt;classe Llibre&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 276px; padding-left: 30px;&quot;&gt;&lt;strong&gt;public class Editorial {&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String codi;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String nom;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String web;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 267.767px; padding-left: 30px;&quot;&gt;&lt;strong&gt;public class Llibre {&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String isbn;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String titol;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    int pagines;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    Editorial editorial;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Com veieu tenim una propietat en la classe &lt;strong&gt;Llibre&lt;/strong&gt; que és de tipus &lt;strong&gt;Editorial&lt;/strong&gt;, per a marcar l'editorial del llibre. El més lògic seria posar un ArrayList de tipus Llibre en la classe Editorial per a posar tots els llibres de l'editorial. Però açò segurament ens donaria problemes en el moment de la generació de taules. Per tant, farem aquest exemple tan senzill a mode il·lustratiu, i prou.&lt;/p&gt;
&lt;p&gt;En aquestes classes, com es mostra en el vídeo posterior, s'han d'incorporar els mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt; per a totes les propietats, així com &lt;strong&gt;constructors&lt;/strong&gt;, un sense paràmetres, i un altre amb paràmetres per a inicialitzar totes les propietats.&lt;/p&gt;
&lt;p&gt;Posteriorment s'han de preparar les classes per a poder generar les taules. Consistirà en un procediment automàtic que s'encarregarà d'agegir les &lt;strong&gt;anotacions&lt;/strong&gt;, que són sentències que Java ignorarà i serveixen per a afegir la informació addicional necessària. Les anotacions comencen sempre per &lt;strong&gt;@&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Després de les anotacions, les classes quedaran així (hem marcat les anotacions en roig):&lt;/p&gt;
&lt;table style=&quot;width: 1014.92px;&quot; border=&quot;1&quot; bgcolor=&quot;#FFFFFF&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 421px;&quot;&gt;&lt;strong&gt;classe Editorial&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 516.917px;&quot;&gt;&lt;strong&gt;classe Llibre&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 421px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;import javax.persistence.Entity;&lt;br /&gt;import javax.persistence.Id;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;@Entity&lt;/span&gt;&lt;br /&gt;public class Editorial {&lt;br /&gt;   &lt;span style=&quot;color: #ff0000;&quot;&gt; @Id&lt;/span&gt;&lt;br /&gt;    String codi;&lt;br /&gt;    String nom;&lt;br /&gt;    String web;&lt;br /&gt;    &lt;br /&gt;    public Editorial() {&lt;br /&gt;        super();&lt;br /&gt;    }&lt;br /&gt;    public Editorial(String codi, String nom, String web) {&lt;br /&gt;        super();&lt;br /&gt;        this.codi = codi;&lt;br /&gt;        this.nom = nom;&lt;br /&gt;        this.web = web;&lt;br /&gt;    }&lt;br /&gt;    public String getCodi() {&lt;br /&gt;        return codi;&lt;br /&gt;    }&lt;br /&gt;    public void setCodi(String codi) {&lt;br /&gt;        this.codi = codi;&lt;br /&gt;    }&lt;br /&gt;    public String getNom() {&lt;br /&gt;        return nom;&lt;br /&gt;    }&lt;br /&gt;    public void setNom(String nom) {&lt;br /&gt;        this.nom = nom;&lt;br /&gt;    }&lt;br /&gt;    public String getWeb() {&lt;br /&gt;        return web;&lt;br /&gt;    }&lt;br /&gt;    public void setWeb(String web) {&lt;br /&gt;        this.web = web;&lt;br /&gt;    }&lt;br /&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 516.917px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;import javax.persistence.Entity;&lt;br /&gt;import javax.persistence.Id;&lt;br /&gt;import javax.persistence.ManyToOne;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;@Entity&lt;/span&gt;&lt;br /&gt;public class Llibre {&lt;br /&gt; &lt;span style=&quot;color: #ff0000;&quot;&gt;   @Id&lt;/span&gt;&lt;br /&gt;    String isbn;&lt;br /&gt;    String titol;&lt;br /&gt;    int pagines;&lt;br /&gt;   &lt;span style=&quot;color: #ff0000;&quot;&gt; @ManyToOne&lt;/span&gt;&lt;br /&gt;    Editorial editorial;&lt;br /&gt;    &lt;br /&gt;    public Llibre() {&lt;br /&gt;        super();&lt;br /&gt;    }&lt;br /&gt;    public Llibre(String isbn, String titol, int pagines, Editorial editorial) {&lt;br /&gt;        super();&lt;br /&gt;        this.isbn = isbn;&lt;br /&gt;        this.titol = titol;&lt;br /&gt;        this.pagines = pagines;&lt;br /&gt;        this.editorial = editorial;&lt;br /&gt;    }&lt;br /&gt;    public String getIsbn() {&lt;br /&gt;        return isbn;&lt;br /&gt;    }&lt;br /&gt;    public void setIsbn(String isbn) {&lt;br /&gt;        this.isbn = isbn;&lt;br /&gt;    }&lt;br /&gt;    public String getTitol() {&lt;br /&gt;        return titol;&lt;br /&gt;    }&lt;br /&gt;    public void setTitol(String titol) {&lt;br /&gt;        this.titol = titol;&lt;br /&gt;    }&lt;br /&gt;    public int getPagines() {&lt;br /&gt;        return pagines;&lt;br /&gt;    }&lt;br /&gt;    public void setPagines(int pagines) {&lt;br /&gt;        this.pagines = pagines;&lt;br /&gt;    }&lt;br /&gt;    public Editorial getEditorial() {&lt;br /&gt;        return editorial;&lt;br /&gt;    }&lt;br /&gt;    public void setEditorial(Editorial editorial) {&lt;br /&gt;        this.editorial = editorial;&lt;br /&gt;    }&lt;br /&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Amb aquesta informació es podran generar les sentències SQL que crearan les taules en la Base de Dades. Aquestes sentències serien:&lt;/p&gt;
&lt;table style=&quot;width: 738px;&quot; height=&quot;283&quot; border=&quot;1&quot; bgcolor=&quot;#FFFFFF&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 238.383px;&quot;&gt;&lt;strong&gt;taula EDITORIAL&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 423.617px;&quot;&gt;&lt;strong&gt;taula LLIBRE&lt;br /&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 238.383px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt; create table Editorial (&lt;br /&gt;       codi varchar(255) not null,&lt;br /&gt;        nom varchar(255),&lt;br /&gt;        web varchar(255),&lt;br /&gt;        primary key (codi)&lt;br /&gt;    );&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 423.617px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt;create table Llibre (&lt;br /&gt;       isbn varchar(255) not null,&lt;br /&gt;        pagines int4 not null,&lt;br /&gt;        titol varchar(255),&lt;br /&gt;        editorial_codi varchar(255),&lt;br /&gt;        primary key (isbn)&lt;br /&gt;    );&lt;br /&gt;&lt;br /&gt;    alter table Llibre &lt;br /&gt;       add constraint FKap3159swqtnuj1i2q43xm0wk2 &lt;br /&gt;       foreign key (editorial_codi) &lt;br /&gt;       references Editorial;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Observeu com ha creat la clau externa en LLIBRE que apunta a EDITORIAL&lt;/p&gt;
&lt;p&gt;Aquest vídeo arreplega tot el procés:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;iframe width=&quot;900&quot; height=&quot;700&quot; src=&quot;https://slides.com/alvarinstitut/t5_generar_taules/embed?style=light&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; webkitallowfullscreen=&quot;webkitallowfullscreen&quot; mozallowfullscreen=&quot;mozallowfullscreen&quot; allowfullscreen=&quot;allowfullscreen&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="99"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="34"></int>
             <string role="key" value="parentNode"></string>
             <reference key="100"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="44"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="100"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="25"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:12.%20Generaci%C3%B3%20de%20taules%20a%20partir%20de%20les%20classes%20%28voluntari%29"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="103">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Exercicis"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="101">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.1"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="102">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="89_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="101"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Crea un projecte nou de l'estil de &lt;strong&gt;Java Enterprise&lt;/strong&gt; anomenat &lt;strong&gt;Tema5_&lt;/strong&gt;&lt;strong&gt;PostgreSQL_Rutes_Anotacions&lt;/strong&gt;. Inclou el driver JDBC de PostgreSQL.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Has de fer el mapatge utilitzant &lt;strong&gt;anotacions&lt;/strong&gt; (no els fitxer &lt;strong&gt;hbm.xml&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;Fes el mapatge de les taules &lt;strong&gt;RUTA &lt;/strong&gt;i &lt;strong&gt;PUNT&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;, situades en la Base de Dades &lt;strong&gt;rutes&lt;/strong&gt; a la qual pot accedir l'usuari &lt;strong&gt;rutes &lt;/strong&gt;(contrasenya &lt;strong&gt;rutes&lt;/strong&gt;) i situada en el servidor de l'Institut &lt;strong&gt;&lt;/strong&gt;(&lt;strong&gt;89.36.214.106&lt;/strong&gt;). Guarda-les en un paquet anomenat &lt;strong&gt;classes&lt;/strong&gt;. Veuràs que en el resultat apareixerà també la classe &lt;strong&gt;PuntPK.java&lt;/strong&gt;. És a causa de que la clau principal de la taula PUNTS està formada per dos camps. És la manera que té Hibernate de reflectir-ho.&lt;/li&gt;
&lt;li&gt;Tria &lt;strong&gt;tots &lt;/strong&gt;els camps (que es convertiran en propietats). Canvia el nom d'alguna de les propietats&lt;/li&gt;
&lt;li&gt;Veuràs que en el resultat a més de les classes &lt;strong&gt;Ruta.java &lt;/strong&gt;i &lt;strong&gt;Punt.java &lt;/strong&gt;apareixerà també la classe &lt;strong&gt;PuntPK.java&lt;/strong&gt;. És a causa de que la clau principal de la taula PUNTS està formada per dos camps. És la manera que té Hibernate de reflectir-ho.&lt;/li&gt;
&lt;li&gt;Crea't el fitxer Kotlin &lt;strong&gt;VeureRutes.kt&lt;/strong&gt;, que serà un programa senzill que visualitze les rutes, i el número de punts, ordenades per nom de ruta, a més dels noms dels punts.. Ha de ser per mig d'una &lt;strong&gt;consulta HQL &lt;/strong&gt;(el més senzilla possible), i evidentment el programa ha de ser independent del número de rutes existent en aquest moment a la Base de Dades. Intenta que no apareguen tots els warnings que apareixen per defecte. El més normal és que t'aparega el següent error&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;padding-left: 60px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 10pt; font-family: 'courier new', courier, monospace; color: #ff0000;&quot;&gt;Repeated column in mapping for entity: classes.Punt column: num_r (should be mapped with insert=&quot;false&quot; update=&quot;false&quot;)&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;padding-left: 60px;&quot;&gt;Per a corregir-ho has d'afegir a la classe &lt;strong&gt;Punt.java&lt;/strong&gt; al final de tot, on apareix l'anotació &lt;strong&gt;@JoinColumn&lt;/strong&gt;, el que està en negreta a continuació.&lt;/p&gt;
&lt;table border=&quot;1&quot; style=&quot;width: 100%; background-color: #ffffff;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 100%;&quot;&gt;&lt;span style=&quot;font-family: 'courier new', courier, monospace; font-size: 11pt;&quot;&gt;@ManyToOne&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: 'courier new', courier, monospace; font-size: 11pt;&quot;&gt;@JoinColumn(name = &quot;num_r&quot;, referencedColumnName = &quot;num_r&quot;, nullable = false, &lt;strong&gt;insertable = false, updatable = false&lt;/strong&gt;)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Una vegada corregit l'error, el resultat seria aquest: &lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;p&gt;La Magdalena - 7 punts&lt;br /&gt;    Primer Molí&lt;br /&gt;    Segon Molí&lt;br /&gt;    Caminàs&lt;br /&gt;    Riu Sec&lt;br /&gt;    Sant Roc&lt;br /&gt;    Explanada&lt;br /&gt;    La Magdalena&lt;/p&gt;
&lt;p&gt;Pelegrins de Les Useres - 6 punts&lt;br /&gt;    Les Useres&lt;br /&gt;    Les Torrocelles&lt;br /&gt;    Lloma Bernat&lt;br /&gt;    Xodos (Molí)&lt;br /&gt;    El Marinet&lt;br /&gt;    Sant Joan&lt;/p&gt;
&lt;p&gt;Pujada a Penyagolosa - 5 punts&lt;br /&gt;    Sant Joan&lt;br /&gt;    Encreuament&lt;br /&gt;    Barranc de la Pegunta&lt;br /&gt;    El Corralico&lt;br /&gt;    Penyagolosa&lt;/p&gt;
&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="102"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="36"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="104">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.2"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="105">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="90_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="104"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Sobre el projecte de &lt;strong&gt;Tema5_Hibernate_PostgreSQL_geo_ad &lt;/strong&gt;, on tenim el mapatge de les taules &lt;strong&gt;COMARCA&lt;/strong&gt;, &lt;strong&gt;POBLACIO &lt;/strong&gt;i &lt;strong&gt;INSTITUT&lt;/strong&gt;, creeu-vos un paquet anomenat &lt;strong&gt;exercicis&lt;/strong&gt;, on col·locareu les classes d'aquest exercici.&lt;/p&gt;
&lt;p&gt;Per a visualitzar les coses d'una forma un poc més agradable anem a utilitzar les llibreries gràfiques &lt;strong&gt;Java AWT&lt;/strong&gt; i &lt;strong&gt;Javax Swing&lt;/strong&gt;. Amb aquestes llibreries incorporarem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;JPanel&lt;/strong&gt; i &lt;strong&gt;JScrollPane&lt;/strong&gt;, per a contenir altres objectes (aquest últim amb botons de scroll si són necessaris).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JLabel&lt;/strong&gt;, per a etiquetes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JText&lt;/strong&gt;, per a quadres de text (on poder posar informació)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JTextArea&lt;/strong&gt;, és un quadre de text, però més gran. Nosaltres l'utilitzarem per a visualitzar informació extensa, i per tant el farem no editable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JButton&lt;/strong&gt;, per a botons. Estarà esperant a que l'apretem (ActionListener)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tot açò anirà en un fitxer que anomenarem &lt;strong&gt;Ex5_2_VeurePoblesComarca.kt &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I vosaltres haureu de completar el mètode &lt;strong&gt;VisualitzaCom(comarca: String)&lt;/strong&gt;, per a que si no existeix la comarca, es diga que no existeix dins del JTextArea, i si existeix, que es vegen &lt;strong&gt;els seus pobles &lt;/strong&gt;(si vols pots millorar-lo per a que es vegen en ordre alfabètic).&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exercicis

import java.awt.EventQueue
import java.awt.BorderLayout
import java.awt.FlowLayout
import javax.swing.JFrame
import javax.swing.JPanel
import javax.swing.JButton
import javax.swing.JTextArea
import javax.swing.JLabel
import javax.swing.JTextField
import java.awt.Color
import javax.swing.JScrollPane

class Finestra : JFrame() {
	val etiqueta = JLabel(&quot;Comarca:&quot;)
	val etIni = JLabel(&quot;Introdueix la comarca:&quot;)
	val com = JTextField(15)
	val consultar = JButton(&quot;Consultar&quot;)
	val area = JTextArea()

	init {
		defaultCloseOperation = JFrame.EXIT_ON_CLOSE
		setTitle(&quot;HIBERNATE: Visualitzar Comarques i Pobles&quot;)
		setBounds(100, 100, 450, 300)
		setLayout(BorderLayout())

		val panell1 = JPanel(FlowLayout ())
		panell1.add(etIni)
		panell1.add(com)
		panell1.add(consultar)
		getContentPane().add(panell1, BorderLayout.NORTH)

		val panell2 = JPanel(BorderLayout ())
		panell2.add(etiqueta, BorderLayout.NORTH)
		area.setForeground(Color.blue)
		val scroll = JScrollPane(area)
		panell2.add(scroll, BorderLayout.CENTER)
		getContentPane().add(panell2, BorderLayout.CENTER)

		consultar.addActionListener() {
            etiqueta.setText(&quot;Comarca: &quot; + com.getText())
            visualitzaCom(com.getText())
		}
	}
	fun visualitzaCom(comarca: String){
        // Instruccions per a llegir la comarca que arriba com a paràmetre (s'ha de deixar en un objecte Comarca).
        // S'ha de cuidar que si no exiteix la comarca, en el JTextArea es pose que no existeix.
        // La manera d'anar introduint informació en el JTextArea és area.append(&quot;Linia que es vol introduir &quot;)
	}
}

fun main() {
	EventQueue.invokeLater {
		Finestra().isVisible = true
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Aquest seria un exemple d'utilització:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex2_1.png&quot; width=&quot;450&quot; height=&quot;328&quot; /&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3849"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="37_90_2.102"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="106">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="104"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex2_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex2_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="4249c31a5e8f508223ecabcb56b80df0"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="105"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="105"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="103"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="37"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="106"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="107">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.3"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="108">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="89_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="107"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Anem a fer unes quantes millores a l'exemple anterior. &lt;strong&gt;&lt;/strong&gt;Les millores seran les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(70%) Substitueix el quadre de text per un &lt;strong&gt;JComboBox&lt;/strong&gt;, i elimina el botó. Recorda que el component &lt;strong&gt;JCombBox &lt;/strong&gt;funciona de la segünet manera:
&lt;ul&gt;
&lt;li&gt;Per a obtenir l'element seleccionat utilitzarem el mètode&lt;strong&gt; &lt;/strong&gt;&lt;strong&gt;.getSelectedItem()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Per a omplir el ComboBox haurem de fer una consulta prèvia amb els noms de les comarques (en principi amb els noms és suficient). Podrem anar afegint elements al ComboBox amb el mètode &lt;strong&gt;.addItem()&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;(15%) Substitueix el &lt;strong&gt;JTextArea&lt;/strong&gt; on mostrem els pobles de la comarca per un &lt;strong&gt;JList&lt;/strong&gt;. Aquest component serà una llista, i podrem seleccionar cada element de la llista. El seu funcionament és així:
&lt;ul&gt;
&lt;li&gt;Per a anar omplint el &lt;strong&gt;JList&lt;/strong&gt;, no és tant senzill com el &lt;strong&gt;JComboBox&lt;/strong&gt;. Ens fa falta un &lt;strong&gt;DefaultListModel&lt;/strong&gt;, i construir el &lt;strong&gt;JList&lt;/strong&gt; a partir d'ell. Posteriorment afegirem elements al &lt;strong&gt;DefaultListModel&lt;/strong&gt;, i això suposarà que es veuran en el &lt;strong&gt;JList&lt;/strong&gt;. Ja tenim creat aquest DefaultListModel, i es diu &lt;strong&gt;listModel&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Per a agafar els pobles de la comarca podem fer-ho de 2 maneres:
&lt;ul&gt;
&lt;li&gt;carregant un objecte Comarca, i a partir d'ell obtenir els pobles&lt;/li&gt;
&lt;li&gt;fent una consulta per agafar els pobles de la comrca. En aquest cas podem tenir el problema que hi haja cometes simples en el nom de la comarca (p.e. Vall d'Albaida). Açò faria que la consulta HQL falle (ja que la cometa simple és el delimitador de les constants de text). Una manera de solucionar-lo és utilitzar un paràmetre, ja que d'aquesta manera no hi haurà problema amb les cometes. Una altra manera de solucionar-lo és posar dos cometes simples. Podem utilitzar el mètode &lt;strong&gt;replace()&lt;/strong&gt; de la classe String, substituint tota cometa simple per dues cometes simples. Si per exemple tenim el nom de la comarca en el String &lt;strong&gt;comarca&lt;/strong&gt;, faríem:
&lt;p class=&quot;codi2&quot;&gt;comarca.replace(&quot;'&quot;,&quot;''&quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;(15%) Quan se seleccione un element del &lt;strong&gt;JList&lt;/strong&gt;, fes que es mostre baix de tot el número d'Instituts del poble seleccionat
&lt;ul&gt;
&lt;li&gt;Per a poder controlar si s'ha seleccionat un element del &lt;strong&gt;JList&lt;/strong&gt; escoltarem ambb &lt;strong&gt;area.addListSelectionListener() &lt;/strong&gt;(si el &lt;strong&gt;JList&lt;/strong&gt; s'anomena &lt;strong&gt;area&lt;/strong&gt;, clar). És on posarem les accions per a mostrar el nombre d'Instituts del poble (&lt;strong&gt;visualitzaInstituts(String)&lt;/strong&gt; )&lt;/li&gt;
&lt;li&gt;El nom del poble també pot dur cometes simples, per tant farem la mateixa consideració d'abans. Ho solucionem amb un paràmetre, o posant dues cometes simple substituint el nom del poble per:
&lt;p class=&quot;codi2&quot;&gt;poble.replace(&quot;'&quot;,&quot;''&quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'esquelet quedarà ara d'aquesta manera. Guardeu-lo en un fitxer anomenat &lt;strong&gt;Ex5_3_VeurePoblesComarca_Combobox.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.EventQueue
import java.awt.BorderLayout
import java.awt.FlowLayout
import java.awt.Color
import javax.swing.JFrame
import javax.swing.JPanel
import javax.swing.JLabel
import javax.swing.JTextField
import javax.swing.JScrollPane
import javax.swing.JComboBox
import javax.swing.DefaultListModel
import javax.swing.JList
import classes.Comarca
import classes.Poblacio

class FinestraComboBox : JFrame() {
	val etiqueta = JLabel(&quot;Comarca:&quot;)
	val etIni = JLabel(&quot;Introdueix la comarca:&quot;)
	val com = JComboBox&amp;lt;String&amp;gt;()
	val listModel = DefaultListModel&amp;lt;String&amp;gt;()
	val area = JList(listModel)
	val peu = JTextField()

    val sessio = Configuration().configure().buildSessionFactory().openSession()

	init {
		defaultCloseOperation = JFrame.EXIT_ON_CLOSE
		setTitle(&quot;HIBERNATE: Visualitzar Comarques i Pobles amb ComboBox&quot;)
		setBounds(100, 100, 550, 400)
		setLayout(BorderLayout())

		val panell1 = JPanel(FlowLayout())
		panell1.add(etIni)
		panell1.add(com)
		getContentPane().add(panell1, BorderLayout.NORTH)

		val panell2 = JPanel(BorderLayout())
		panell2.add(etiqueta, BorderLayout.NORTH)
		area.setForeground(Color.blue)
		val scroll = JScrollPane(area)
		panell2.add(scroll, BorderLayout.CENTER)
		getContentPane().add(panell2, BorderLayout.CENTER)
		getContentPane().add(peu, BorderLayout.SOUTH)

		agafarComarques()

		com.addActionListener() { visualitzaCom(com.getSelectedItem().toString()) }

		area.addListSelectionListener() {
			if (!area.isSelectionEmpty())
				visualitzaInstituts(area.getSelectedValue())
			else
				peu.setText(&quot;&quot;)
		 }
	}

	fun agafarComarques() {
		// Instruccions per a posar en el ComboBox el nom de totes les comarques, millor si és per ordre alfabètic

	}

	fun visualitzaCom(comarca: String) {
		// Instruccions per a llegir la comarca que arriba com a paràmetre (s'ha de deixar en un objecte Comarca).
		// S'ha de cuidar que si no exiteix la comarca, en el JList es pose que no existeix.
		// La manera d'anar introduint informació en el JList és a través del DefaultListModel:
		// listModel.addElement(&quot;Linia que es vol introduir &quot;)
		// Per a esborrar els element del JList: listModel.clear()
		// Es pot fer carregant un objecte, o per mig de consulta, però en aquest cas podem tenir problemes amb '
		// Una manera de solucionar el problema de la cometa simple és utilitzar comarca.replaceAll(&quot;'&quot;,&quot;''&quot;).
		// Una altra és utilitzar paràmetres

	}

	fun visualitzaInstituts(poble: String) {
		// Instruccions per a mostrar el número d'Instituts del poble seleccionat
		// La millor manera és per mig d'una consulta. Podem tenir problemes amb la cometa simple
		// Una manera de solucionar el problema de la cometa simple és utilitzar poble.replaceAll(&quot;'&quot;,&quot;''&quot;).
		// Una altra és utilitzar paràmetres

	}

}

fun main() {
	EventQueue.invokeLater {
		FinestraComboBox().isVisible = true
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aquest seria un exemple d'execució:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex3_1.png&quot; alt=&quot;&quot; width=&quot;550&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3855"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="38_89_2.105"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="109">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="107"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex3_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex3_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="a79783a937653d8d4d37b6f0bb49bcb1"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="108"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="108"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="106"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="38"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="109"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="110">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.4"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="111">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="91_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="110"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Anem a intentar un programa per al manteniment de les comarques (no intentarem mantenir els pobles de la comarca, únicament el nom i la província de la comarca). Ha d'estar en el paquet &lt;strong&gt;Exercicis&lt;/strong&gt; del projecte &lt;strong&gt;Tema5_Hibernate_PostgreSQL_geo_ad&lt;/strong&gt;&lt;strong&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En una primera fase únicament posarem 2 quadres de text per al nom i la província (amb 2 etiquetes) i 4 botons per a desplaçar-nos: al primer, a l'anterior, al següent i a l'últim.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex4_1.png&quot; alt=&quot;&quot; width=&quot;350&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Heu de modificar els mètodes on estan les indicacions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El mètode &lt;strong&gt;agafarComarques()&lt;/strong&gt; ha de tornar la llista de les comarques. Per tant heu de fer una consulta HQL el més senzilla possible i posar tots els objectes de les comarques en la llista.&lt;/li&gt;
&lt;li&gt;El mètode &lt;strong&gt;visComarca(int)&lt;/strong&gt; servirà per a visualitzar la comarca l'índex de la qual es passa per paràmetre, assignant els valors als &lt;strong&gt;JtextField nomComarca&lt;/strong&gt; i &lt;strong&gt;nomProvincia&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Implementa els 4 botons de desplaçament.&lt;/li&gt;
&lt;li&gt;Controla que no es puga eixir fora del rang deshabilitant els botons corresponents quan s'estiga en la primera o l'última comarca. No t'oblides d'habilitar-los quan toque.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ací tens &quot;l'esquelet&quot; del programa. Observa que la sessió està creada en la zona de declaracions de les propietats. Podríem haver-la creat en el mètode &lt;strong&gt;afafarComarques()&lt;/strong&gt;, que és quan per mig d'una sentència &lt;strong&gt;HQL&lt;/strong&gt; agafarem totes les comarques i les posarem en un &lt;strong&gt;ArrayList&amp;lt;Comarca&amp;gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;D'aquesta manera podríem tancar la sessió en el mateix mètode&lt;strong&gt; agafarComarques()&lt;/strong&gt; i no utilitzar més recursos dels necessaris. Hem optat per tenir la sessió oberta durant tota la durada del programa per fer-lo igual que en el següent exercici, en el qual sí que ens convé tenir la sessió oberta mentre dure el programa. Amb aquesta intenció, el programa té deshabilitada l'opció de tancar la finestra (&lt;em&gt;&lt;strong&gt;defaultCloseOperation = JFrame.DO_NOTHING_ON_CLOSE&lt;/strong&gt;&lt;/em&gt;), i obligatòriament s'ha de tancarapretant al boto &lt;strong&gt;Eixir&lt;/strong&gt;. Aprofitarem el mètode associat al botó per a tancar  la sessió (&lt;strong&gt;s&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;Observeu també que a banda de &lt;strong&gt;llistaComarques&lt;/strong&gt;, l'arraylist on estan tots els objectes comarques, també tenim la propietat &lt;strong&gt;indActual&lt;/strong&gt;, on guardem l'índex actual, és  a dir, l'índex de la comarca que s'ha d'estar visualitzant en aquest moment.&lt;/p&gt;
&lt;p&gt;Guarda-t'ho en el fitxer Kotlin &lt;strong&gt;Ex5_4_MantenimentComarques.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout
import java.awt.FlowLayout
import java.awt.GridLayout
import java.awt.event.ActionEvent
import java.awt.event.ActionListener
import java.awt.EventQueue

import javax.swing.JButton
import javax.swing.JFrame
import javax.swing.JLabel
import javax.swing.JPanel
import javax.swing.JTextField

import org.hibernate.Query
import org.hibernate.Session

import classes.Comarca
import java.awt.event.WindowEvent

import kotlin.system.exitProcess

class FinestraMantenimentComarques : JFrame() {
	val etIni = JLabel(&quot;Manteniment de COMARQUES&quot;)
	val etNom = JLabel(&quot;Nom comarca&quot;)
	val etProv = JLabel(&quot;Nom província&quot;)

	val nomComarca = JTextField()
	val nomProvincia = JTextField()

	val primer = JButton(&quot;&amp;lt;&amp;lt;&quot;)
	val anterior = JButton(&quot;&amp;lt;&quot;)
	val seguent = JButton(&quot;&amp;gt;&quot;)
	val ultim = JButton(&quot;&amp;gt;&amp;gt;&quot;)

	val eixir = JButton(&quot;Eixir&quot;)

	val pDalt = JPanel(FlowLayout())
	val pCentre = JPanel(GridLayout(8, 0))
	val pDades = JPanel(GridLayout(2, 2))
	val pBotonsMov = JPanel(FlowLayout())
	val pEixir = JPanel(FlowLayout())

    val sessio = Configuration().configure().buildSessionFactory().openSession()

	var llistaComarques = ArrayList&amp;lt;Comarca&amp;gt;()
	var indActual = 0;

	init {
		defaultCloseOperation = JFrame.DO_NOTHING_ON_CLOSE
		setTitle(&quot;HIBERNATE: Manteniment Comarques&quot;)

		setBounds(100, 100, 350, 400)
		setLayout(BorderLayout())

		getContentPane().add(pCentre, BorderLayout.CENTER)
		getContentPane().add(JPanel(FlowLayout()), BorderLayout.WEST)
		getContentPane().add(JPanel(FlowLayout()), BorderLayout.EAST)
		getContentPane().add(pEixir, BorderLayout.SOUTH)

		pDalt.add(etIni)
		pCentre.add(pDalt)

		pDades.add(etNom)
		pDades.add(nomComarca)
		pDades.add(etProv)
		pDades.add(nomProvincia)
		pCentre.add(pDades)

		nomComarca.setEditable(false)
		nomProvincia.setEditable(false)

		pCentre.add(JPanel(FlowLayout()))

		pBotonsMov.add(primer)
		pBotonsMov.add(anterior)
		pBotonsMov.add(seguent)
		pBotonsMov.add(ultim)
		pCentre.add(pBotonsMov)
		
		pEixir.add(eixir)

		llistaComarques = agafarComarques()
		visComarca()

		primer.addActionListener() { primer() }
		anterior.addActionListener() { anterior() }
		seguent.addActionListener() { seguent() }
		ultim.addActionListener() { ultim() }
		
		eixir.addActionListener() { eixir()}
	}

	fun agafarComarques(): ArrayList&amp;lt;Comarca&amp;gt; {
		var llista = ArrayList&amp;lt;Comarca&amp;gt;()
		// ací aniran les sentències per a omplir (i retornar) la llista de comarques

		return llista
	}

	fun visComarca() {
		// Mètode per a visualitzar la comarca marcada per l'índex que ve com a paràmetre

		controlBotons()
	}

	fun primer() {

		visComarca()
	}

	fun anterior() {

		visComarca()
	}

	fun seguent() {

		visComarca()
	}

	fun ultim() {

		visComarca()
	}

	fun controlBotons() {
		// Mètode per a habilitar/deshabilitar els botons anterior i següent, si s'està en la primera o última comarca
		// No us oblideu d'habilitar-los quan toque

	}

	fun eixir() {
		//accions per a tancar i per a eixir

		exitProcess(0)
	}
}

fun main() {
	EventQueue.invokeLater {
		FinestraMantenimentComarques().isVisible = true
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3867"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="40_91_2.102"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="112">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="110"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex4_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex4_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="e80d64f06794f92b76bfcad4b4391519"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="111"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="111"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="103"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="40"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="112"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="113">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.5 (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="114">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="92_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="113"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Modifica l'anterior &lt;strong&gt;&lt;/strong&gt;per a posar també botons per a Inserir noves comarques, esborrar o modificar. En un primer moment aquestos botons prepararan l'acció, però no la realitzaran.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex5_1.png&quot; alt=&quot;&quot; width=&quot;350&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Quan s'aprete qualsevol dels 3, &lt;strong&gt;Inserir&lt;/strong&gt;, &lt;strong&gt;Modificar&lt;/strong&gt; o &lt;strong&gt;Esborrar&lt;/strong&gt;, es visualitzaran uns altres dos (ja creats, ara es visualitzaran) que seran els d'&lt;strong&gt;Acceptar&lt;/strong&gt; i &lt;strong&gt;Cancel·lar&lt;/strong&gt;. A més d'aixó:
&lt;ul&gt;
&lt;li&gt;el d'inserir ha de netejar els quadres de text i posar-los com a editables.&lt;/li&gt;
&lt;li&gt;el de modificar ha de permetre l'edició de la província, i únicament la província. No intentarem modificar el nom de la comarca perquè és la clau principal de la taula associada.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;En apretar Cancel·lar, s'ha de tornar a l'estat anterior, fer els TextField no editables i fer invisibles els botons d'Acceptar i Cancel·lar.&lt;/li&gt;
&lt;li&gt;En apretar Acceptar, s'ha de distingir quina acció s'està fent, inserir, esborrar o modificar, i realitzar tal acció en la Base de Dades. Posteriorment s'hauran de fer invisibles els botons d'Acceptar i Cancel·lar, i en tot cas fer els TextField com a no editables&lt;/li&gt;
&lt;li&gt;Seria molt útil que en quan s'està fent una actualització (Inserir, Modificar o Esborrar), es desactiven tant els botons de moviment com d'actualització. En apretar Acceptar o Cancel·lar a més de fer les accions citades abans, s'haurien de tornar a activar els botons de moviment i d'actualització.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex5_2.png&quot; alt=&quot;&quot; width=&quot;350&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Ací està &quot;l'esquelet&quot; del programa, que podeu guardar amb el nom &lt;strong&gt;Ex5_5_MantenimentComarquesAvancat.kt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout
import java.awt.FlowLayout
import java.awt.GridLayout
import java.awt.event.ActionEvent
import java.awt.event.ActionListener
import java.awt.EventQueue

import javax.swing.JButton
import javax.swing.JFrame
import javax.swing.JLabel
import javax.swing.JPanel
import javax.swing.JTextField

import org.hibernate.Query
import org.hibernate.Session

import classes.Comarca
import java.awt.event.WindowEvent

import kotlin.system.exitProcess

class FinestraMantenimentComarquesAvancat : JFrame() {
	val etIni = JLabel(&quot;Manteniment de COMARQUES&quot;)
	val etNom = JLabel(&quot;Nom comarca&quot;)
	val etProv = JLabel(&quot;Nom província&quot;)

	val nomComarca = JTextField()
	val nomProvincia = JTextField()

	val primer = JButton(&quot;&amp;lt;&amp;lt;&quot;)
	val anterior = JButton(&quot;&amp;lt;&quot;)
	val seguent = JButton(&quot;&amp;gt;&quot;)
	val ultim = JButton(&quot;&amp;gt;&amp;gt;&quot;)

	val inserir = JButton(&quot;Inserir&quot;)
	val modificar = JButton(&quot;Modificar&quot;)
	val esborrar = JButton(&quot;Esborrar&quot;)

	val acceptar = JButton(&quot;Acceptar&quot;)
	val cancelar = JButton(&quot;Cancel·lar&quot;)

	val eixir = JButton(&quot;Eixir&quot;)

	val pDalt = JPanel(FlowLayout())
	val pCentre = JPanel(GridLayout(8, 0))
	val pDades = JPanel(GridLayout(2, 2))
	val pBotonsMov = JPanel(FlowLayout())
	val pBotonsAct = JPanel(FlowLayout())
	val pBotonsAccCanc = JPanel(FlowLayout())
	val pEixir = JPanel(FlowLayout())

    val sessio = Configuration().configure().buildSessionFactory().openSession()

	var llistaComarques = ArrayList&amp;lt;Comarca&amp;gt;()
	var indActual = 0

	var accio: String = &quot;&quot;

	init {
		defaultCloseOperation = JFrame.DO_NOTHING_ON_CLOSE
		setTitle(&quot;HIBERNATE: Manteniment Comarques&quot;)

		setBounds(100, 100, 350, 400)
		setLayout(BorderLayout())

		getContentPane().add(pCentre, BorderLayout.CENTER)
		getContentPane().add(JPanel(FlowLayout()), BorderLayout.WEST)
		getContentPane().add(JPanel(FlowLayout()), BorderLayout.EAST)
		getContentPane().add(pEixir, BorderLayout.SOUTH)

		pDalt.add(etIni)
		pCentre.add(pDalt)

		pDades.add(etNom)
		pDades.add(nomComarca)
		pDades.add(etProv)
		pDades.add(nomProvincia)
		pCentre.add(pDades)

		nomComarca.setEditable(false)
		nomProvincia.setEditable(false)

		pCentre.add(JPanel(FlowLayout()))

		pBotonsMov.add(primer)
		pBotonsMov.add(anterior)
		pBotonsMov.add(seguent)
		pBotonsMov.add(ultim)
		pCentre.add(pBotonsMov)

		pBotonsAct.add(inserir)
		pBotonsAct.add(modificar)
		pBotonsAct.add(esborrar)
		pCentre.add(pBotonsAct)

		pBotonsAccCanc.add(acceptar)
		pBotonsAccCanc.add(cancelar)
		pCentre.add(pBotonsAccCanc)
		pBotonsAccCanc.setVisible(false)

		pEixir.add(eixir)

		llistaComarques = agafarComarques()
		visComarca()

		primer.addActionListener() { primer() }
		anterior.addActionListener() { anterior() }
		seguent.addActionListener() { seguent() }
		ultim.addActionListener() { ultim() }

		inserir.addActionListener() { inserir() }
		modificar.addActionListener() { modificar() }
		esborrar.addActionListener() { esborrar() }

		acceptar.addActionListener() { acceptar() }
		cancelar.addActionListener() { cancelar() }

		eixir.addActionListener() { eixir() }
	}

	fun agafarComarques(): ArrayList&amp;lt;Comarca&amp;gt; {
		var llista = ArrayList&amp;lt;Comarca&amp;gt;()
		// ací aniran les sentències per a omplir (i retornar) la llista de comarques

		return llista
	}

	fun visComarca() {
		// Mètode per a visualitzar la comarca marcada per l'índex que ve com a paràmetre

		controlBotons()
	}

	fun primer() {

		visComarca()
	}

	fun anterior() {

		visComarca()
	}

	fun seguent() {

		visComarca()
	}

	fun ultim() {

		visComarca()
	}

	fun controlBotons() {
		// Mètode per a habilitar/deshabilitar els botons anterior i següent, si s'està en la primera o última comarca
		// No us oblideu d'habilitar-los quan toque

	}

	fun inserir() {
		//accions per a preparar per a inserir una nova comarca

	}

	fun modificar() {
		//accions per a preparar per a modificar la comarca actual

	}

	fun esborrar() {
		//accions per a preparar per a esborrar la comarca actual


	}

	fun acceptar() {
		//accions per a fer l'acció d'inserir, modificar i esborrar

	}

	fun cancelar() {
		//accions per a cancel·lar la inserció, modificació o esborrat

	}

	fun buscaCom(text: String): Int {
		// Busca la comarca passada com a paràmetre en llistaComarques, tornant el seu índex. Per a situar-se després d'una inserció.
		var ind = 0
		// Ací haurien d'anar les sentències

		return ind
	}

	fun activarBotons(b: Boolean) {
		// Mètode per activar o desactivar (segons el paràmetre) els botons de moviment i els d'actualització
		// Farem invisible o visible el panell dels botons acceptar i cancel·lar (pBotonsAccCanc

	}

	fun eixir() {
		//accions per a tancar i per a eixir

	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3856"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="41_92_2.206"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="115">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="113"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex5_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex5_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="c1ceeb4f345ce08a15c499d5e7313678"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="114"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3861"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="41_92_2.207"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="116">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="113"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex5_2.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex5_2.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="455a24788df1fb38e09b1fdd22c558ff"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="114"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="114"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="208"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="41"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="115"></reference>
            <reference key="116"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="117">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.6 (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="118">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="45_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="117"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Crea un projecte nou anomenat &lt;strong&gt;Tema5_&lt;/strong&gt;&lt;strong&gt;PostgreSQL_Autoescola_Anotacions&lt;/strong&gt;. Inclou el driver JDBC de PostgreSQL.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Per mig &lt;strong&gt;d'ANOTACIONS&lt;/strong&gt; (no els fitxers de mapatge hbm.xml) fes el mapatge de totes les taules&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;, situades en la Base de Dades &lt;strong&gt;autoescola&lt;/strong&gt; a la qual pot accedir l'usuari &lt;strong&gt;autoescola &lt;/strong&gt;(contrasenya &lt;strong&gt;autoescola&lt;/strong&gt;) i situada en el servidor de l'Institut &lt;strong&gt;&lt;/strong&gt;(&lt;strong&gt;89.36.214.106&lt;/strong&gt;). Guarda-les en un paquet anomenat &lt;strong&gt;classes&lt;/strong&gt;. El mapatge serà de 5 taules: &lt;strong&gt;ALUMNE, EXAMEN, PRACTIQUES, PROFESSOR i VEHICLE&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;El resultat seran les classes: &lt;strong&gt;Alumne.java&lt;/strong&gt;, &lt;strong&gt;Examen.java&lt;/strong&gt;, &lt;strong&gt;Practiques.java&lt;/strong&gt;, &lt;strong&gt;Professor.java&lt;/strong&gt;, &lt;strong&gt;Vehicle.java&lt;/strong&gt; i també &lt;strong&gt;ExamenPK.java&lt;/strong&gt; i &lt;strong&gt;PractiquesPK.java&lt;/strong&gt;, ja que la clau principal de EXAMEN i de PRACTIQUES està formada per dos camps.&lt;/li&gt;
&lt;li&gt;En el moment del mapatge has d'anar amb compte amb el tipus de les propietats. No convé que deixes en cap moment el tipus &lt;strong&gt;Object&lt;/strong&gt;. Intenta buscar el tipus adequat en cada cas.&lt;/li&gt;
&lt;li&gt;Posteriorment, per a que funcionen els programes has de modificar les classes &lt;strong&gt;Examen &lt;/strong&gt;i &lt;strong&gt;Practiques&lt;/strong&gt;, afegeix el que està en negreta a l'anotació del JoinColumn que es refereix al dni de l'alumne&lt;/li&gt;
&lt;/ul&gt;
&lt;table border=&quot;1&quot; style=&quot;width: 100%; background-color: #ffffff;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 100%;&quot;&gt;&lt;span style=&quot;font-family: 'courier new', courier, monospace; font-size: 11pt;&quot;&gt;@ManyToOne&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-family: 'courier new', courier, monospace; font-size: 11pt;&quot;&gt;@JoinColumn(name = &quot;dni&quot;, referencedColumnName = &quot;dni&quot;, nullable = false, &lt;strong&gt;insertable = false, updatable = false&lt;/strong&gt;)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;En el mateix paquet &lt;strong&gt;classes&lt;/strong&gt;, crea't el fitxer &lt;strong&gt;ConsultaAutoescola.kt&lt;/strong&gt;, que serà un programa senzill que visualitzarà els professors de l'autoescola i els seus alumnes, ordenats pel nom del professor. Completarem la informació amb els quilòmetres realitzats pels alumnes en la totalitat de les seues pràctiques i el número d'exàmens que ha realitzat. Intenta llevar els warnings que sempre ens dóna Hibernate. El resultat seria aquest:&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex6_1.png&quot; alt=&quot;&quot; width=&quot;596&quot; height=&quot;254&quot; /&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3851"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="45_45_2.45"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="119">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="117"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex6_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp4Erftk/T5_Ex6_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="4938c92eca5b4c6b95531674b629411c"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="118"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="118"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="46"></int>
              <string role="key" value="parentNode"></string>
              <reference key="103"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="45"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="103"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="119"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="22"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:Exercicis"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
     </list>
    </dictionary>
   </instance>
   <unicode role="key" value="1"></unicode>
   <reference key="8"></reference>
   <unicode role="key" value="10"></unicode>
   <reference key="48"></reference>
   <unicode role="key" value="11"></unicode>
   <reference key="45"></reference>
   <unicode role="key" value="12"></unicode>
   <reference key="55"></reference>
   <unicode role="key" value="13"></unicode>
   <reference key="58"></reference>
   <unicode role="key" value="14"></unicode>
   <reference key="61"></reference>
   <unicode role="key" value="15"></unicode>
   <reference key="64"></reference>
   <unicode role="key" value="16"></unicode>
   <reference key="69"></reference>
   <unicode role="key" value="17"></unicode>
   <reference key="73"></reference>
   <unicode role="key" value="18"></unicode>
   <reference key="78"></reference>
   <unicode role="key" value="19"></unicode>
   <reference key="81"></reference>
   <unicode role="key" value="2"></unicode>
   <reference key="11"></reference>
   <unicode role="key" value="20"></unicode>
   <reference key="90"></reference>
   <unicode role="key" value="21"></unicode>
   <reference key="97"></reference>
   <unicode role="key" value="22"></unicode>
   <reference key="103"></reference>
   <unicode role="key" value="25"></unicode>
   <reference key="100"></reference>
   <unicode role="key" value="28"></unicode>
   <reference key="52"></reference>
   <unicode role="key" value="3"></unicode>
   <reference key="15"></reference>
   <unicode role="key" value="4"></unicode>
   <reference key="24"></reference>
   <unicode role="key" value="5"></unicode>
   <reference key="28"></reference>
   <unicode role="key" value="7"></unicode>
   <reference key="34"></reference>
   <unicode role="key" value="8"></unicode>
   <reference key="40"></reference>
  </dictionary>
  <string role="key" value="_objectives"></string>
  <unicode value=""></unicode>
  <string role="key" value="_preknowledge"></string>
  <unicode value=""></unicode>
  <string role="key" value="_templateFile"></string>
  <string value=""></string>
  <string role="key" value="backgroundImgTile"></string>
  <bool value="0"></bool>
  <string role="key" value="currentNode"></string>
  <reference key="28"></reference>
  <string role="key" value="dublinCore"></string>
  <instance class="exe.engine.package.DublinCore">
   <dictionary>
    <string role="key" value="contributors"></string>
    <unicode value=""></unicode>
    <string role="key" value="coverage"></string>
    <unicode value=""></unicode>
    <string role="key" value="creator"></string>
    <unicode value=""></unicode>
    <string role="key" value="date"></string>
    <unicode value=""></unicode>
    <string role="key" value="description"></string>
    <unicode value=""></unicode>
    <string role="key" value="format"></string>
    <unicode value=""></unicode>
    <string role="key" value="identifier"></string>
    <unicode value=""></unicode>
    <string role="key" value="language"></string>
    <unicode value="ca"></unicode>
    <string role="key" value="publisher"></string>
    <unicode value=""></unicode>
    <string role="key" value="relation"></string>
    <unicode value=""></unicode>
    <string role="key" value="rights"></string>
    <unicode value=""></unicode>
    <string role="key" value="source"></string>
    <unicode value=""></unicode>
    <string role="key" value="subject"></string>
    <unicode value=""></unicode>
    <string role="key" value="title"></string>
    <unicode value=""></unicode>
    <string role="key" value="type"></string>
    <unicode value=""></unicode>
   </dictionary>
  </instance>
  <string role="key" value="exe.engine.package.Package.persistenceVersion"></string>
  <int value="16"></int>
  <string role="key" value="exportMetadataType"></string>
  <string value="LOMES"></string>
  <string role="key" value="exportSource"></string>
  <bool value="1"></bool>
  <string role="key" value="footer"></string>
  <unicode value=""></unicode>
  <string role="key" value="isChanged"></string>
  <int value="1"></int>
  <string role="key" value="isLoading"></string>
  <bool value="0"></bool>
  <string role="key" value="license"></string>
  <unicode value="creative commons: attribution - non commercial - share alike 2.5"></unicode>
  <string role="key" value="lom"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="6069712f-d105-4b59-b1eb-cb68a07cb785"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="120">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-11-04"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="121">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="122">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOMv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="120"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="121"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="122"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOMv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <none></none>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="yes"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="lomEs"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="6069712f-d105-4b59-b1eb-cb68a07cb785"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="123">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-11-04"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="124">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="125">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOM-ESv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="123"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="124"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="125"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOM-ESv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <instance class="exe.engine.lom.lomsubs.accessSub">
       <dictionary>
        <string role="key" value="accessType"></string>
        <instance class="exe.engine.lom.lomsubs.accessTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="uniqueElementName"></string>
          <string value="accessType"></string>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.accessTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="universal"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <string role="key" value="description"></string>
        <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list>
           <instance class="exe.engine.lom.lomsubs.LangStringSub">
            <dictionary>
             <string role="key" value="language"></string>
             <string value="ca"></string>
             <string role="key" value="valueOf_"></string>
             <unicode value="Per defecte"></unicode>
            </dictionary>
           </instance>
          </list>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="access"></string>
       </dictionary>
      </instance>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="creative commons: attribution - non commercial - share alike"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <string value="rights"></string>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="mxmlforcemediaonly"></string>
  <bool value="0"></bool>
  <string role="key" value="mxmlheight"></string>
  <string value=""></string>
  <string role="key" value="mxmlprofilelist"></string>
  <string value=""></string>
  <string role="key" value="mxmlwidth"></string>
  <string value=""></string>
  <string role="key" value="release"></string>
  <string value="2.7"></string>
  <string role="key" value="resources"></string>
  <dictionary>
   <string role="key" value="06692625ef461790b5926be94f6ae86e"></string>
   <list>
    <reference key="35"></reference>
   </list>
   <string role="key" value="1a3941bd258e1ea2b1d04083105d1e09"></string>
   <list>
    <reference key="29"></reference>
   </list>
   <string role="key" value="2e64371ec3d38608bd6d6356c92c0444"></string>
   <list>
    <reference key="12"></reference>
   </list>
   <string role="key" value="2f8aeca9d8f2efa1f4ae07a7fe850d18"></string>
   <list>
    <reference key="5"></reference>
   </list>
   <string role="key" value="3192c3691ddd9931f64f10d6c0850ce8"></string>
   <list>
    <reference key="49"></reference>
   </list>
   <string role="key" value="31c9a2070f8f61bf9b81dc3ed936a5c7"></string>
   <list>
    <reference key="30"></reference>
   </list>
   <string role="key" value="4249c31a5e8f508223ecabcb56b80df0"></string>
   <list>
    <reference key="106"></reference>
   </list>
   <string role="key" value="455a24788df1fb38e09b1fdd22c558ff"></string>
   <list>
    <reference key="116"></reference>
   </list>
   <string role="key" value="4938c92eca5b4c6b95531674b629411c"></string>
   <list>
    <reference key="119"></reference>
   </list>
   <string role="key" value="784de883a7ed08d4b5a41ba45bf15c96"></string>
   <list>
    <reference key="36"></reference>
   </list>
   <string role="key" value="7e5bb1c6beda01dde9e265f638e4700e"></string>
   <list>
    <reference key="70"></reference>
   </list>
   <string role="key" value="977fa6508c0c95278888670edb3d0b66"></string>
   <list>
    <reference key="31"></reference>
   </list>
   <string role="key" value="a79783a937653d8d4d37b6f0bb49bcb1"></string>
   <list>
    <reference key="109"></reference>
   </list>
   <string role="key" value="bcdabdc38943cf11f5136a19277fd26c"></string>
   <list>
    <reference key="41"></reference>
   </list>
   <string role="key" value="c01846a4e974bd8d947c44f1094b42c0"></string>
   <list>
    <reference key="25"></reference>
   </list>
   <string role="key" value="c1ceeb4f345ce08a15c499d5e7313678"></string>
   <list>
    <reference key="115"></reference>
   </list>
   <string role="key" value="cf14390307371a8864980ca3d3f2e953"></string>
   <list>
    <reference key="37"></reference>
   </list>
   <string role="key" value="dc35764e2c346e2502ba4f1a6f77efaf"></string>
   <list>
    <reference key="42"></reference>
   </list>
   <string role="key" value="e80d64f06794f92b76bfcad4b4391519"></string>
   <list>
    <reference key="112"></reference>
   </list>
  </dictionary>
  <string role="key" value="root"></string>
  <reference key="4"></reference>
  <string role="key" value="scolinks"></string>
  <bool value="0"></bool>
  <string role="key" value="scowsinglepage"></string>
  <bool value="0"></bool>
  <string role="key" value="scowwebsite"></string>
  <bool value="0"></bool>
  <string role="key" value="style"></string>
  <unicode value="caminas 3.1"></unicode>
  <string role="key" value="tempFile"></string>
  <bool value="0"></bool>
 </dictionary>
</instance>