<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ca" xml:lang="ca" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>3.2.3.6 - Inserció en Arrays: $push | Bases de Dades </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="ca" />
<meta name="author" content="Àlvar Serrano Calduch" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
</head>
<body class="exe-web-site" id="exe-node-26"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Omet navegació</a></p>
<div id="header" ><div id="headerContent">Bases de Dades</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Tema 8: Bases de Dades NoSQL</a></li>
   <li><a href="1__introducci.html" class="no-ch">1 - Introducció</a></li>
   <li><a href="2__bases_de_dades_clauvalor.html" class="daddy">2 - Bases de Dades Clau-Valor</a>
   <ul class="other-section">
      <li><a href="21__installaci_de_redis.html" class="no-ch">2.1 - Instal·lació de Redis</a></li>
      <li><a href="22__utilitzaci_de_redis.html" class="daddy">2.2 - Utilització de Redis</a>
      <ul class="other-section">
         <li><a href="221__strings.html" class="no-ch">2.2.1 - Strings</a></li>
         <li><a href="222__keys.html" class="no-ch">2.2.2 - Keys</a></li>
         <li><a href="223__hash.html" class="no-ch">2.2.3 - Hash</a></li>
         <li><a href="224__list.html" class="no-ch">2.2.4 - List</a></li>
         <li><a href="225__set.html" class="no-ch">2.2.5 - Set</a></li>
         <li><a href="226__set_ordenat.html" class="no-ch">2.2.6 - Set ordenat</a></li>
      </ul>
      </li>
      <li><a href="23__connexi_des_de_kotlin.html" class="no-ch">2.3 - Connexió des de Kotlin</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="3__mongodb.html" class="current-page-parent daddy">3 - MongoDB</a>
   <ul>
      <li><a href="31__installaci_de_mongodb.html" class="daddy">3.1 - Instal·lació de MongoDB</a>
      <ul class="other-section">
         <li><a href="311__connexi_al_servidor_de_linstitut.html" class="no-ch">3.1.1 - Connexió al servidor de l'Institut</a></li>
      </ul>
      </li>
      <li class="current-page-parent"><a href="32__utilitzaci_de_mongodb.html" class="current-page-parent daddy">3.2 - Utilització de MongoDB</a>
      <ul>
         <li><a href="321__tipus_de_dades.html" class="no-ch">3.2.1 - Tipus de dades</a></li>
         <li><a href="322__operacions_bsiques.html" class="no-ch">3.2.2 - Operacions bàsiques</a></li>
         <li class="current-page-parent"><a href="323__operacions_dactualitzaci_avanada.html" class="current-page-parent daddy">3.2.3 - Operacions d'actualització avançada</a>
         <ul>
            <li><a href="3231__set.html" class="no-ch">3.2.3.1 - $set</a></li>
            <li><a href="3232__unset.html" class="no-ch">3.2.3.2 - $unset</a></li>
            <li><a href="3233__rename.html" class="no-ch">3.2.3.3 - $rename</a></li>
            <li><a href="3234__inc.html" class="no-ch">3.2.3.4 - $inc</a></li>
            <li><a href="3235__elements_dun_array.html" class="no-ch">3.2.3.5 - Elements d'un array</a></li>
            <li id="active"><a href="3236__inserci_en_arrays_push.html" class="active no-ch">3.2.3.6 - Inserció en Arrays: $push</a></li>
            <li><a href="3237__eliminaci_en_arrays_pop_i_pull.html" class="no-ch">3.2.3.7 - Eliminació en arrays: $pop i $pull</a></li>
            <li><a href="3238__upsert.html" class="no-ch">3.2.3.8 - Upsert</a></li>
         </ul>
         </li>
      </ul>
      </li>
      <li><a href="33__consulta_de_documents.html" class="daddy">3.3 - Consulta de documents</a>
      <ul class="other-section">
         <li><a href="331__parmetres_de_les_funcions_find_i_findone.html" class="no-ch">3.3.1 - Paràmetres de les funcions find() i findOne()</a></li>
         <li><a href="332__operadors_de_les_condicions.html" class="no-ch">3.3.2 - Operadors de les condicions</a></li>
         <li><a href="333__agregaci.html" class="no-ch">3.3.3 - Agregació</a></li>
      </ul>
      </li>
      <li><a href="34__connexi_des_de_kotlin.html" class="no-ch">3.4 - Connexió des de Kotlin</a></li>
      <li><a href="35__connexi_des_de_kotlin_al_servidor_de_linstitut.html" class="no-ch">3.5 - Connexió des de Kotlin al servidor de l'Institut</a></li>
   </ul>
   </li>
   <li><a href="exercicis.html" class="no-ch">Exercicis</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="3235__elements_dun_array.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="3237__eliminaci_en_arrays_pop_i_pull.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">3.2.3.6 - Inserció en Arrays: $push</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id116">
<div class="iDevice emphasis0">
<div id="ta116_85" class="block iDevice_content">

</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id117">
<div class="iDevice emphasis0">
<div id="ta117_85" class="block iDevice_content">
<p>La manera més senzilla d'introduir un element en un array és utilitzar <strong>$push</strong> sense més. Si existia l'array, introduirà el o els nous elements al final. Si no existia l'array, el crearà amb aquest o aquestos elements.</p>
<p>La sintaxi és:</p>
<p class="codi">{ $push : { clau : element } }</p>
<p></p>
<p>Per exemple anem a afegir una nota a l'alumne de sempre, i posem-la diferent per veure que s'introdueix al final:</p>
<p class="codi2">&gt; db.alumnes.update( {nom:"Abel"} , { $push : { nota : 7 } } )<br />WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })</p>
<p class="codi2">&gt; db.alumnes.findOne()<br />{<br />    "_id" : ObjectId("56df11d778549bdfbf2125e3"),<br />    "nom" : "Abel",<br />    "cognoms" : "Bernat Carrera",<br />    "edat" : 22,<br />    "adreça" : {<br />        "carrer" : "Major",<br />        "numero" : 7,<br />        "cp" : "12502"<br />    },<br />    "nota" : [<br />        9.5,<br />        7.5,<br />        9,<br />        7<br />    ]<br />}</p>
<p></p>
<p>També hi ha manera d'introduir un element en una determinada posició que no siga al final, però es complica prou la cosa, ja que hem d'utilitzar per una banda el modificador <strong>$position</strong> per a dir on s'ha d'inserir, i per una altra banda el modificador <strong>$each</strong> per a poder especificar el o els valors que es volen inserir. Es posa a continuació únicament de forma il·lustrativa.</p>
<div class="nota_blau">
<p>Per a inserir en una determinada posició hem d'utilitzar obligatòriament 2 modificadors més:</p>
<ul>
<li><strong>$position</strong> indicarà a partir de quina posició es farà l'acció (normalment d'inserir en l'array, és a dir, <strong>$push</strong>)</li>
<li><strong>$each</strong> ens permet especificar una sèrie de valors com un array, i vol dir que es farà l'operació per a cada valor de l'array</li>
</ul>
<p>Els dos modificadors seguiran la sintaxi de sempre, de clau valor, per tant el conjunt de la sintaxi és:</p>
<p class="codi">{ $ push : <br />   { clau_del_array :<br />      { $position : <em>posició</em> ,<br />        $each : [ <em>valors</em> ]<br />      }<br />    }<br />}</p>
<p>Ací tenim un exemple on introduïm una nota en la primera posició:</p>
<p class="codi2">&gt; db.alumnes.update( {nom:"Abel"} , { $push : { nota : { $position : 0 , $each : [5] } } } )<br />WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })</p>
<p class="codi2">&gt; db.alumnes.findOne()<br />{<br />    "_id" : ObjectId("56df11d778549bdfbf2125e3"),<br />    "nom" : "Abel",<br />    "cognoms" : "Bernat Carrera",<br />    "edat" : 22,<br />    "adreça" : {<br />        "carrer" : "Major",<br />        "numero" : 7,<br />        "cp" : "12502"<br />    },<br />    "nota" : [<br />        5,<br />        9.5,<br />        7.5,<br />        9,<br />        7<br />    ]<br />}</p>
<p></p>
</div>
<p></p>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="3235__elements_dun_array.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="3237__eliminaci_en_arrays_pop_i_pull.html" class="next"><span>Següent<span> &raquo;</span></span></a>
</div>
</div>
<div id="packageLicense" class="cc cc-by-nc-nd">
<p><span>Llicenciat sota la </span> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Llicència Creative Commons Reconeixement NoComercial SenseObraDerivada 4.0</a></p>
</div>
</div>
</div>
</div>
</body></html>