<?xml version="1.0" encoding="utf-8"?>

<instance xmlns="http://www.exelearning.org/content/v0.3" reference="2" version="0.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="http://www.exelearning.org/content/v0.3 content.xsd" class="exe.engine.package.Package">
 <dictionary>
  <string role="key" value="_title"></string>
  <unicode value="Accés a Dades"></unicode>
  <string role="key" value="idevices"></string>
  <list></list>
  <string role="key" value="_addPagination"></string>
  <bool value="0"></bool>
  <string role="key" value="_addSearchBox"></string>
  <bool value="0"></bool>
  <string role="key" value="_author"></string>
  <unicode value="Àlvar Serrano Calduch"></unicode>
  <string role="key" value="_backgroundImg"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextMode"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextPlace"></string>
  <unicode value=""></unicode>
  <string role="key" value="_description"></string>
  <unicode value="Tema 2 d'Accés a Dades"></unicode>
  <string role="key" value="_docType"></string>
  <unicode value="XHTML"></unicode>
  <string role="key" value="_exportElp"></string>
  <bool value="0"></bool>
  <string role="key" value="_extraHeadContent"></string>
  <unicode value=""></unicode>
  <string role="key" value="_fieldValidationInfo"></string>
  <dictionary>
   <unicode role="key" value="all"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_title"></unicode>
     <unicode value="pp_lang"></unicode>
     <unicode value="pp_description"></unicode>
     <unicode value="pp_author"></unicode>
     <unicode value="pp_newlicense"></unicode>
    </list>
   </dictionary>
   <unicode role="key" value="procomun"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_learningResourceType"></unicode>
    </list>
    <unicode role="key" value="values_from_list"></unicode>
    <dictionary>
     <unicode role="key" value="pp_learningResourceType"></unicode>
     <list>
      <unicode value="master class"></unicode>
      <unicode value="closed exercise or problem"></unicode>
      <unicode value="real project"></unicode>
      <unicode value="didactic game"></unicode>
      <unicode value="webquest"></unicode>
      <unicode value="open problem"></unicode>
      <unicode value="simulation"></unicode>
      <unicode value="questionnaire"></unicode>
      <unicode value="conceptual map"></unicode>
     </list>
    </dictionary>
   </dictionary>
  </dictionary>
  <string role="key" value="_intendedEndUserRoleGroup"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleTutor"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_isChanged"></string>
  <bool value="0"></bool>
  <string role="key" value="_isTemplate"></string>
  <bool value="0"></bool>
  <string role="key" value="_lang"></string>
  <unicode value="ca"></unicode>
  <string role="key" value="_learningResourceType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_levelNames"></string>
  <list>
   <unicode value="Tema"></unicode>
   <unicode value="Secció"></unicode>
   <unicode value="Apartat"></unicode>
  </list>
  <string role="key" value="_name"></string>
  <unicode value="AD_T2_Gesti_del_contingut_de_fitxers"></unicode>
  <string role="key" value="_nextIdeviceId"></string>
  <int value="24"></int>
  <string role="key" value="_nextNodeId"></string>
  <int value="17"></int>
  <string role="key" value="_nodeIdDict"></string>
  <dictionary>
   <unicode role="key" value="0"></unicode>
   <instance class="exe.engine.node.Node" reference="4">
    <dictionary>
     <string role="key" value="_title"></string>
     <unicode value="Tema 2: Gestió del contingut de fitxers"></unicode>
     <string role="key" value="idevices"></string>
     <list>
      <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="1">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Free Text"></unicode>
        <string role="key" value="_author"></string>
        <unicode value="University of Auckland"></unicode>
        <string role="key" value="_purpose"></string>
        <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
        <string role="key" value="_tip"></string>
        <string value=""></string>
        <string role="key" value="childs"></string>
        <list></list>
        <string role="key" value="content"></string>
        <instance class="exe.engine.field.TextAreaField" reference="3">
         <dictionary>
          <string role="key" value="_id"></string>
          <int value="1"></int>
          <string role="key" value="_idevice"></string>
          <reference key="1"></reference>
          <string role="key" value="_instruc"></string>
          <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
          <string role="key" value="_name"></string>
          <unicode value="Free Text"></unicode>
          <string role="key" value="anchor_names"></string>
          <list></list>
          <string role="key" value="anchors_linked_from_fields"></string>
          <dictionary></dictionary>
          <string role="key" value="buttonCaption"></string>
          <string value=""></string>
          <string role="key" value="content_w_resourcePaths"></string>
          <unicode content="true" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2_Portada.1.png&quot; alt=&quot;&quot; width=&quot;800&quot; height=&quot;500&quot; /&gt;&lt;/p&gt;"></unicode>
          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
          <int value="4"></int>
          <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
          <int value="2"></int>
          <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
          <int value="3"></int>
          <string role="key" value="htmlTag"></string>
          <string value="div"></string>
          <string role="key" value="images"></string>
          <instance class="exe.engine.galleryidevice.GalleryImages">
           <dictionary>
            <string role="key" value=".listitems"></string>
            <list>
             <instance class="exe.engine.galleryidevice.GalleryImage">
              <dictionary>
               <string role="key" value="_caption"></string>
               <instance class="exe.engine.field.TextField">
                <dictionary>
                 <string role="key" value="_id"></string>
                 <int value="2450"></int>
                 <string role="key" value="_idevice"></string>
                 <none></none>
                 <string role="key" value="_instruc"></string>
                 <string value=""></string>
                 <string role="key" value="_name"></string>
                 <string value=""></string>
                 <string role="key" value="content"></string>
                 <string value=""></string>
                 <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                 <int value="4"></int>
                </dictionary>
               </instance>
               <string role="key" value="_id"></string>
               <unicode value="2_1.39"></unicode>
               <string role="key" value="_imageResource"></string>
               <instance class="exe.engine.resource.Resource" reference="5">
                <dictionary>
                 <string role="key" value="_idevice"></string>
                 <reference key="1"></reference>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="_storageName"></string>
                 <string value="T2_Portada.1.png"></string>
                 <string role="key" value="_userName"></string>
                 <string value="/tmp/tmpO8qCd1/T2_Portada.1.png"></string>
                 <string role="key" value="checksum"></string>
                 <string value="3ce2edd2d04196892beecaea3f838d06"></string>
                 <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="warningMsg"></string>
                 <string value=""></string>
                </dictionary>
               </instance>
               <string role="key" value="_parent"></string>
               <reference key="3"></reference>
               <string role="key" value="_thumbnailResource"></string>
               <none></none>
               <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
               <int value="3"></int>
               <string role="key" value="makeThumbnail"></string>
               <bool value="0"></bool>
              </dictionary>
             </instance>
            </list>
            <string role="key" value="idevice"></string>
            <reference key="3"></reference>
           </dictionary>
          </instance>
          <string role="key" value="intlinks_to_anchors"></string>
          <dictionary></dictionary>
          <string role="key" value="nextImageId"></string>
          <int value="40"></int>
          <string role="key" value="parentNode"></string>
          <reference key="4"></reference>
         </dictionary>
        </instance>
        <string role="key" value="edit"></string>
        <bool value="0"></bool>
        <string role="key" value="emphasis"></string>
        <int value="0"></int>
        <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
        <int value="7"></int>
        <string role="key" value="icon"></string>
        <string value=""></string>
        <string role="key" value="id"></string>
        <unicode value="2"></unicode>
        <string role="key" value="lastIdevice"></string>
        <bool value="0"></bool>
        <string role="key" value="parent"></string>
        <none></none>
        <string role="key" value="parentNode"></string>
        <reference key="4"></reference>
        <string role="key" value="systemResources"></string>
        <list></list>
        <string role="key" value="type"></string>
        <none></none>
        <string role="key" value="undo"></string>
        <bool value="1"></bool>
        <string role="key" value="userResources"></string>
        <list>
         <reference key="5"></reference>
        </list>
        <string role="key" value="version"></string>
        <int value="0"></int>
       </dictionary>
      </instance>
     </list>
     <string role="key" value="_id"></string>
     <unicode value="0"></unicode>
     <string role="key" value="_package"></string>
     <reference key="2"></reference>
     <string role="key" value="anchor_fields"></string>
     <list></list>
     <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
     <int value="2"></int>
     <string role="key" value="exportType"></string>
     <string value="website"></string>
     <string role="key" value="last_full_node_path"></string>
     <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers"></string>
     <string role="key" value="parent"></string>
     <none></none>
     <string role="key" value="top_anchors_linked_from_fields"></string>
     <list></list>
     <string role="key" value="children"></string>
     <list>
      <instance class="exe.engine.node.Node" reference="8">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Objectius"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="6">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Objectius"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="Objectives describe the expected outcomes of the learning and should
define what the learners will be able to do when they have completed the
learning tasks."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="objectives"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="7">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="90_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="6"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Type the learning objectives for this resource."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Objectives"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;L'objectiu d'aquest tema serà accedir al contingut dels fitxers, bé per a llegir únicament o bé per a guardar informació de forma permanent.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per a açò en Java disposem de les classes de &lt;strong&gt;flux de dades&lt;/strong&gt; (&lt;strong&gt;streams&lt;/strong&gt;). Lamentablement Java disposa d'una quantitat de streams extraordinàriament gran, cosa que suposa una gran complexitat per al programador (ja que ha de recordar moltes classes). Per contra ofereix una potencialitat molt gran.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Donada aquesta varietat de classes i la complexitat inherent, aquest tema començarà el tractament del contingut dels fitxers separant les classes en 2 categories: considerant la informació com un conjunt de bytes, i considerant-la com un conjunt de caràcters.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Afortunadament Kotlin simplifica molt el tractament, i no caldrà utilitzar tantes classes. No obstant això, és recomanable saber tota la jerarquia de classes e Java per a poder dominar l'accés a fitxers també en Kotlin.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;El següent tema serà una continuació d'aquest, veient formats especials de fitxers i també diferents maneres d'accedir.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Per als exemples i exercicis d'aquest tema, heu de crear un projecte nou, &lt;strong&gt;Tema2&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Haureu de crear 2 paquets, &lt;strong&gt;Exemples&lt;/strong&gt; i &lt;strong&gt;Exercicis&lt;/strong&gt;, de forma similar a com havíem fet en el Tema 1.&lt;/p&gt;
&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="7"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="8"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="objectives"></unicode>
           <string role="key" value="id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="8"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="15"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:Objectius"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="11">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="1 - Magatzems i fluxos de dades"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="9">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="10">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="9"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;En la major part de programes necessitem guardar informació de forma permanent, de manera que perduren, encara que finalitze l'execució del programa, o que servesquen de dades inicials. Els fitxers ens proporcionen la forma més senzilla de guardar informació.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En el tema anterior vam veure com poder accedir tant a un directori com a un fitxer, però no vam accedir al contingut d'aquestos. Dels fitxers només podíem veure les seues característiques externes: nom, tipus, permisos, grandària, ... Però en cap moment vam accedir al seu contingut. Serà el que veurem en aquest tema.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En un fitxer, com dèiem, quedarà guardada la informació de forma permanent. Serà una &lt;strong&gt;seqüència de bits&lt;/strong&gt;, un darrere de l'altre que representaran les dades guardades, bé siguen caràcters d'un text, dades numériques, o els bytes d'una imatge, per exemple. Aquesta seqüència de bits ens aporta una visió estàtica de les dades, ja que queden guardades al llarg del temps.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Posant un exemple clàssic, els pantans i dipòsits on s'emmagatzema l'aigua serien comparables als fitxers. Però per a nosaltres aquestos pantans i dipòsits queden lluny. I quan parlem d'aigua corrent tenim més tendència a pensar en les canonades i aixetes que ens porten aquesta aigua emmagatzemada fins a nosaltres. Doncs de forma similar, des del punt de vista de l’aplicació, el que realment cobra importància és la transferència de dades, més que el magatzem, que arriben aquestes dades a l'aplicació o que l'aplicació les puga transferir fins al fitxer. L’eina que ens permet controlar aquestes transferències, de forma similar a les aixetes i canonades, l’anomenem &lt;strong&gt;flux de dades&lt;/strong&gt;. És un concepte associat a la transmissió seqüencial d’una sèrie de dades des de l’aplicació al dispositiu d’emmagatzematge o a l’inrevés. Ens dóna una visió eminentment dinàmica de la informació.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Java utilitza els &lt;strong&gt;streams&lt;/strong&gt; (fluxos de dades) per a poder accedir a la informació. Però els &lt;em&gt;streams &lt;/em&gt;no limiten la transferència de dades d'un fitxer, sinó que es generalitza per a qualsevol font de dades: memòria, xarxa, fins i tot altres aplicacions. D'aquesta manera es generalitza l'accés a la informació des de qualsevol procedència: si connectem un stream a un fitxer, estarem accedint a un fitxer, però si connectem el stream a un altre programa estarem accedint a les dades proporcionades per un altre programa. Intentarem veure exemples d'accés a diferents fonts a través d'un stream, però ho aplicarem sobretot a l'accés a fitxers, clar.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Fluxos d'entrada i d'eixida&lt;/p&gt;
&lt;p&gt;La primera diferenciació que farem en els fluxos de dades és si són d'entrada o d'eixida:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Fluxos d'entrada&lt;/strong&gt; són aquells que serviran per introduir dades des de l'exterior al programa, és a dir a la zona de memòria controlada pel programa (variables, ...)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fluxos d'eixida&lt;/strong&gt; són aquells que serviran per a guardar les dades des de les variables del programa fins a l'exterior, per exemple un fitxer, per a que es guarden de forma permanent.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Fluxos i tipus de dades&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per mig del stream aconseguirem que una dada es guarde en un fitxer, o millor dit una sèrie de dades. Quan guardem moltes dades, es compactaran unes al costat de les altres (el que havíem comentat com a seqüenciació de bits). Si intentem recuperar-les, haurem d'anar amb molt de compte amb la grandària de cadascuna de les dades i el seu tipus. Anem a posar un exemple:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Suposem que volem guardar una dada numèrica en un enter (&lt;strong&gt;int&lt;/strong&gt;). Els enters, en Java, es guarden en 32 bits. Si volem guardar el número &lt;strong&gt;1.213.156.417&lt;/strong&gt;, ens quedarà en binari (els hem posat en grups de 8 bits, per facilitar la lectura):&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;01001000 01001111 01001100 01000001&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Suposem ara que volem guardar dos números enters, però del tipus &lt;strong&gt;short&lt;/strong&gt;, que només ocupa 16 bits. El número 18.511 es representa en binari com 01001000 01001111, i el número 19.521 es representa 01001100 01000001. Si posem una dada darrere de l'altra (com es guardarà en un fitxer), el resultat serà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;01001000 01001111 01001100 01000001&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Suposem ara que volem guardar la paraula HOLA. Si guardem el codi ASCII de cada lletra tindrem: &lt;strong&gt;H&lt;/strong&gt; (01001000), &lt;strong&gt;O&lt;/strong&gt; (01001111),&lt;strong&gt; L&lt;/strong&gt; (01001100) i &lt;strong&gt;A&lt;/strong&gt; (01000001)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;01001000 01001111 01001100 01000001&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En resum, les 3 informacions (el número de 32 bits, els 2 números de 16 bits, i la paraula HOLA) es guarden de forma idèntica, com a seqüència de bits.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per tant, l'única manera de poder recuperar la informació és saber de quin tipus és i la mida, a banda de l'ordre com està guardada, clar. Els fluxos de dades de Java transfereixen les dades de manera transparent al programador. No cal indicar la quantitat de bits que cal transferir, sinó que es dedueix a partir del tipus de dada que la variable representa. Però sempre haurem de tenir present el tipus de dades i l'ordre.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Hi ha, però, una excepció amb el tipus &lt;em&gt;char&lt;/em&gt;. La multitud d’estàndards de codificació de caràcters existents en l’actualitat i la diversitat de formats utilitzats a l’hora d’implementar les codificacions, usant segons el cas 8, 16, 32 bits o fins i tot una longitud variable en funció del caràcter a representar, fan que siga molt difícil tractar aquest tipus de dades com una simple seqüència de bytes.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Internament, Java representa el tipus caràcter amb una codificació UNICODE de 16 bits (UTF-16) per tal de suportar múltiples alfabets a banda de l’occidental. Tot i així, és capaç de gestionar fonts de dades (fitxers entre d’altres) de diverses codificacions (&lt;acronym title=&quot;American Standard Code for Information Interchange&quot;&gt;ASCII&lt;/acronym&gt;, &lt;acronym title=&quot;International Organization for Standardization&quot;&gt;ISO&lt;/acronym&gt;-8859, UTF-8, UTF-16…). En funció de la codificació triada, el número de bits utilitzats en l’emmagatzematge variarà. Es fa necessari, doncs, un tractament especial a l’hora de manipular aquestes dades. Com veurem, Java disposa d’una jerarquia específica de classes orientades a fluxos de caràcters per tal de fer aquestos canvis i transformacions totalment transparents al programador.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="10"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="11"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="0"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="11"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="1"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:1%20-%20Magatzems%20i%20fluxos%20de%20dades"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="14">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="2 - Manipulació dels fluxos de dades"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="12">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="13">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="12"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;En Java, i per tant també en Kotlin, no tindrem una única classe per a manipular els fluxos de dades i així arribar al contingut dels fitxers. És una cosa que de vegades se li critica a Java, que hi ha una jerarquia molt extensa de fluxos, i són moltes classes a recordar i utilitzar. Per contra fa que siga molt versàtil. En l'últim punt del tema veurem la simplificació que ens proposa Kotlin.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aquestes classes es trobaran en dues jerarquies, la dels&lt;strong&gt; fluxos orientats a bytes&lt;/strong&gt; i la dels &lt;strong&gt;fluxos orientats a caràcters&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Si les nostres dades són numèriques o de qualsevol altre tipus que puguem imaginar (imatges per exemple), ens convindran les primeres.&lt;/li&gt;
&lt;li&gt;Si la informació és de caràcters, haurem d'utilitzar la segona jerarquia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La raó de que existesca aquesta segona jerarquia orientada a caràcters és la multitud de sistemes de codificació existents. Com havíem comentat en la pregunta anterior, Java utilitza internament codificació UNICODE de 16 bits (UTF-16), on cada caràcter ocupa 16 bits i així poder suportar tots els llenguatges com el grec, àrab, ciríl·lic, xinès, .... Però UTF-8 està molt estés, i en aquesta codificació de vegades un caràcter ocupa 8 bits, i de vegades 16. I no podem oblidar altres sistemes de codificació, com ASCII, ISO-8859, ... La jerarquia de classes orientades a caràcter suportarà totes les codificacions.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="13"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="14"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="4"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="14"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="2"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="17">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="2.1 - Fluxos orientats a bytes"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="15">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="16">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="15"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;L'arrel, la base de tota la jerarquia són &lt;strong&gt;InputStream&lt;/strong&gt; i &lt;strong&gt;OutputStream&lt;/strong&gt;, respectivament per a fluxos d'entrada i d'eixida. Comentarem els fluxos d'entrada, i els d'eixida són totalment paral·lels.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La super-classe &lt;strong&gt;InputStream&lt;/strong&gt; servirà per a fer l'entrada des de qualsevol dispositiu: fitxer, array de bytes, una tuberia (per a dur dades des d'una altra aplicació)... Totes les classes d'entrada heretaran d'ella, i serviran per especificar exactament d'on (per exemple un fitxer: &lt;strong&gt;FileInputStream&lt;/strong&gt;) o per a donar alguna altra funcionalitat, com anirem veient a poc a poc. D'aquesta manera, els mètodes que es defineixen s'hauran d'implementar per les classes que hereten de la super-classe i assegura una uniformitat, siga quina siga la font.&lt;/p&gt;
&lt;p&gt;Fem una ullada ràpida a la jerarquia de classes en la següent imatge:&lt;/p&gt;
&lt;p&gt;&lt;img style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; src=&quot;resources/T2_2_1.png&quot; alt=&quot;Jerarquia InputStream&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;
&lt;p&gt;De moment mirem únicament les que estan en color &lt;strong&gt;taronja&lt;/strong&gt;, que especificaran quina serà la font de dades:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FileInputStream&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a llegir informació d'un fitxer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PipedInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Per a llegir des d'una tuberia (és a dir informació que ve d'un altre programa) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ByteArrayInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;L'entrada serà un array de bytes &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SequenceInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Servirà per enllaçar dues entrades en una de sola, seqüencialment &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Evidentment ens centrarem en la primera, que és la que més ens interessa per a la permanència de les dades, però posarem algun exemple de les altres (concretament &lt;strong&gt;ByteArrayInputStream&lt;/strong&gt;). &lt;/p&gt;
&lt;p&gt;Els fluxos d'eixida són molt molt pareguts, tots ells heretaran de &lt;strong&gt;OutputStream&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FileOutputStream&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a guardar informació en un fitxer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PipedOutputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Per a traure cap a una tuberia (és a dir informació que anirà a un altre programa) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ByteArrayOutputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;L'eixida serà un array de bytes &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Constructors de FileInputStream&lt;/p&gt;
&lt;p&gt;Com hem comentat, qui més ens interessa de tots els InputStream és el &lt;strong&gt;FileInpuStream&lt;/strong&gt;, per a poder accedir a la informació d'un fitxer. Dos són els constructors de FileInputStream:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FileInputStream (&lt;em&gt;f&lt;/em&gt;: File)&lt;/strong&gt;: en el paràmetre se li passa un File (dels vistos en el tema anterior), que ha de ser una referència al fitxer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileInputStream (&lt;em&gt;nom_f&lt;/em&gt;: String)&lt;/strong&gt;: en el paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer. Ens permetrà fer referència al fitxer de forma més ràpida, sense haver de passar per un File.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Constructors del FileOutputStream&lt;/p&gt;
&lt;p&gt;Canviaran lleugerament respecte als d'entrada, ja que a més de fer referència al fitxer, opcionalment podrem d'especificar la manera d'escriure en el fitxer en cas que aquest ja existesca: bé afegint al final, o bé destruint la informació anterior. Aquestos són els constructors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FileOutputStream (&lt;em&gt;f&lt;/em&gt;: File)&lt;/strong&gt;: en el paràmetre se li passa un File. Si no existia, el crearà; si ja existia esborrarà el contingut. En ambdós casos l'obrirà en mode escriptura.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileOutputStream (&lt;em&gt;nom_f&lt;/em&gt;: String)&lt;/strong&gt;: igual que en l'anterior, però en el paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileOutputStream (&lt;em&gt;f&lt;/em&gt;: File, &lt;/strong&gt;&lt;em&gt;&lt;strong&gt;afegir&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;: Boolean)&lt;/strong&gt;: és com el primer, però si en el segon paràmetre se li passa &lt;strong&gt;true&lt;/strong&gt;, en cas que ja existira el fitxer, la informació s'afegirà al final, en compte de substituir el que ja hi havia. Si en aquest paràmetre se li passa &lt;strong&gt;false&lt;/strong&gt; s'esborrarà el contingut anterior (com en el primer cas).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileOutputStream (&lt;em&gt;nom_f&lt;/em&gt;: String&lt;strong&gt;, &lt;/strong&gt;&lt;em&gt;&lt;em&gt;&lt;strong&gt;afegir&lt;/strong&gt;&lt;/em&gt;&lt;/em&gt;&lt;strong&gt;&lt;/strong&gt;: Boolean)&lt;/strong&gt;: igual que en l'anterior, però en el primer paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="2452"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_1.39"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="18">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="15"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T2_2_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpO8qCd1/T2_2_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="8ea48fdd783d021d81f39e52d8f791df"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="16"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="16"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="40"></int>
                <string role="key" value="parentNode"></string>
                <reference key="17"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="3"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="17"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="18"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="3"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.1%20-%20Fluxos%20orientats%20a%20bytes"></string>
           <string role="key" value="parent"></string>
           <reference key="14"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="21">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.1.1 - Mètodes del InputStream"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="19">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="20">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="1"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="19"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Nota&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per a fer els primers exemples, i únicament per comoditat, utilitzarem fitxers de text, encara que estiguem en fluxos orientats a byte. Açò no és l'adequat, ja que per a fitxers de text hauríem d'utilitzar fluxos orientats a caràcter. Però com dic és per comoditat, perquè serà molt fàcil crear fitxers des de qualsevol editor de textos, i que després utilitzarem des de Java o Kotlin. L'inconvenient serà que no tots els caràcters eixiran de forma correcta, justament per utilitzar els fluxos de dades orientats a byte.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;El primer mètode que hem de veure del &lt;strong&gt;InputStream&lt;/strong&gt; és aquell que ens permet una lectura senzilla:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;int &lt;strong&gt;read()&lt;/strong&gt;: llig el següent byte del flux d'entrada i el retorna com un &lt;strong&gt;enter&lt;/strong&gt;. Si no hi ha cap byte disponible perquè s’ha arribat al final de la seqüència de bytes, es retornarà -1. Si no es pot llegir el següent byte per alguna causa (per exemple si després d'arribar al final intentem llegir un altre byte, o perquè es produeix un error en llegir l'entrada) es llançarà una excepció del tipus &lt;strong&gt;&lt;em&gt;IOException&lt;/em&gt;&lt;/strong&gt;. Es tracta d’un mètode abstracte, que les classes especifiques sobreescriuran adaptant-lo a una font de dades concreta (un fitxer, un array de bytes, ...). I observeu com es tracta d'una lectura seqüencial. Comencem pel primer byte del fitxer, i a cada &lt;strong&gt;read&lt;/strong&gt; llig el següent byte fins arribar al final. Els tractaments que veurem en aquest tema seran sempre seqüencials.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Abans de veure altres mètodes, mirem un exemple. Per a aquest exemple fa falta un fitxer anomenat &lt;strong&gt;f1.txt&lt;/strong&gt;, que pot ser un fitxer de text creat amb qualsevol editor senzillet, com per exemple &lt;strong&gt;gedit&lt;/strong&gt; o el &lt;strong&gt;Bloc de notes&lt;/strong&gt;. Ha d'estar en el directori del projecte (el projecte &lt;strong&gt;Tema2&lt;/strong&gt;), i així no caldrà posar la ruta. Per exemple podríem posar el següent contingut:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Hola, què tal?&lt;/p&gt;
&lt;p&gt;El que farà el programa és traure per pantalla caràcter a caràcter (en línies diferents). L'heu de copiar en un fitxer anomenat &lt;strong&gt;Exemple_2_01.kt &lt;/strong&gt;dins d'un paquet anomenat &lt;strong&gt;exemples&lt;/strong&gt; en el projecte del Tema 2:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileInputStream

fun main(args: Array&amp;lt;String&amp;gt;){
	val f_in = FileInputStream(&quot;f1.txt&quot;)
	var c = f_in.read()
	while (c!=-1){
		println(c.toChar())
		c = f_in.read()
	}
	f_in.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;El resultat en Ubuntu serà aquest:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;H&lt;br /&gt;o&lt;br /&gt;l&lt;br /&gt;a&lt;br /&gt;,&lt;br /&gt; &lt;br /&gt;q&lt;br /&gt;u&lt;br /&gt;Ã&lt;br /&gt;¨&lt;br /&gt; &lt;br /&gt;t&lt;br /&gt;a&lt;br /&gt;l&lt;br /&gt;?&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Potser en Windows si que apareguen bé tots els caràcters, ja que utilitza per defecte una altra codificació. Però no li donarem ara importància al fet que no apareguen bé els caràcters especials. Observeu com estem utilitzant un &lt;strong&gt;InputStream&lt;/strong&gt;, concretament un &lt;strong&gt;FileInputStream&lt;/strong&gt;, per a llegir un fitxer de text. Açò no és el més apropiat, com ja havíem comentat abans, sinó que hauríem d'utilitzar algun flux orientat a caràcters, i no orientat a bytes. El programa funcionarà si utilitzem codificació ASCII (o ISO-8859) ja que cada caràcter es guarda en un byte. Si ens despistem i el fitxer el gaurdem en UTF-8, no eixiran bé els caràcters com ç, ñ o vocals accentuades (que es guarden en 2 bytes). I si el guardem en UTF-16, encara eixirà pitjor.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Hem utilitzat el constructor que accepta un String com a paràmetre. Queda més curt, però seria totalment equivalent substituir la construcció anterior per aquestes dues línies&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val f = File(&quot;f1.txt&quot;)
	val f_in = FileInputStream(f)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;El &lt;strong&gt;read&lt;/strong&gt; obté un enter, que després l'intentem convertir en caràcter. Finalitzem quan l'enter és -1.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aquest segon exemple té l'entrada no des d'un fitxer, sinó des d'un &lt;strong&gt;ByteArrayInputStream&lt;/strong&gt;. A banda de que l'hem d'inicialitzar diferent, podem observar com el tractament posterior és idèntic. Copieu-lo en un fitxer anomenat &lt;strong&gt;Exemple_2_02.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.ByteArrayInputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val ent_1 = &quot;Aquest és un byte array&quot;
	val f_in = ByteArrayInputStream(ent_1.toByteArray())
	var c = f_in.read()
	while (c != -1) {
		println(c.toChar())
		c = f_in.read()
	}
	f_in.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Una altra vegada els caràcters especial eixiran malament, ja que en compte de un  &lt;strong&gt;InputStream&lt;/strong&gt; (en aquest cas &lt;strong&gt;ByteArrayInputStream&lt;/strong&gt;) el més adequat seria un flux orientat a caràcters, però com a exemple sí que ens val.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Mirem un tercer exemple, per veure el &lt;strong&gt;SequenceInputStream&lt;/strong&gt;, on es poden enganxar de forma sequencial diferents InputStream. Després d'aquest exemple ja ens centrarem en els fitxers, que és el que ens interessa. Copieu-lo en un fitxer anomenat &lt;strong&gt;Exemple_2_03.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.ByteArrayInputStream
import java.io.FileInputStream
import java.io.SequenceInputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f1 = FileInputStream(&quot;f1.txt&quot;)
	val ent_1 = &quot;Aquest és un byte array&quot;
	val f2 = ByteArrayInputStream(ent_1.toByteArray())
	val f_in = SequenceInputStream(f1,f2)
	var c = f_in.read()
	while (c != -1) {
		println(c.toChar())
		c = f_in.read()
	}
	f_in.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Altres mètodes del &lt;strong&gt;InputStream&lt;/strong&gt; són:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;int &lt;strong&gt;read(&lt;em&gt;buffer&lt;/em&gt;: ByteArray)&lt;/strong&gt;: llig un número determinat de bytes de l'entrada, guardant-los en el paràmetre (que actuarà com un buffer). El número de bytes llegits serà com a màxim la grandària del buffer, encara que podria ser menor (si no hi ha prou bytes, per exemple). El mètode tornarà el número de bytes que realment s'han llegit com un enter. Si no hi haguera cap byte disponible, es retornarà -1.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;int &lt;strong&gt;available()&lt;/strong&gt;: indica quants bytes hi ha disponibles per a la lectura. Sobretot serviria com a condició de final de bucle (si hi ha 0 bytes disponibles, és que ja hem acabat), encara que hi ha altres maneres de fer la condició de final de bucle.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;long &lt;strong&gt;skip(&lt;em&gt;despl&lt;/em&gt;: Long)&lt;/strong&gt;: salta, despreciant-los, tant bytes com indica el paràmetre. Podria ser que no puguera saltar el número de bytes especificat per diferents raons. Torna el número de bytes realment saltats.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;int &lt;strong&gt;close()&lt;/strong&gt;: tanca el flux de dades.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Mirem un altre exemple, utilitzant ara el buffer com a paràmetre del &lt;strong&gt;read&lt;/strong&gt;. Fa falta que existesca un fitxer anomenat &lt;strong&gt;f2.txt&lt;/strong&gt; en l'arrel del projecte, com es comenta després. Copieu-lo en un fitxer anomenat &lt;strong&gt;Exemple_2_04.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileInputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_in = FileInputStream(&quot;f2.txt&quot;)
	var buffer = ByteArray(30)
	var n = f_in.read(buffer)
	while (n != -1) {
		for (i in 0..n - 1)
			print(buffer[i].toChar())
		println(&quot;&quot;)
		n = f_in.read(buffer)
	}
	f_in.close();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Es llegiran els caràcters de 30 en 30, ja que el buffer és d'aquesta grandària. Com que es guarda en un buffer de bytes (bytes, no caràcters), haurem de recórrer aquest buffer (fins el número de caràcters llegits, que és &lt;strong&gt;n&lt;/strong&gt;) convertint cada byte en caràcter. Hem suposat que en el fitxer &lt;strong&gt;f2.txt&lt;/strong&gt; tenim un text prou llarg com per a veure el funcionament. Si per exemple el contingut de &lt;strong&gt;f2.txt&lt;/strong&gt; és aquest:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Hola. Aquest és un text més llarg, per veure com gestiona els bytes amb un buffer de 30 caràcters.&lt;br /&gt;Com que ho llegim des d'un InputStream, els caràcters especials potser no isquen bé.&lt;/p&gt;
&lt;p&gt;Aquesta seria l'eixida:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Hola. Aquest ￃﾩs un text mￃﾩs &lt;br /&gt;llarg, per veure com gestiona &lt;br /&gt;els bytes amb un buffer de 30 &lt;br /&gt;carￃﾠcters.&lt;br /&gt;Com que ho llegim &lt;br /&gt;des d'un InputStream, els carￃ&lt;br /&gt;ﾠcters especials potser no isq&lt;br /&gt;uen bￃﾩ.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Recordeu que estem llegint un fitxer de text des d'un InputStream, cosa gens convenient ja que els caràcters com ç, ñ, o vocals accentuades difícilment podrem fer que apareguen bé. Ho arreglarem amb els fluxos orientats a caràcter.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="20"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="21"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="6"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="21"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="5"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.1%20-%20Fluxos%20orientats%20a%20bytes:2.1.1%20-%20M%C3%A8todes%20del%20InputStream"></string>
              <string role="key" value="parent"></string>
              <reference key="17"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="24">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.1.2 - Mètodes del OutputStream"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="22">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="23">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="1"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="22"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Comencem també pel més senzill i primordial, el mètode que escriu un byte (recordeu que estem en fluxos orientats a bytes).&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;write(&lt;em&gt;byte&lt;/em&gt;: Int) &lt;/strong&gt;: escriu el byte passat com a paràmetre en el flux d'eixida. Encara que el paràmetre és de tipus int, només s'escriurà un byte. Si no es poguera fer l'escriptura per qualsevol motiu (per exemple, disc ple), es llançarà una excepció de tipus &lt;strong&gt;IOException&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Igual que en l'apartat anterior, anem a veure un exemple senzill d'utilització, en què guardarem en un fitxer el contingut d'una cadena (encara que ja sabem que no és el més apropiat utilitzar fluxos orientats a bytes per a informació de caràcters).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt; En aquest primer exemple del &lt;strong&gt;OutputStream&lt;/strong&gt; treballarem sobre un fitxer inexistent. Es podrà comprovar que el resultat serà la creació del fitxer amb el contingut. Hem de fer constar que si no es tanca el fitxer (millor dit el flux d'eixida) podria ser que no es guardara res en el fitxer. Per tant &lt;strong&gt;tancar és una operació ben important que no hem d'oblidar&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_11.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileOutputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val text = &quot;Contingut per al fitxer.&quot;
	val f_out = FileOutputStream(&quot;f3.txt&quot;)
	for (c in text) 
		f_out.write(c.toInt())
	f_out.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Observeu com hem convertit cada caràcter a &lt;strong&gt;Int&lt;/strong&gt; per a que puga funcionar, ja que el mètode &lt;strong&gt;write()&lt;/strong&gt; accepta un enter.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En el constructor del OutputStream no hem indicat el segon paràmetre, aquell que indicava si era per a afegir o no, i per tant si no existia el fitxer el crearà, però si ja existia el fitxer, destruirà el seu contingut i el substituirà pel nou contingut. Per això si tornem a executar el programa, tindrem el mateix resultat.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Contingut per al fitxer.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La codificació del fitxer haurà segut la que tinga per defecte el Sistema Operatiu, que en el cas d'Ubuntu és UTF-8, i en el cas de Windows és &lt;acronym title=&quot;International Organization for Standardization&quot;&gt;ISO&lt;/acronym&gt;-8859.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Anem a provar a substituir el constructor, posant ara&lt;span class=&quot;codi&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;val f_out = FileOutputStream(&quot;f3.txt&quot;,true)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Si l'executem una altra vegada, veurem que afegirà al final, sense destruir el que ja hi havia.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Contingut per al fitxer.Contingut per al fitxer.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;Altres mètodes del OutputStream són:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;write(&lt;em&gt;buffer&lt;/em&gt;: ByteArray)&lt;/strong&gt; : escriu el contingut de l'array de bytes al fitxer. Cal que buffer no siga nul, o provocarem un error.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;write(&lt;em&gt;buffer&lt;/em&gt;: ByteArray, &lt;em&gt;pos&lt;/em&gt;: Int, &lt;em&gt;llarg&lt;/em&gt;: Int)&lt;/strong&gt; : escriu al fitxer el contingut de l'array que està a partir de la posició &lt;strong&gt;pos&lt;/strong&gt; i tants bytes com assenyale &lt;strong&gt;llarg&lt;/strong&gt;.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;flush()&lt;/strong&gt; : Guardar les dades en un fitxer és una operació relativament lenta, ja que és accedir a un dispositiu lent (millor dit, no tan ràpid com la memòria). És habitual que s'utilitze una memòria intermèdia per a que les coses no vagen tan lentes (com si fóra una caché). Però potser que les dades no estiguen guardades encara en el fitxer, sinó que encara estiguen en aquesta caché. El mètode &lt;strong&gt;flush&lt;/strong&gt; obliga a escriure els bytes que queden encara a la caché físicament al fitxer d'eixida.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;close()&lt;/strong&gt; : tanca el flux d'eixida, alliberant els recursos. Si quedava alguna cosa en la caché, es guardarà al fitxer i es tancarà el flux.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En aquest exemple es copia el contingut del fitxer &lt;strong&gt;f2.txt&lt;/strong&gt; en el fitxer &lt;strong&gt;f4.txt&lt;/strong&gt;, però en compte d'anar byte a byte, anirem de 30 en 30, amb un buffer de 30 posicions. Podríem cometre l'error de la línia 13 del següent programa, la del comentari, d'escriure sempre els 30 caràcters. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_12.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java line-numbers&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileInputStream
import java.io.FileOutputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_in = FileInputStream(&quot;f2.txt&quot;)
	val f_out = FileOutputStream(&quot;f4.txt&quot;)

	var buffer = ByteArray(30)
	var num = f_in.read(buffer)
	while (num != -1) {
		f_out.write(buffer)    // açò és un error
		num = f_in.read(buffer)
	}
	f_in.close();
	f_out.close();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;D'aquesta manera, l'última vegada que és llig és molt possible que no hi hagen exactament 30 caràcters. Si hi ha menys de 30 caràcters, només es llegiran els que queden al principi del buffer, i en la resta del buffer hi ha la informació anterior, la de la penúltima lectura. En definitiva, tenim &quot;basura&quot;, i si no ho controlem el resultat no serà el correcte. Aquest ser`el contingut de &lt;strong&gt;f4.txt&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Hola. Aquest és un text més llarg, per veure com gestiona els bytes amb un buffer de 30 caràcters.&lt;br /&gt;Com que ho llegim des d'un InputStream, els caràcters especials potser no isquen bé.&lt;br /&gt;pecials potser no isq&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Ha eixit d'aquesta manera perquè l'última vegada només s'han llegit 9 bytes. Els 21 restants tenen la informació encara de la penúltima lectura.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per a fer-lo de forma correcta, ens aprofitem de que &lt;strong&gt;read(buffer)&lt;/strong&gt; torna el número de bytes realment llegits, per escriure exactament aquest número. Per tant substituirem la línia 13, la del comentari, per aquesta altra:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;f_out.write(buffer,0,num)     // ara sí que funcionarà bé&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Ara el contingut de&lt;strong&gt; f4.txt&lt;/strong&gt; serà idèntic al de&lt;strong&gt; f2.txt&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota important&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per a assegurar-nos que realment escrivim en el fitxer i no es queda res en la memòria intermèdia, &lt;strong&gt;hem de tancar sempre els fluxos d'eixida&lt;/strong&gt;. Si ens oblidem de tancar-los, és molt fàcil que no s'acabe d'escriure físicament en el fitxer.&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="23"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="24"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="7"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="24"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="6"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.1%20-%20Fluxos%20orientats%20a%20bytes:2.1.2%20-%20M%C3%A8todes%20del%20OutputStream"></string>
              <string role="key" value="parent"></string>
              <reference key="17"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="27">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="2.2 - Fluxos orientats a caràcters"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="25">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="26">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="25"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Treballar amb caràcters implica una dificultat apreciable, a causa sobretot de la diversitat de codificacions existents.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per poder solucionar-ho, Java disposa de dues jerarquies, una d'entrada i una d'eixida, diferents de les que ja hem vist per a bytes (que eren InputStream i OutputStream). Aquestes jerarquies per a caràcters seran molt semblants a les de bytes, però sempre orientades a caràcters. Kotlin, per heretar de Java, també les tindrà, encara que com veurem en l'última pregunta, podrem simplificar les coses.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Igual que en els casos anteriors, tindrem unes classes abstractes, &lt;strong&gt;Reader&lt;/strong&gt; i &lt;strong&gt;Writer&lt;/strong&gt;, que no es poden instanciar directament (no podrem crear un objecte d'aquestes classes). Serviran per a homogeneïtzar tots els fluxos d'entrada i d'exida orientats a caràcter.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;La super-classe &lt;strong&gt;Reader&lt;/strong&gt; servirà per a fer l'entrada des de qualsevol dispositiu: fitxer, array de caràcters, una canonada (&quot;tuberia&quot;, per a dur dades des d'una altra aplicació). Totes les classes d'entrada heretaran d'ella, i serviran per especificar exactament d'on (per exemple un fitxer: &lt;strong&gt;FileReader&lt;/strong&gt;) o per a donar alguna altra funcionalitat, com anirem veient a poc a poc. D'aquesta manera, els mètodes que es defineixen s'hauran d'implementar per les classes que hereten d'ella i assegura una uniformitat, siga quina siga la font.&lt;/p&gt;
&lt;p&gt;Fem una ullada ràpida a la jerarquia de classes en la següent imatge:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2__2_2.png&quot; alt=&quot;Jerarquia Reader-Writer&quot; width=&quot;800&quot; height=&quot;961&quot; /&gt;&lt;/p&gt;
&lt;p&gt;De moment mirem únicament les que estan en color &lt;strong&gt;taronja&lt;/strong&gt;, que especificaran quina serà la font de dades:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FileReader&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a llegir caràcters d'un fitxer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;strong&gt;PipedReader&lt;/strong&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a llegir des d'una tuberia (és a dir informació que ve d'un altre programa) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CharArray&lt;strong&gt;Reader&lt;/strong&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;L'entrada serà un array de caràcters&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;StringReader&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;L'entrada serà un string&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Evidentment ens centrarem en la primera, que és la que més ens interessa per a la permanència de les dades.&lt;/p&gt;
&lt;p&gt;Els fluxos d'eixida són molt molt pareguts, tots ells heretaran de &lt;strong&gt;Writer&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FileWriter&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a guardar caràcters en un fitxer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Piped&lt;strong&gt;Writer&lt;/strong&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Per a traure cap a una tuberia (és a dir informació que anirà a un altre programa) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CharArray&lt;strong&gt;Writer&lt;/strong&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;L'eixida serà un array de caràcters&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;StringWriter&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;L'eixida serà un string &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Hem de fer constar que les classes d’emmagatzematge intern (utilitzem Java o Kotlin), com ara &lt;strong&gt;CharArrayReader&lt;/strong&gt;, &lt;strong&gt;CharArrayWriter&lt;/strong&gt;, &lt;strong&gt;StringReader&lt;/strong&gt;, &lt;strong&gt;StringWriter&lt;/strong&gt;, &lt;strong&gt;PipedReader&lt;/strong&gt;, &lt;strong&gt;PipedWriter&lt;/strong&gt; utilitzen sempre la codificació pròpia de Java (unicode de 16 bits: &lt;strong&gt;UTF-16&lt;/strong&gt;), ja que guarden les dades a la memòria basant-se en els tipus dades de tractament de caràcters de Java o Kotlin (C&lt;em&gt;har&lt;/em&gt; i &lt;em&gt;String&lt;/em&gt;).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En canvi les classes &lt;strong&gt;FileReader&lt;/strong&gt; o &lt;strong&gt;FileWriter &lt;/strong&gt;agafen la codificació &lt;strong&gt;per defecte del sistema operatiu amfitrió&lt;/strong&gt;. L’usuari no pot seleccionar diferents sistemes de codificació en crear les instàncies. Així, una màquina virtual Java sobre Windows utilitzarà, per defecte, la codificació &lt;acronym title=&quot;International Organization for Standardization&quot;&gt;ISO&lt;/acronym&gt;-8859-1, però si corre sobre Linux, la codificació serà UTF-8. De tota manera veurem que sí que podrem arribar a especificar quin és el joc de caràcters que volem utilitzar en la pregunta 3.3. Intentarem veure exemples de tot.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Constructors de FileReader&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;De forma totalment paral·lela als fluxos orientats a byte, el &lt;strong&gt;FileReader&lt;/strong&gt; té dos constructors, acceptant com a paràmetre un File o un String (amb el nom del fitxer). La diferència ara és que la unitat de transferència serà el caràcter (en compte d'un byte):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FileReader (&lt;em&gt;f&lt;/em&gt;: File)&lt;/strong&gt;: en el paràmetre se li passa un File (dels vistos en el tema anterior), que ha de ser una referència al fitxer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileReader (&lt;em&gt;nom_f&lt;/em&gt;: String)&lt;/strong&gt;: en el paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer. Ens permetrà fer referència al fitxer de forma més ràpida, sense haver de passar per un File.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Constructors del FileWriter&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;També totalment paral·lel al FileOutputStream. Canviaran lleugerament respecte als d'entrada, ja que a més de fer referència al fitxer, opcionalment podrem d'especificar la manera d'escriure en el fitxer en cas que aquest ja existesca: bé afegint al final, o bé destruint la informació anterior. Aquestos són els constructors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FileWriter (&lt;em&gt;f&lt;/em&gt;: File)&lt;/strong&gt;: en el paràmetre se li passa un File. Si no existia, el crearà; si ja existia esborrarà el contingut. En ambdós casos l'obrirà en mode escriptura.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FileWriter (&lt;em&gt;nom_f&lt;/em&gt;: String)&lt;/strong&gt;: igual que en l'anterior, però en el paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;File&lt;strong&gt;Writer&lt;/strong&gt; &lt;em&gt;(f: File&lt;/em&gt;, &lt;/strong&gt;&lt;em&gt;&lt;strong&gt;afegir&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;: Boolean)&lt;/strong&gt;: és com el primer, però si en el segon paràmetre se li passa &lt;strong&gt;true&lt;/strong&gt; en compte de substituir el que ja hi havia, la informació s'afegirà al final. Si en aquest paràmetre se li passa &lt;strong&gt;false&lt;/strong&gt; s'esborrarà el contingut anterior (com en el primer cas).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;File&lt;strong&gt;Writer&lt;/strong&gt; &lt;em&gt;(nom_f: String&lt;/em&gt;&lt;strong&gt;, &lt;/strong&gt;&lt;em&gt;&lt;em&gt;&lt;strong&gt;afegir&lt;/strong&gt;&lt;/em&gt;&lt;/em&gt;&lt;strong&gt;&lt;/strong&gt;: Boolean)&lt;/strong&gt;: igual que en l'anterior, però en el primer paràmetre se li passa un String amb el nom (i la possible ruta) del fitxer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="2454"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="5_1.39"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="28">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="25"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T2__2_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpO8qCd1/T2__2_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="af2ac6badad62b8169aa13e5537466bf"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="26"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="26"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="40"></int>
                <string role="key" value="parentNode"></string>
                <reference key="27"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="5"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="27"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="28"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="4"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.2%20-%20Fluxos%20orientats%20a%20car%C3%A0cters"></string>
           <string role="key" value="parent"></string>
           <reference key="14"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="31">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.2.1 - Mètodes del Reader"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="29">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="30">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="1"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="29"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Els mètodes del &lt;strong&gt;Reader&lt;/strong&gt; són absolutament similars als del &lt;strong&gt;InputStream&lt;/strong&gt; . La diferència és que ara llegirà sempre un caràcter. I no ens haurem de preocupar pel format en què està guardat, i de i ocupa un o dos bytes. Sempre el llegirà bé, siga quina siga la codificació utilitzada, com ja havíem comentat abans:&lt;/p&gt;
&lt;ul style=&quot;text-align: justify;&quot;&gt;
&lt;li&gt;int &lt;strong&gt;read()&lt;/strong&gt;: llig el següent caràcter del flux d'entrada i el retorna com un enter. Si no hi ha cap caràcter disponible perquè s’ha assolit el final de la seqüència, es retornarà -1. Si no es pot llegir el següent caràcter per alguna causa (per exemple si després d'arribar al final intentem llegir un altre caràcter, o perquè es produeix un error en llegir l'entrada) es llançarà una excepció del tipus &lt;strong&gt;&lt;em&gt;IOException&lt;/em&gt;&lt;/strong&gt;. Es tracta d’un mètode abstracte, que les classes especifiques sobreescriuran adaptant-lo a una font de dades concreta (un fitxer, un array de caràcters, ...).&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Abans de veure altres mètodes, mirem un exemple que és idèntic al primer exemple del InputStream, però canviant FileInputStream per FileReader. Llegirà el mateix fitxer anomenat &lt;strong&gt;f1.txt&lt;/strong&gt;, utilitzat en aquell moment, però ara segurament llegirà tots els caràcters bé. El que farà és traure per pantalla caràcter a caràcter (en línies diferents). Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_21.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileReader

fun main(args: Array&amp;lt;String&amp;gt;){
	val f_in = FileReader(&quot;f1.txt&quot;)
	var c = f_in.read()
	while (c!=-1){
		println(c.toChar())
		c = f_in.read()
	}
	f_in.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Ara segurament sí que haurà llegit bé tots els caràcters, incloent ñ, ç, vocals accentuades, etc. Si encara tenim el mateix contingut en &lt;strong&gt;f1.txt&lt;/strong&gt;, el resultat serà ara:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;H&lt;br /&gt;o&lt;br /&gt;l&lt;br /&gt;a&lt;br /&gt;,&lt;br /&gt; &lt;br /&gt;q&lt;br /&gt;u&lt;br /&gt;è&lt;br /&gt; &lt;br /&gt;t&lt;br /&gt;a&lt;br /&gt;l&lt;br /&gt;?&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;El més normal és que en crear el fitxer &lt;strong&gt;f1.txt&lt;/strong&gt; amb algun editor, el guardem amb la codificació per defecte, que en cas de Windows és  ASCII (o ISO-8859) i en el cas de Linux és UTF-8. I després des de Java, el &lt;strong&gt;FileReader&lt;/strong&gt; utilitzarà la codificació per defecte del Sistema Operatiu. És a dir que en Linux el fitxer ha d'estar guardat en UTF-8 per a que el puga llegir bé, i en Windows en ASCII.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Mirem també l'exemple equivalent al segon. Allà utilitzàvem un &lt;strong&gt;ByteArrayInputStream&lt;/strong&gt; com a entrada. Ara podríem utilitzar un &lt;strong&gt;CharArrayReader&lt;/strong&gt;, però ho farem amb un &lt;strong&gt;StringReader&lt;/strong&gt;, i quedarà més curt. A banda de que l'hem d'inicialitzar diferent, podem observar com el tractament posterior és idèntic. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_22.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.CharArrayReader

fun main(args: Array&amp;lt;String&amp;gt;) {
	val ent_1 = &quot;Aquest és un byte array&quot;
	val f_in = CharArrayReader(ent_1.toCharArray())
	var c = f_in.read()
	while (c != -1) {
		println(c.toChar())
		c = f_in.read()
	}
	f_in.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Altres mètodes del &lt;strong&gt;Reader&lt;/strong&gt; són:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;int &lt;strong&gt;read(char[ ] &lt;em&gt;buffer&lt;/em&gt;)&lt;/strong&gt;: llig un número determinat de caràcters de l'entrada, guardant-los en el paràmetre (que actuarà com un buffer). El número de caràcters llegits serà com a màxim la grandària del buffer, encara que podria ser menor (si no hi ha prou caràcters, per exemple). El mètode tornarà el número de caràcters que realment s'han llegit com un enter. Si no hi haguera cap caràcter disponible, es retornaria -1.&lt;/li&gt;
&lt;li&gt;int &lt;strong&gt;available()&lt;/strong&gt;: indica quants caràcters hi ha disponibles per a la lectura. Sobretot serviria com a condició de final de bucle: si hi ha 0 caràcters disponibles, és que ja hem acabat. Tot i això, hi ha altres maneres de fer la condició de final de bucle.&lt;/li&gt;
&lt;li&gt;long &lt;strong&gt;skip(long &lt;em&gt;despl&lt;/em&gt;)&lt;/strong&gt;: salta, despreciant-los, tants caràcters com indica el paràmetre. Podria ser que no puguera saltar el número de caràcters especificat per diferents raons. Torna el número de caràcters realment saltats.&lt;/li&gt;
&lt;li&gt;int &lt;strong&gt;close()&lt;/strong&gt;: tanca el flux de dades.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mirem un altre exemple, utilitzant ara el buffer com a paràmetre del &lt;strong&gt;read&lt;/strong&gt;. És idèntic al de l'apartat del InputStream. La diferència és que ara s'haurien de llegir bé tots els caràcters. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_23.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileReader

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_in = FileReader(&quot;f2.txt&quot;)
	var buffer = CharArray(30)
	var n = f_in.read(buffer)
	while (n != -1) {
		for (i in 0..n - 1)
			print(buffer[i].toChar())
		println(&quot;&quot;)
		n = f_in.read(buffer)
	}
	f_in.close();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Es llegiran els caràcters de 30 en 30, ja que el buffer és d'aquesta grandària. Com que ara es guarda en un buffer de caràcters, haurem de recórrer aquest buffer (fins el número de caràcters llegits, que és &lt;strong&gt;n&lt;/strong&gt;) . Hem suposat que en el fitxer &lt;strong&gt;f2.txt&lt;/strong&gt; tenim un text prou llarg com per a veure el funcionament.&lt;/p&gt;
&lt;p&gt;Aquesta seria l'eixida:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Hola. Aquest és un text més ll&lt;br /&gt;arg, per veure com gestiona el&lt;br /&gt;s bytes amb un buffer de 30 ca&lt;br /&gt;ràcters.&lt;br /&gt;Com que ho llegim des&lt;br /&gt; d'un InputStream, els caràcte&lt;br /&gt;rs especials potser no isquen &lt;br /&gt;bé.&lt;/p&gt;
&lt;p&gt; Efectivament, s'han llegit tots els caràcters perfectament.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="30"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="31"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="9"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="31"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="9"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.2%20-%20Fluxos%20orientats%20a%20car%C3%A0cters:2.2.1%20-%20M%C3%A8todes%20del%20Reader"></string>
              <string role="key" value="parent"></string>
              <reference key="27"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="34">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.2.2 - Mètodes del Writer"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="32">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="33">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="1"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="32"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Comencem també pel més senzill i primordial, el mètode que escriu un caràcter.&lt;/p&gt;
&lt;ul style=&quot;text-align: justify;&quot;&gt;
&lt;li&gt;void &lt;strong&gt;write(&lt;em&gt;car&lt;/em&gt;: Int) &lt;/strong&gt;: escriu el caràcter passat com a paràmetre en el flux d'eixida. En cas que siga un FileWriter, escriurà el caràcter amb la codificació per defecte del S.O. : en Windows ISO-8839 i en Linux UTF-8. Si no es poguera fer l'escriptura per qualsevol motiu (per exemple, disc ple), es llançarà una excepció de tipus &lt;strong&gt;IOException&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Igual que en l'apartat anterior, anem a veure un exemple senzill d'utilització, en el qual guardarem en un fitxer el contingut d'una cadena, ara ja sense por als caràcters estranys.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En aquest primer exemple del &lt;strong&gt;Writer&lt;/strong&gt; treballarem sobre un fitxer inexistent. Es podrà comprovar que el resultat serà la creació del fitxer amb el contingut. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_31.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Nota&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Hem de fer constar que si no es tanca el fitxer (millor dit el flux d'eixida) podria ser que no es guardara res en el fitxer. Per tant és una operació ben important que no hem d'oblidar.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileWriter

fun main(args: Array&amp;lt;String&amp;gt;) {
	val text = &quot;Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...&quot;
	val f_out = FileWriter (&quot;f5.txt&quot;)
	for (c in text) {
		f_out.write(c.toInt())
	}
	f_out.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En el constructor del &lt;strong&gt;Writer&lt;/strong&gt; no hem indicat el segon paràmetre, aquell que indicava si era per a afegir o no, i per tant si no existia el fitxer el crearà, però si ja existia el fitxer, destruirà el seu contingut i el substituirà pel nou contingut. Per això si tornem a executar el programa, tindrem el mateix resultat en &lt;strong&gt;f5.txt&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;span&gt;Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Anem a provar a substituir el constructor, posant ara&lt;span class=&quot;codi&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;val f_out = FileWriter (&quot;f5.txt&quot;, true)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Si l'executem, veurem que afegirà al final, sense destruir el que ja hi havia.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;span&gt;Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...&lt;/span&gt;&lt;span&gt;Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...&lt;/span&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;Altres mètodes del &lt;strong&gt;Writer&lt;/strong&gt; són:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;write(&lt;em&gt;buffer&lt;/em&gt;: CharArray)&lt;/strong&gt; : escriu el contingut de l'array de caràcters al fitxer. Cal que buffer no siga nul, o provocarem un error.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;write(&lt;em&gt;buffer: CharArray&lt;/em&gt;, &lt;em&gt;pos&lt;/em&gt;: Int, &lt;em&gt;llarg&lt;/em&gt;: Int)&lt;/strong&gt; : escriu al fitxer el contingut de l'array que està a partir de la posició &lt;strong&gt;pos&lt;/strong&gt; i tants caràcters com assenyale &lt;strong&gt;llarg&lt;/strong&gt;.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;flush()&lt;/strong&gt; : Guardar les dades en un fitxer és una operació relativament lenta, ja que és accedir a un dispositiu lent (millor dit, no tan ràpid com la memòria). És habitual que s'utilitze una memòria intermèdia per a que les coses no vagen tan lentes (com si fóra una caché). Però potser que les dades no estiguen guardades encara en el fitxer, sinó que encara estiguen en aquesta caché. El mètode &lt;strong&gt;flush&lt;/strong&gt; obliga a escriure els caràcters que queden encara a la caché físicament al fitxer d'eixida.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;void &lt;strong&gt;close()&lt;/strong&gt; : tanca el flux d'eixida, alliberant els recursos. Si quedava alguna cosa en la caché, es guardarà al fitxer i es tancarà el flux.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquestos mètodes són totalment similars als del OutputStream. A banda d'aquestos, el &lt;strong&gt;Writer&lt;/strong&gt; té un altre, que pot ser especialment útil per a caràcters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;void &lt;strong&gt;write(&lt;em&gt;text&lt;/em&gt;: String)&lt;/strong&gt; : escriu tot el contingut del String en el fitxer.&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="33"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="34"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="10"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="34"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="10"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:2%20-%20Manipulaci%C3%B3%20dels%20fluxos%20de%20dades:2.2%20-%20Fluxos%20orientats%20a%20car%C3%A0cters:2.2.2%20-%20M%C3%A8todes%20del%20Writer"></string>
              <string role="key" value="parent"></string>
              <reference key="27"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="37">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="3 - Fluxos decoradors"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="35">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="36">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="35"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Anomenem classes &quot;&lt;strong&gt;decoradores&lt;/strong&gt;&quot; a aquelles que hereten d'una classe determinada i serveixen per a dotar d'una funcionalitat extra que no tenia la classe original.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En els fluxos, en els d'entrada i en els d'eixida, veurem uns quants &quot;decoradors&quot; que ens permetran una funcionalitat extra: llegir o escriure una línia sencera (en compte de byte a byte, o caràcter a caràcter), o guardar amb determinat format de dades, ... En el cas de caràcters també ens permetran triar la codificació (ISO-8859-1, UTF-8, UTF-16, ...).&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Anirem veient-los poc a poc, classificats per la classe arrel, és a dir, per una banda els decoradors del InputStream i OutputStream (orientats a byte), i per una altra banda els de Reader i Writer (orientats a caràcter)&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="36"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="37"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="8"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="37"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="7"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:3%20-%20Fluxos%20decoradors"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="40">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.1 - Decoradors de InputStream i OtputStream"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="38">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="39">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="38"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Com hem comentat ens serviran per a donar una funcionalitat extra. Són els que estan de verd en la següent imatge:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2_2_1.png&quot; alt=&quot;T2_2_1.png&quot; width=&quot;800&quot; height=&quot;837&quot; /&gt; &lt;/p&gt;
&lt;p&gt; Fixem-nos primers en els decoradors de &lt;strong&gt;InputStream&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FilterInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;No és instanciable, únicament està per a que les altres depenguen d'ella (no la veurem) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LineNumberInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Afegeix el número de línia de cada línia del InputStream (no la veurem)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;DataInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Permet llegir dades de qualsevol tipus de dades: enter, real, booleà, ... &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;BufferedInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Munta un buffer d'entrada (no la veurem)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PushBackInputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Permet retrocedir un byte en la lectura, i per tant permet anar cap arrere (no la veurem) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ObjectInputStream&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Permet llegir tot un objecte&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I de forma quasi paral·lela tenim els decoradors de &lt;strong&gt;OutputStream&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FilterOutputStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;No és instanciable, únicament està per a que les altres depenguen d'ella (no la veurem) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Data&lt;strong&gt;Out&lt;/strong&gt;putStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Permet guardar al flux de dades d'eixida dades de qualsevol tipus: enter, real, booleà, ...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Buffered&lt;strong&gt;Out&lt;/strong&gt;putStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Munta un buffer d'eixida (no la veurem)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PrintStream&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Permet escriure dades de diferents tipus, i té també els mètodes &lt;em&gt;printf&lt;/em&gt; i &lt;em&gt;println&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Object&lt;strong&gt;Out&lt;/strong&gt;putStream&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Permet escriure (serialitzar) tot un objecte&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Comentem-los un poquet més.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;BufferedInputStream&lt;/strong&gt; i &lt;strong&gt;BufferedOutputStream&lt;/strong&gt; ens ofereixen un buffer d'entrada i d'eixida respectivament, per a fer la transferència més efectiva. En la pràctica ens oferirà poques funcionalitats útils (a banda de l'eficiència en la transferència, clar). Quan anem als decoradors de fluxos orientats a caràcters, sí que trobarem utilitats als decoradors semblants a aquestos, com per exemple llegir o escriure una línia sencera de caràcters. Però aquestos orientats a bytes, no els veurem.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;DataInputStream&lt;/strong&gt; i &lt;strong&gt;DataOutputStream&lt;/strong&gt; ens oferiran la possibilitat de llegir o escriure còmodament dades de diferents tipus: enter, real, booleà, strings, ... Els veurem en detall en el proper &lt;strong&gt;Tema 3&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;ObjectInputStream&lt;/strong&gt; i &lt;strong&gt;ObjectOutputStream&lt;/strong&gt; (que curiosament són els únics que no depenen de &lt;strong&gt;FilterInputStream &lt;/strong&gt;i &lt;strong&gt;FilterOutputStream&lt;/strong&gt;) ens permetran guardar o recuperar de cop tot un objecte, és a dir totes les seues propietats (les dades de l'objecte). No ens haurem de preocupar ni de l'ordre ni del tipus de les propietats de l'objecte: quan escrivim l'objecte, es guardaran totes les dades de forma compacta; i quan llegim es recuperaran de forma correcta. És per tant una parella de classes d'extrema utilitat per a guardar objectes, que en definitiva són l'essència de la programació en Java. Els veurem en detall en el proper &lt;strong&gt;Tema 3&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;PrintStream&lt;/p&gt;
&lt;p&gt; L'únic que ens queda és el que veurem ara amb un poquet més de detall, el &lt;strong&gt;PrintStream&lt;/strong&gt;. Ens permetrà bàsicament 3 coses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Escriure dades de més d'un tipus de dades. Per exemple &lt;strong&gt;print(5.25)&lt;/strong&gt; escriu un número real, i &lt;strong&gt;print(&quot;Hola&quot;)&lt;/strong&gt; escriu tot un string.&lt;/li&gt;
&lt;li&gt;Donar un determinat format a l'eixida, amb tota la funcionalitat a què estem acostumats amb &lt;strong&gt;printf&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Escriure tota una línia amb &lt;strong&gt;println&lt;/strong&gt;, és a dir, acabar una dada amb el retorn de carro, per a baixar de línia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt; Mirem un exemple que ens pot donar idea de la seua funcionalitat. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_41.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.PrintStream
import java.io.FileOutputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_out = PrintStream(FileOutputStream (&quot;f6.txt&quot;))

	val a = 5.25.toFloat()
	val b = &quot;Hola.&quot;
	f_out.print(b)
	f_out.println(&quot;Què tal?&quot;)
	f_out.println(a + 3)
	f_out.printf(&quot;El número %d en hexadecimal és %x&quot;, 27, 27)

	f_out.close();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; Es crearà el fitxer &lt;strong&gt;f6.txt&lt;/strong&gt; (si ja existia esborrarà el contingut anterior) amb el següent contingut:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;Hola.Què tal?&lt;/div&gt;
&lt;div&gt;8.25&lt;/div&gt;
&lt;div&gt;El número 27 en hexadecimal és 1b&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En realitat el &lt;strong&gt;PrintStream&lt;/strong&gt;, a banda del constructor que accepta un &lt;strong&gt;OutputStream&lt;/strong&gt;, també té un altre que accepta un &lt;strong&gt;File &lt;/strong&gt;i fins i tot un altre que accepta un &lt;strong&gt;String&lt;/strong&gt; amb el nom del fitxer. Per tant, la següent sentència també ens funcionaria:&lt;span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	val f_out = PrintStream(&quot;f6.txt&quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="2453"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.38"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="41">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="38"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T2_2_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpO8qCd1/T2_2_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="8ea48fdd783d021d81f39e52d8f791df"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="39"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="39"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="39"></int>
                <string role="key" value="parentNode"></string>
                <reference key="40"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="11"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="40"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="41"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="11"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:3%20-%20Fluxos%20decoradors:3.1%20-%20Decoradors%20de%20InputStream%20i%20OtputStream"></string>
           <string role="key" value="parent"></string>
           <reference key="37"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="44">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.2 - Decoradors de Reader i Writer"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="42">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="43">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="42"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Mirem ara els decoradors de la jerarquia &lt;strong&gt;Reader&lt;/strong&gt; i &lt;strong&gt;Writer&lt;/strong&gt; . Tornen a ser els de color verd. Els de color gris &lt;strong&gt;InputStreamReader&lt;/strong&gt; i &lt;strong&gt;OutputStreamWriter&lt;/strong&gt; són conversors que permeten passar un &lt;strong&gt;InputStream&lt;/strong&gt; a un &lt;strong&gt;Reader&lt;/strong&gt; i un &lt;strong&gt;OutputStream&lt;/strong&gt; a &lt;strong&gt;Writer&lt;/strong&gt;. Els veurem en la següent pregunta.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2__2_2.png&quot; alt=&quot;T2_2_2.png&quot; height=&quot;961&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;
&lt;p&gt; Fixem-nos primers en els decoradors de &lt;strong&gt;Reader&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FilterReader&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;No és instanciable, únicament està per a que les altres depenguen d'ella (no la veurem) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PushBackInputStream&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;span&gt;Permet retrocedir un caràcter en la lectura, i per tant permet anar cap arrere (no la veurem) &lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Buffered&lt;strong&gt;Reader&lt;/strong&gt;&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Munta un buffer d'entrada, i permet entre altres coses llegir una línia sencera&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LineNumber&lt;strong&gt;Reader&lt;/strong&gt;&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;&lt;span&gt;Afegeix el número de línia de cada línia del fitxer (no la veurem)&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I de forma quasi paral·lela tenim els decoradors de &lt;strong&gt;Writer&lt;/strong&gt;:&lt;/p&gt;
&lt;table border=&quot;1&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Classe&lt;/td&gt;
&lt;td&gt;Explicació&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FilterWriter&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;No és instanciable, únicament està per a que les altres depenguen d'ella (no la veurem) &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Buffered&lt;strong&gt;Writer&lt;/strong&gt;&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Munta un buffer d'eixida, i permet entre altres coses escriure una línia sencera&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Print&lt;strong&gt;Writer&lt;/strong&gt;&lt;/strong&gt; &lt;/td&gt;
&lt;td&gt;Permet escriure dades de diferents tipus, i té també els mètodes &lt;em&gt;printf&lt;/em&gt; i &lt;em&gt;println&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;El &lt;strong&gt;PrintWriter&lt;/strong&gt; funciona quasi exactament igual que el &lt;strong&gt;PrintStream&lt;/strong&gt;, i per a caràcters és més útil que l'altre (per ser &lt;strong&gt;Writer&lt;/strong&gt;), per tant és el candidat a recordar.&lt;/p&gt;
&lt;p&gt;El &lt;strong&gt;BufferedReader&lt;/strong&gt; sí que ens oferirà facilitats interessants, com llegir una línia sencera. En canvi el &lt;strong&gt;BufferedWriter&lt;/strong&gt; no ens ofereix tantes facilitats com el &lt;strong&gt;PrintWriter&lt;/strong&gt;, és un poc més incòmode.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="2455"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="13_1.38"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="45">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="42"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T2__2_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpO8qCd1/T2__2_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="af2ac6badad62b8169aa13e5537466bf"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="43"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="43"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="39"></int>
                <string role="key" value="parentNode"></string>
                <reference key="44"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="13"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="44"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="45"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="46">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="47">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="46"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;BufferedReader i BufferedWriter. PrintWriter&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;BufferedReader i BufferedWriter munten un buffer (d'entrada i d'eixida respectivament) de caràcters per a fer més eficient la transferència. A banda d'això tindran uns mètodes que ens seran molt útils.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;BufferedReader&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètode &lt;strong&gt;readLine()&lt;/strong&gt; que ens permet llegir una línia sencera del fitxer (fins al final de línia). Açò és de molta utilitat en els fitxers de text.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;BufferedWriter&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètode &lt;strong&gt;newLine()&lt;/strong&gt; que permet introduir el caràcter de baixada de línia&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètode &lt;strong&gt;write(&lt;em&gt;cad&lt;/em&gt;: String, &lt;em&gt;com&lt;/em&gt;: Int, &lt;em&gt;llarg&lt;/em&gt;: Int)&lt;/strong&gt; que permet escriure tot un string, o una part d'ell, especificant on comença el que volem escriure i la llargària&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Com veieu el &lt;strong&gt;BufferedReader&lt;/strong&gt; sí que ens ofereix la possibilitat de llegir una línia sencera, però en canvi el &lt;strong&gt;BufferedWriter&lt;/strong&gt; es queda un poc curt. Per això preferirem el &lt;strong&gt;PrintWriter&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;PrintWriter&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètodes &lt;strong&gt;print(&lt;em&gt;qualsevol_tipu&lt;/em&gt;&lt;em&gt;s&lt;/em&gt;)&lt;/strong&gt; , que permeten imprimir una dada de qualsevol tipus: booleà, char, tots els numèrics, string, ... Serà segurament el que més utilitzarem.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètodes &lt;strong&gt;println&lt;strong&gt;(&lt;em&gt;qualsevol_tipu&lt;/em&gt;&lt;em&gt;s&lt;/em&gt;)&lt;/strong&gt;&lt;/strong&gt; , a banda de tot el de &lt;strong&gt;print&lt;/strong&gt;, baixen de línia&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;mètode &lt;strong&gt;printf() &lt;/strong&gt;, que permet donar un format&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Veiem un senzill exemple per a copiar el contingut d'un fitxer de text i modificar-lo lleugerament. El més còmode serà anar línia a línia. Per tant utilitzarem el &lt;strong&gt;BufferedReader&lt;/strong&gt; per a llegir línies, i el &lt;strong&gt;PrintWriter&lt;/strong&gt; per a escriure línies. La lleugera modificació consistirà en posar el número de línia davant. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_51.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.BufferedReader
import java.io.FileReader
import java.io.PrintWriter
import java.io.FileWriter

fun main(args: Array&amp;lt;String&amp;gt;) {
    val f_ent = BufferedReader(FileReader (&quot;f7_ent.txt&quot;))
    val f_eix = PrintWriter(FileWriter (&quot;f7_eix.txt&quot;))
    var cad = f_ent.readLine();
    var i = 0
    while (cad != null) {
        i++
        f_eix.println(&quot;&quot; + i + &quot;.- &quot; + cad)
        cad = f_ent.readLine()
    }
    f_eix.close()
    f_ent.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Si en el fitxer d'entrada (&lt;strong&gt;f7_ent.txt&lt;/strong&gt;) tenim guardada la següent informació (introduïda amb el notepad o gedit):&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;Primera&lt;/div&gt;
&lt;div&gt;Segona&lt;/div&gt;
&lt;div&gt;Tercera&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; En el fitxer d'eixida (&lt;strong&gt;f7_eix.txt&lt;/strong&gt;) tindrem:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;1.- Primera&lt;/div&gt;
&lt;div&gt;2.- Segona&lt;/div&gt;
&lt;div&gt;3.- Tercera&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="47"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="44"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="20"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="44"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="12"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:3%20-%20Fluxos%20decoradors:3.2%20-%20Decoradors%20de%20Reader%20i%20Writer"></string>
           <string role="key" value="parent"></string>
           <reference key="37"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="50">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.3 - Conversors: InputStreamReader i OutputStreamWriter"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="48">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="49">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="48"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p style=&quot;text-align: justify;&quot;&gt;Una vegada vistes les jerarquies de les classes &lt;strong&gt;InputStream-OutputStream&lt;/strong&gt; per una banda, i &lt;strong&gt;Reader-Writer&lt;/strong&gt; per una altra, veurem ara unes classes que serviran per a passar d'una jeraquia a una altra. És a dir, poder passar un &lt;strong&gt;InputStream&lt;/strong&gt; a &lt;strong&gt;Reader&lt;/strong&gt;, o el que és el mateix, un flux orientat a bytes en un flux orientat a caràcters. I el mateix amb el OutputStream i el Writer.&lt;/p&gt;
&lt;ul style=&quot;text-align: justify;&quot;&gt;
&lt;li&gt;&lt;strong&gt;InputStreamReader&lt;/strong&gt;: passa un &lt;strong&gt;InputStream&lt;/strong&gt; a &lt;strong&gt;Reader&lt;/strong&gt;. Accepta com a paràmetre el &lt;strong&gt;InputStream&lt;/strong&gt; i dóna com a resultat un &lt;strong&gt;Reader&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OutputStreamWriter&lt;/strong&gt;: passa un &lt;strong&gt;OutputStream&lt;/strong&gt; a &lt;strong&gt;Writer&lt;/strong&gt;. Accepta com a paràmetre el &lt;strong&gt;OutputStream&lt;/strong&gt; i dóna com a resultat un &lt;strong&gt;Writer&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;A més en el constructor dels dos, &lt;strong&gt;InputStreamReader&lt;/strong&gt; i &lt;strong&gt;OutputStreamWriter&lt;/strong&gt;, tenim la possibilitat d'especificar el tipus de codificació, a més del InputStream o OutputStream. Açò ens serà molt útil, perquè fins el moment no podíem triar el tipus de codificació d'un &lt;strong&gt;FileReader&lt;/strong&gt; o &lt;strong&gt;FileWriter&lt;/strong&gt; que era UTF-8 en el cas de Linux, i ASCII (millor dit la seua extensió ISO-8859-1) en el cas de Windows. &lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Mirem aquest exemple, en el qual transformem el mateix fitxer d'una configuració a una altra. Aprofitem algun dels fitxers que ja disposem (per exemple f5.txt, que tenia caràcters especials com vocals accentuades). En l'exemple el tindrem en codificació UTF-8, ja que està provat en Linux. El transformarem a ISO-8859-1. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_61.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.InputStreamReader
import java.io.FileInputStream
import java.io.OutputStreamWriter
import java.io.FileOutputStream

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_ent = InputStreamReader(FileInputStream(&quot;f5.txt&quot;), &quot;UTF-8&quot;)
	val f_eix = OutputStreamWriter(FileOutputStream(&quot;f5_ISO.txt&quot;), &quot;ISO-8859-1&quot;)

	var car = f_ent.read()
	while (car != -1) {
		f_eix.write(car)
		car = f_ent.read()
	}
	f_eix.close()
	f_ent.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Hem posat l'entrada explícitament que siga de UTF-8. En realitat no faria falta, ja que si treballem en Linux, aquesta serà la codificació per defecte, i per tant seria la que utilitzaria un FileReader.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;FileReader f_ent = new FileReader(&quot;f5.txt&quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Anem a fer una altra versió del mateix programa. A banda de no especificar la codificació del fitxer d'entrada, utilitzarem els decoradors &lt;strong&gt;BufferedReader&lt;/strong&gt; i &lt;strong&gt;PrintWriter&lt;/strong&gt; per a poder anar còmodament línia a línia. Copieu el següent codi en un fitxer anomenat &lt;strong&gt;Exemple_2_62.kt &lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.FileReader
import java.io.BufferedReader
import java.io.FileOutputStream
import java.io.OutputStreamWriter
import java.io.PrintWriter

fun main(args: Array&amp;lt;String&amp;gt;) {
	val f_ent = BufferedReader(FileReader (&quot;f5.txt&quot;))
	val f_eix = PrintWriter(OutputStreamWriter(FileOutputStream (&quot;f5_ISO.txt&quot;), &quot;ISO-8859-1&quot;))

	var cad = f_ent.readLine()
	while (cad != null) {
		f_eix.println(cad)
		cad = f_ent.readLine()
	}
	f_eix.close()
	f_ent.close()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="49"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="50"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="14"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="50"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="13"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:3%20-%20Fluxos%20decoradors:3.3%20-%20Conversors%3A%20InputStreamReader%20i%20OutputStreamWriter"></string>
           <string role="key" value="parent"></string>
           <reference key="37"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="53">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="4 - Simplificació en Kotlin"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.jsidevice.JsIdevice" reference="51">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value=""></unicode>
           <string role="key" value="_attributes"></string>
           <list>
            <tuple>
             <string value="title"></string>
             <list>
              <string value="Title"></string>
              <int value="0"></int>
              <int value="0"></int>
             </list>
            </tuple>
            <tuple>
             <string value="category"></string>
             <list>
              <string value="Category"></string>
              <int value="0"></int>
              <int value="1"></int>
             </list>
            </tuple>
            <tuple>
             <string value="css-class"></string>
             <list>
              <string value="CSS class"></string>
              <int value="0"></int>
              <int value="2"></int>
             </list>
            </tuple>
            <tuple>
             <string value="icon"></string>
             <list>
              <string value="Icon"></string>
              <int value="0"></int>
              <int value="3"></int>
             </list>
            </tuple>
           </list>
           <string role="key" value="_author"></string>
           <string value=""></string>
           <string role="key" value="_editionFolder"></string>
           <string value="text/edition/"></string>
           <string role="key" value="_editionResources"></string>
           <list>
            <string value="text.js"></string>
           </list>
           <string role="key" value="_exportFolder"></string>
           <none></none>
           <string role="key" value="_exportResources"></string>
           <list></list>
           <string role="key" value="_iDeviceDir"></string>
           <string value="text"></string>
           <string role="key" value="_purpose"></string>
           <string value=""></string>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="_valid"></string>
           <bool value="1"></bool>
           <string role="key" value="class_"></string>
           <unicode value="text"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
           <int value="1"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="52">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="48_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="51"></reference>
              <string role="key" value="_instruc"></string>
              <string value=""></string>
              <string role="key" value="_name"></string>
              <string value=""></string>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Tots els programes anteriors funcionen en Kotlin perfectament, perquè estem utilitzant les classes de Java, i aquestes sense problemes funcionen en Kotlin, és una de les seues característiques.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Tanmateix, Kotlin proporcionarà funcionalitat extra en les classes, que ens permetrà simplificar prou els programes. Són molts els mètodes nous que ens proporcionarà. Ací tenim uns quants agrupats per temàtica.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Mètodes sobre bytes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;readBytes()&lt;/strong&gt; : torna un &lt;strong&gt;ByteArray &lt;/strong&gt; amb tots els bytes del fitxer, és a dir, tot el seu contingut en forma de bytes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;writeBytes(&lt;em&gt;array&lt;/em&gt;: ByteArray)&lt;/strong&gt; : escriu en el fitxer el contingut del ByteArray. Si el fitxer ja existia, el sobreescriura.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;appendBytes&lt;/strong&gt;&lt;strong&gt;(&lt;em&gt;array&lt;/em&gt;: ByteArray)&lt;/strong&gt; : afegeix al final del fitxer els bytes del ByteArray.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Tornem a fer el primer exemple, Exemple_2_01.kt, utilitzant aquesta funcionalitat extra. Copieu el següent com &lt;strong&gt;Exemple_2_01_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main(){
	val f = File(&quot;f1.txt&quot;)
	val tot = f.readBytes()
	for (c in tot){
		println(c.toChar())
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I com a exemple d'escriptura, podem fer Exemple_2_11.kt,on ho podem fer tot en una línia. Copieu el següent com &lt;strong&gt;Exemple_2_11_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main() {
	val text = &quot;Contingut per al fitxer.&quot;
	File(&quot;f3.txt&quot;).writeBytes(text.toByteArray())
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Recordeu que en els dos exemples anteriors per comoditat estem utilitzant caràcters com a dades, i no seria el més correcte utilitzar bytes ni de lectura ni d'escriptura. Ho hem fet únicament per comoditat.&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Mètodes sobre caràcters&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;readText(&lt;em&gt;charset&lt;/em&gt;: CharSet)&lt;/strong&gt;: torna un String amb la tots els caràcters del fitxer. Opcionalment li podem dir el joc de caràcters (si no li ho diem utilitzarà UTF-8)&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;readLines(&lt;em&gt;charset&lt;/em&gt;: CharSet)&lt;/strong&gt;: torna un List de Strings amb totes les línies del fitxer&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;writeText(&lt;em&gt;text&lt;/em&gt;: String, &lt;em&gt;charset&lt;/em&gt;: CharSet)&lt;/strong&gt;: escriu el string en el fitxer. Si el fitxer ja existia el sobreescriurà. Opcionalment podem posar el joc de caràcters que volem utilitzar. Si no el posem utilitzarà UTF-8. Observeu que ja disposàvem d'un mètode que escrivia tot un String anteriorment, per tant no és una gran millora, excepte pel fet de poder especificar el joc de caràcters. Açò sí que és de gran comoditat.&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;appendText(&lt;em&gt;text&lt;/em&gt;: String, &lt;em&gt;charset&lt;/em&gt;: CharSet)&lt;/strong&gt;: el mateix que l'anterior, però afegint al final.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Com a exemple anem a veure Exemple_2_21.kt. Copieu el següent com &lt;strong&gt;Exemple_2_21_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main(){
	val tot = File(&quot;f1.txt&quot;).readText()
	for(c in tot){
		println(c)
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I com a exemple d'escriptura, l'adaptació de Exemple_2_31.kt. Copieu el següent com &lt;strong&gt;Exemple_2_31_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main() {
	val text = &quot;Contingut per al fitxer. Ara ja sense por a caràcters especials: ç, à, ú, ...&quot;
	File(&quot;f5.txt&quot;).writeText(text)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;I com a exemple de copiar un fitxer en un altre, fins i tot canviant el joc de caràcters, farem una altra versió del Exemple_2_61.kt. Copieu el següent com &lt;strong&gt;Exemple_2_61_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main() {
	File(&quot;f5_2.txt&quot;).writeText(File(&quot;f5.txt&quot;).readText(), Charsets.ISO_8859_1)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p class=&quot;titolet&quot;&gt;Mètodes de conversió&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En ocasions és possible que no tinguem un mètode directament en File que ens vinga bé. Un exemple són els mètodes print (print, println, printf). Aleshores, senzillament a partir del File la classe que ens convinga de la jerarquia de InputStream/OutputStream o Reader/Writer. Són mètodes que ens tornen la classe desitjada:&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;inputStream()&lt;/strong&gt;: construeix in un InputStream que apunta al File, i el torna&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;inputStream()&lt;/strong&gt;: el mateix amb un OutputStream&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;reader(&lt;em&gt;charset&lt;/em&gt;: Charset)&lt;/strong&gt;: el mateix amb un Reader, tenint la possibilitat d'especificar el joc de caràcters (si no s'especifica serà UTF-8)&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;writer(&lt;em&gt;charset&lt;/em&gt;: Charset)&lt;/strong&gt;: el mateix amb un Writer&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;bufferedReader(&lt;em&gt;charset&lt;/em&gt;: Charset)&lt;/strong&gt;: el mateix amb un BufferedReader&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;printWriter(&lt;em&gt;charset&lt;/em&gt;: Charset)&lt;/strong&gt;: el mateix amb un Writer&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per exemple, el que hem comentat més amunt: si volem els mètodes print, senzillament obtenim un &lt;strong&gt;PrintWriter&lt;/strong&gt; a partir del File. D'aquesta manera, el Exemple_2_41.kt ens quedaria d'una altra manera per a obtenir el PrintWriter que volíem. Copieu el següent com &lt;strong&gt;Exemple_2_41_bis.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exemples

import java.io.File

fun main() {
	val f_out = File(&quot;f6.txt&quot;).printWriter()

	val a = 5.25.toFloat()
	val b = &quot;Hola.&quot;
	f_out.print(b)
	f_out.println(&quot;Què tal?&quot;)
	f_out.println(a + 3)
	f_out.printf(&quot;El número %d en hexadecimal és %x&quot;, 27, 27)

	f_out.close();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="52"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="53"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value=""></unicode>
           <string role="key" value="id"></string>
           <unicode value="22"></unicode>
           <string role="key" value="ideviceCategory"></string>
           <unicode value="Text and Tasks"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parentNode"></string>
           <reference key="53"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.jsidevice.JsIdevice" reference="54">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value=""></unicode>
           <string role="key" value="_attributes"></string>
           <list>
            <tuple>
             <string value="title"></string>
             <list>
              <string value="Title"></string>
              <int value="0"></int>
              <int value="0"></int>
             </list>
            </tuple>
            <tuple>
             <string value="category"></string>
             <list>
              <string value="Category"></string>
              <int value="0"></int>
              <int value="1"></int>
             </list>
            </tuple>
            <tuple>
             <string value="css-class"></string>
             <list>
              <string value="CSS class"></string>
              <int value="0"></int>
              <int value="2"></int>
             </list>
            </tuple>
            <tuple>
             <string value="icon"></string>
             <list>
              <string value="Icon"></string>
              <int value="0"></int>
              <int value="3"></int>
             </list>
            </tuple>
           </list>
           <string role="key" value="_author"></string>
           <string value=""></string>
           <string role="key" value="_editionFolder"></string>
           <string value="text/edition/"></string>
           <string role="key" value="_editionResources"></string>
           <list>
            <string value="text.js"></string>
           </list>
           <string role="key" value="_exportFolder"></string>
           <none></none>
           <string role="key" value="_exportResources"></string>
           <list></list>
           <string role="key" value="_iDeviceDir"></string>
           <string value="text"></string>
           <string role="key" value="_purpose"></string>
           <string value=""></string>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="_valid"></string>
           <bool value="1"></bool>
           <string role="key" value="class_"></string>
           <unicode value="text"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
           <int value="1"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="55">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="48_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="54"></reference>
              <string role="key" value="_instruc"></string>
              <string value=""></string>
              <string role="key" value="_name"></string>
              <string value=""></string>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Altres mètodes&lt;/p&gt;
&lt;p&gt;Hi ha altres mètodes que poden ser molt útils. Per exemple aquell que copia directament un fitxer, o tot un directori recursivament, o que esborra recursivament, ...&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;copyTo(&lt;em&gt;destí&lt;/em&gt;: File, &lt;em&gt;sobre_escriure&lt;/em&gt;: Boolean, &lt;em&gt;buffer&lt;/em&gt;: Int)&lt;/strong&gt;: copia en el fitxer de destí. Per defecte no sobreescriurà, a no ser que posem true en el segon paràmentre. El tercer paràmetre és per a marcar la grandària del buffer de dades per a fer la còpia.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;copyRecursively(&lt;/strong&gt;&lt;strong&gt;&lt;em&gt;destí&lt;/em&gt;: File, &lt;em&gt;sobre_escriure&lt;/em&gt;: Boolean)&lt;/strong&gt;: copia recursivament el File i tots els seus descendents en el File de destí. Per defecte no sobreescriurà, a menys que posem true en el segon paràmentre. Opcionalment es pot posar un tercer paràmetre per al tractament dels possibles errors&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;deleteRecursively():&lt;/strong&gt; esborra el file i tots els seus possibles descendents&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;També hi ha altres mètodes, com per exemple per a comprovar si el nom del File té extensió, o si comença o finalitza igual que un altre, o per a normalitzar la ruta (llevar possibles redundàncies), i altre més.&lt;/p&gt;
&lt;p&gt;Es poden consultar totes les extensions que proporciona Kotline a la classe File en:&lt;/p&gt;
&lt;p&gt;https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/&lt;/p&gt;&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="55"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="53"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value=""></unicode>
           <string role="key" value="id"></string>
           <unicode value="23"></unicode>
           <string role="key" value="ideviceCategory"></string>
           <unicode value="Text and Tasks"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parentNode"></string>
           <reference key="53"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="16"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:4%20-%20Simplificaci%C3%B3%20en%20Kotlin"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="58">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Exercicis"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="56">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 2_1"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="57">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="41_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="56"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Aquest primer exercicis és per a tractament de bytes, ja que es tractarà de modificar una imatge. Per a poder provar-lo podeu utilitzar la imatge &lt;strong&gt;Penyagolosa.bmp&lt;/strong&gt; que se us proporciona en l'aula virtual i l'heu de copiar al directori arrel del projecte &lt;strong&gt;Tema2&lt;/strong&gt; per a un funcionament més còmode.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;No es pretén construir un editor d'imatges. Tan sols pretenem agafar la informació del fitxer byte a byte, realitzar alguna transformació en els bytes i guardar-la en un altre fitxer.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;El format d'un fitxer &lt;strong&gt;bmp&lt;/strong&gt;, aproximadament és el següent:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;En els 54 primers bytes es guarda informació diversa, com la grandària de la imatge, paleta de colors, ...&lt;/li&gt;
&lt;li&gt;A partir d'ahí es guarda &lt;strong&gt;cada punt&lt;/strong&gt; de la imatge com &lt;strong&gt;3 bytes&lt;/strong&gt;, un per al roig (R), un per al verd (G) i i un per al blau (B), anant d'esquerra a dreta i de dalt a baix.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Copia't i modifica la classe &lt;strong&gt;FitxerImatge&lt;/strong&gt; en el paquet &lt;strong&gt;exercicis&lt;/strong&gt;, creant els mètodes oportuns seguint aquestes pautes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El constructor &lt;strong&gt;FitxerImatge(File fEnt)&lt;/strong&gt; ha d'inicialitzar la propietat &lt;strong&gt;f&lt;/strong&gt; (&lt;strong&gt;File&lt;/strong&gt;) &lt;strong&gt;si i només si&lt;/strong&gt; existeix el fitxer i l'extensió del fitxer és &lt;strong&gt;.bmp&lt;/strong&gt; (ho controlarem senzillament perquè el nom del fitxer acaba així). En cas contrari, traure els missatges d'error oportuns per l'eixida estàndar.&lt;/li&gt;
&lt;li&gt;Els mètodes de transformació (&lt;strong&gt;transformaNegatiu&lt;/strong&gt;,&lt;strong&gt; transformaObscur&lt;/strong&gt; i el voluntari &lt;strong&gt;transformaBlancNegre&lt;/strong&gt;) han de crear un nou fitxer que contindrà la imatge transformada com veurem més avant. El nom del nou fitxer s'ha de formar a partir del nom del fitxer d'entrada, el que hem guardat en el constructor. Serà sempre posant abans del .bmp un guió baix i un identificatiu de la transformació realitzada: &lt;strong&gt;_n&lt;/strong&gt; per al negatiu, &lt;strong&gt;_o&lt;/strong&gt; per a l'obscur i &lt;strong&gt;_bn&lt;/strong&gt; per al blanc i negre (part voluntària). És a dir, si el fitxer d'entrada fóra &lt;strong&gt;imatge1.bmp&lt;/strong&gt;, el d'eixida haurà de ser:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;imatge1_n.bmp&lt;/strong&gt; per al mètode &lt;strong&gt;transformaNegatiu&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;imatge1_o.bmp&lt;/strong&gt; per al mètode &lt;strong&gt;transformaObscur&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;imatge1_bn.bmp&lt;/strong&gt; per al mètode voluntari &lt;strong&gt;transformaBlancNegre&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;En cada transformació, els primers 54 bytes s'han de copiar sense modificar: s'han d'escriure en el fitxer de destí  tal i com s'han llegit del fitxer d'entrada&lt;/li&gt;
&lt;li&gt;A partir del 54, cada vegada que es llegirà un byte, s'haurà de transformar abans d'escriure'l en el destí. La transformació és d'aquesta manera:
&lt;ul&gt;
&lt;li&gt;Per al &lt;strong&gt;negatiu&lt;/strong&gt; (&lt;strong&gt;transformaNegatiu&lt;/strong&gt;), cada byte de color (RGB) de cada punt, s'ha de transformar en el complementari. Com estem parlant de bytes però que en llegir els guardem en enters, senzillament serà calcular &lt;strong&gt;255 - b&lt;/strong&gt; (si b és el byte llegit).&lt;/li&gt;
&lt;li&gt;Per a l'&lt;strong&gt;obscur&lt;/strong&gt; (&lt;strong&gt;transformaObscur&lt;/strong&gt;), cada byte de color (RGB) de cada punt, s'ha de baixar d'intensitat a la meitat. Senzillament serà calcular &lt;strong&gt;b / 2&lt;/strong&gt; (si b és el byte llegit).&lt;/li&gt;
&lt;li&gt;Per al &lt;strong&gt;blanc i negre&lt;/strong&gt; (&lt;strong&gt;transformaBlancNegre&lt;/strong&gt;), que és el voluntari, hem de donar el mateix valor per al roig, el blau i el verd (RGB) de cada punt, i així aconseguirem un gris d'intensitat adequada. Una bona manera serà&lt;strong&gt; llegir els tres bytes&lt;/strong&gt; de cada punt (no s'aconsella utilitzar una lectura amb un array de 3 posicions; millor fer tres lectures guardades en tres variables diferents), &lt;strong&gt;calcular la mitjana&lt;/strong&gt; d'aquestos 3 valors, i &lt;strong&gt;escriure el resultat 3 vegades&lt;/strong&gt; en el fitxer de destí.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A mode orientatiu del que es vol fer, us adjunte la classe &lt;strong&gt;fitxerImatge&lt;/strong&gt; a la qual heu de modificar el constructor i els tres mètodes de transformació (l'últim és voluntari). Recordeu que ha d'anar al paquet &lt;strong&gt;exercicis &lt;/strong&gt;i li podeu donar el nom &lt;strong&gt;Exercici_2_1.kt&lt;/strong&gt;.&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exercicis

import java.io.File

class FitxerImatge(fEnt: File) {
	var f: File = File(&quot;&quot;)

	init {
		// Constructor
		// Control d'existència del fitxer i control de l'extensió .bmp (traure missatges d'error)
        // En cas que tot siga correcte, inicialitzar f amb fEnt
 
	}

	fun transformaNegatiu() {
		// Transformar a negatiiu i guardar en _n.bmp

	}

	fun transformaObscur() {
		// Transformar a una imatge més fosca i guardar en _o.bmp

	}
	
	/* Partvoluntària
	fun transformaBlancNegre() {
		// Transformar a una imatge en blanc i negre i guardar en _bn.bmp

	}
 */
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aquest seria un exemple de programa principal, que podeu utilitzar si voleu. Recordeu que ha d'anar al paquet &lt;strong&gt;exercicis&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exercicis

import java.io.File

fun main(args: Array&amp;lt;String&amp;gt;){
	val f = File(&quot;Penyagolosa.bmp&quot;)
	
	val fi = FitxerImatge(f)
	fi.transformaNegatiu()
	fi.transformaObscur()
	//voluntari
	//fi.transformaBlancNegre()
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Per a la imatge que se us proporciona (i que està en la construcció del File del programa principal), que és la de l'esquerra, haurien d'eixir les de la dreta:&lt;/p&gt;
&lt;table border=&quot;1&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Imatge inicial&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;negatiu&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;obscur&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;blanc i negre (voluntari)&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img src=&quot;resources/Penyagolosa.bmp&quot; width=&quot;300&quot; height=&quot;225&quot; /&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/Penyagolosa_n.bmp&quot; width=&quot;300&quot; height=&quot;225&quot; /&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/Penyagolosa_o.bmp&quot; width=&quot;300&quot; height=&quot;225&quot; /&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/Penyagolosa_bn.bmp&quot; width=&quot;300&quot; height=&quot;225&quot; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Penyagolosa.bmp&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Penyagolosa_n.bmp&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Penyagolosa_o.bmp&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Penyagolosa_bn.bmp&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2447"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="17_41_2.120"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="59">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="56"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="Penyagolosa_o.bmp"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/Penyagolosa_o.bmp"></string>
                     <string role="key" value="checksum"></string>
                     <string value="6eb94f8aea58d4fabcba42508ec9c8ad"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="57"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2448"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="17_41_2.121"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="60">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="56"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="Penyagolosa_n.bmp"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/Penyagolosa_n.bmp"></string>
                     <string role="key" value="checksum"></string>
                     <string value="0e8cef4fb8d2af8ba10d59be036251e2"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="57"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2449"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="17_41_2.122"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="61">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="56"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="Penyagolosa.bmp"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/Penyagolosa.bmp"></string>
                     <string role="key" value="checksum"></string>
                     <string value="31ed656f77e510b002baa9a6875ecc44"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="57"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2451"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="17_41_2.123"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="62">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="56"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="Penyagolosa_bn.bmp"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/Penyagolosa_bn.bmp"></string>
                     <string role="key" value="checksum"></string>
                     <string value="d7321ffaf55e1044ce5ef1ed4feb4126"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="57"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="57"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="124"></int>
              <string role="key" value="parentNode"></string>
              <reference key="58"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="17"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="58"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="59"></reference>
            <reference key="60"></reference>
            <reference key="61"></reference>
            <reference key="62"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="63">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 2_2"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="64">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="42_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="63"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Aquest programa serà el primer que utilitzarà components gràfics.&lt;/p&gt;
&lt;p&gt;Per a entendre els components gràfics de la llibreria &lt;strong&gt;Swing&lt;/strong&gt; i els contenidors de la llibreria &lt;strong&gt;Awt&lt;/strong&gt;, que són els que utilitzarem, us aconselle que us mireu l'annex &lt;strong&gt;Gràfics en Java: llibreries&lt;/strong&gt; &lt;strong&gt;AWT i SWING &lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;que teniu en la secció d'annexos, al final del curs de Moodle. De tota manera, us proporcione &quot;l'esquelet&quot; del programa, i només us demane que feu les sentències de quan s'apreten els botons d'obrir i de guardar.&lt;/p&gt;
&lt;p&gt;Anem a fer un senzill editor de text amb el següent aspecte:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2_Ex2_2_1.png&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En el JTextField de dalt posarem el nom (i ruta) del fitxer.&lt;/p&gt;
&lt;ul&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Quan apretem al botó &lt;strong&gt;Obrir&lt;/strong&gt; ha de bolcar el contingut del fitxer al &lt;strong&gt;JTextArea &lt;/strong&gt;(controlant prèviament que existeix el fitxer).&lt;/li&gt;
&lt;li style=&quot;text-align: justify;&quot;&gt;Quan apretem a &lt;strong&gt;Guardar&lt;/strong&gt;, ha de bolcar el contingut del&lt;strong&gt; JTextArea&lt;/strong&gt; en el fitxer (el nom del qual tenim en el &lt;strong&gt;JTextField&lt;/strong&gt;).&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;L'esquelet del programa és el que trobareu a continuació. He utilitzat la filosofia de l'annex, que consisteix a tenir al final de tot el programa principal (el main) que invoca amb posterioritat &lt;strong&gt;(invokeLater&lt;/strong&gt;&lt;strong&gt; l'únic&lt;/strong&gt;) una funció que crea l'objecte de la classe que hereta de &lt;strong&gt;JFrame&lt;/strong&gt;, que és realment la finestra, i la fa visible.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Una vegada copiat en el paquet &lt;strong&gt;Exercicis&lt;/strong&gt; del projecte &lt;strong&gt;Tema2 &lt;/strong&gt;per exemple amb el nom &lt;strong&gt;Exercici_2_&lt;/strong&gt;&lt;strong&gt;2.kt&lt;/strong&gt;, només heu de completar el que teniu al final de tot d'aquesta classe on estan els comentaris, és a dir els mètodes &lt;strong&gt;addActionListener&lt;/strong&gt; dels boton &lt;strong&gt;obrir&lt;/strong&gt; i &lt;strong&gt;guardar&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exercicis

import javax.swing.*
import java.awt.*

class Exercici_2_2_Pantalla : JFrame() {
	val et_f = JLabel(&quot;Fitxer:&quot;)
	val fitxer = JTextField(25)
	val obrir = JButton(&quot;Obrir&quot;)
	val guardar = JButton(&quot;Guardar&quot;)
	val et_a = JLabel(&quot;Contingut:&quot;)
	val area = JTextArea(10, 50)
	val scrollPane = JScrollPane(area)

	// en iniciar posem un contenidor per als elements anteriors
	init {
		defaultCloseOperation = JFrame.EXIT_ON_CLOSE

		setLayout(GridLayout(2, 1))
		setTitle(&quot;Editor de text&quot;)

		val panell1 = JPanel(GridLayout(0, 1))
		val panell1_1 = JPanel(FlowLayout())
		panell1.add(panell1_1)
		panell1_1.add(et_f)
		panell1_1.add(fitxer)

		val panell1_2 = JPanel(FlowLayout())
		panell1.add(panell1_2)
		panell1_2.add(obrir)
		panell1_2.add(guardar)
		val panell2 = JPanel(GridLayout(0, 1))
		panell2.add(scrollPane)
		area.setEditable(true)

		add(panell1)
		add(panell2)
		pack()
		
		obrir.addActionListener {
		// Instruccions per a bolcar el contingut del fitxer en el JTextArea
			
		}
		
		guardar.addActionListener {
		// Instruccions per a guardar el contingut del JTextArea al fitxer.
				
		}
	}
}

private fun crearMostrarFinestra() {

	val frame = Exercici_2_2_Pantalla()
	frame.isVisible = true
}

fun main(args: Array&amp;lt;String&amp;gt;) {
	EventQueue.invokeLater(::crearMostrarFinestra)
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2457"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="18_42_2.37"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="65">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="63"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T2_Ex2_2_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/T2_Ex2_2_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="2fa1d6c1290522ed8392f2238a1bcd51"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="64"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="64"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="38"></int>
              <string role="key" value="parentNode"></string>
              <reference key="58"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="18"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="58"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="65"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="66">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 2_3. Voluntari"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="67">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="43_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="66"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Com a exercici voluntari us propose una altra versió del Editor de Text de l'anterior exercici.&lt;/p&gt;
&lt;p&gt;Ara serà únicament un JTextArea, i les opcions les tindrem en menú. Utilitzeu el component &lt;strong&gt;JFileChooser&lt;/strong&gt;  per a buscar fitxers i per a guardar-los que ens proporciona &lt;strong&gt;Swing&lt;/strong&gt;. Ja teniu implementada l'opció d'eixir.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T2_Ex2_2_2.png&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Si teniu temps i ganes, afegiu un component baix de tot per a triar la codificació entre &lt;strong&gt;UTF-8&lt;/strong&gt; i &lt;strong&gt;ISO-8859-15&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aquest seria l'esquelet del programa principal i la classe que implementa JFrame. El podeu guardar per exemple en &lt;strong&gt;Exercici_2_3.kt&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;package exercicis

import javax.swing.*
import java.awt.*
import java.io.File

class Exercici_2_3 : JFrame() {
	val area = JTextArea()
	val scrollPane = JScrollPane(area)

	val menu_p = JMenuBar()
    
    val menu_arxiu = JMenu(&quot;Arxiu&quot;)
    val menu_ajuda = JMenu(&quot;Ajuda&quot;)
    
    val obrir = JMenuItem(&quot;Obrir&quot;)
    val guardar = JMenuItem(&quot;Guardar&quot;)
    val guardarCom = JMenuItem(&quot;Guardar com ...&quot;)
    val eixir = JMenuItem(&quot;Eixir&quot;)

    val quantA = JMenuItem(&quot;Quant a Editor&quot;)
    
    val fCh = JFileChooser()

	// en iniciar posem un contenidor per als elements anteriors
	init {
		defaultCloseOperation = JFrame.EXIT_ON_CLOSE

		setLayout(BorderLayout())
		setTitle(&quot;Editor de text més avançat&quot;)
		add(scrollPane)
		area.setEditable(true)

		setSize(750, 400)
        setJMenuBar(menu_p)

        menu_p.add(menu_arxiu)
        menu_p.add(menu_ajuda)
        
        menu_arxiu.add(obrir)
        menu_arxiu.add(guardar)
        menu_arxiu.add(guardarCom)
        menu_arxiu.add(JSeparator())
        menu_arxiu.add(eixir)
        
        menu_ajuda.add(quantA);

		obrir.addActionListener { obrir() }

		guardar.addActionListener { guardar() }

		guardarCom.addActionListener { guardarCom() }

		eixir.addActionListener { eixir() }

		quantA.addActionListener { quantA() }
	}

	fun obrir() {
		// Instruccions per a obrir un fitxer i posar el contingut en el JTextArea

	}

	fun guardar() {
		// Instruccions per a guardar el contingut del JTextArea al fitxer.

	}

	fun guardarCom() {
		// Instruccions per a guardar el contingut del JTextArea al fitxer, amb la possibilitat de canviar el nom

	}

	fun eixir() {
		// Instruccions per a eixir
		System.exit(0)
	}

	fun quantA() {
		// Instruccions per a mostrar un diàleg amb la versió (Acerca de...)

	}
}


fun main(args: Array&amp;lt;String&amp;gt;) {
	EventQueue.invokeLater( { Exercici_2_3().isVisible = true })
}&lt;/code&gt;&lt;code&gt;&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="2456"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="19_43_2.38"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="68">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="66"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T2_Ex2_2_2.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpO8qCd1/T2_Ex2_2_2.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="4e66530fd4ed60682d8e1d55718dce38"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="67"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="67"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="39"></int>
              <string role="key" value="parentNode"></string>
              <reference key="58"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="19"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="58"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="68"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="14"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%202%3A%20Gesti%C3%B3%20del%20contingut%20de%20fitxers:Exercicis"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
     </list>
    </dictionary>
   </instance>
   <unicode role="key" value="1"></unicode>
   <reference key="11"></reference>
   <unicode role="key" value="10"></unicode>
   <reference key="34"></reference>
   <unicode role="key" value="11"></unicode>
   <reference key="40"></reference>
   <unicode role="key" value="12"></unicode>
   <reference key="44"></reference>
   <unicode role="key" value="13"></unicode>
   <reference key="50"></reference>
   <unicode role="key" value="14"></unicode>
   <reference key="58"></reference>
   <unicode role="key" value="15"></unicode>
   <reference key="8"></reference>
   <unicode role="key" value="16"></unicode>
   <reference key="53"></reference>
   <unicode role="key" value="2"></unicode>
   <reference key="14"></reference>
   <unicode role="key" value="3"></unicode>
   <reference key="17"></reference>
   <unicode role="key" value="4"></unicode>
   <reference key="27"></reference>
   <unicode role="key" value="5"></unicode>
   <reference key="21"></reference>
   <unicode role="key" value="6"></unicode>
   <reference key="24"></reference>
   <unicode role="key" value="7"></unicode>
   <reference key="37"></reference>
   <unicode role="key" value="9"></unicode>
   <reference key="31"></reference>
  </dictionary>
  <string role="key" value="_objectives"></string>
  <unicode value=""></unicode>
  <string role="key" value="_preknowledge"></string>
  <unicode value=""></unicode>
  <string role="key" value="_templateFile"></string>
  <string value=""></string>
  <string role="key" value="backgroundImgTile"></string>
  <bool value="0"></bool>
  <string role="key" value="currentNode"></string>
  <reference key="58"></reference>
  <string role="key" value="dublinCore"></string>
  <instance class="exe.engine.package.DublinCore">
   <dictionary>
    <string role="key" value="contributors"></string>
    <unicode value=""></unicode>
    <string role="key" value="coverage"></string>
    <unicode value=""></unicode>
    <string role="key" value="creator"></string>
    <unicode value=""></unicode>
    <string role="key" value="date"></string>
    <unicode value=""></unicode>
    <string role="key" value="description"></string>
    <unicode value="Tema 2 d'Accés a Dades"></unicode>
    <string role="key" value="format"></string>
    <unicode value=""></unicode>
    <string role="key" value="identifier"></string>
    <unicode value=""></unicode>
    <string role="key" value="language"></string>
    <unicode value="ca"></unicode>
    <string role="key" value="publisher"></string>
    <unicode value=""></unicode>
    <string role="key" value="relation"></string>
    <unicode value=""></unicode>
    <string role="key" value="rights"></string>
    <unicode value=""></unicode>
    <string role="key" value="source"></string>
    <unicode value=""></unicode>
    <string role="key" value="subject"></string>
    <unicode value=""></unicode>
    <string role="key" value="title"></string>
    <unicode value=""></unicode>
    <string role="key" value="type"></string>
    <unicode value=""></unicode>
   </dictionary>
  </instance>
  <string role="key" value="exe.engine.package.Package.persistenceVersion"></string>
  <int value="16"></int>
  <string role="key" value="exportMetadataType"></string>
  <string value="LOMES"></string>
  <string role="key" value="exportSource"></string>
  <bool value="1"></bool>
  <string role="key" value="footer"></string>
  <unicode value=""></unicode>
  <string role="key" value="isChanged"></string>
  <int value="1"></int>
  <string role="key" value="isLoading"></string>
  <bool value="0"></bool>
  <string role="key" value="license"></string>
  <unicode value="creative commons: attribution - non commercial - share alike 2.5"></unicode>
  <string role="key" value="lom"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.descriptionSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="string"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.LangStringSub">
           <dictionary>
            <string role="key" value="language"></string>
            <string value="ca"></string>
            <string role="key" value="valueOf_"></string>
            <string value="Tema 2 d\'Acc\xc3\xa9s a Dades"></string>
           </dictionary>
          </instance>
         </list>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="f6a856b5-3c75-4e10-9f9e-212f2799af81"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="69">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-09-25"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="70">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="71">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOMv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="69"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="70"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="71"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOMv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <none></none>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="yes"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="lomEs"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.descriptionSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="string"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.LangStringSub">
           <dictionary>
            <string role="key" value="language"></string>
            <string value="ca"></string>
            <string role="key" value="valueOf_"></string>
            <string value="Tema 2 d\'Acc\xc3\xa9s a Dades"></string>
           </dictionary>
          </instance>
         </list>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="f6a856b5-3c75-4e10-9f9e-212f2799af81"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="72">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-09-25"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="73">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="74">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOM-ESv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="72"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="73"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="74"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOM-ESv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <instance class="exe.engine.lom.lomsubs.accessSub">
       <dictionary>
        <string role="key" value="accessType"></string>
        <instance class="exe.engine.lom.lomsubs.accessTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="uniqueElementName"></string>
          <string value="accessType"></string>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.accessTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="universal"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <string role="key" value="description"></string>
        <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list>
           <instance class="exe.engine.lom.lomsubs.LangStringSub">
            <dictionary>
             <string role="key" value="language"></string>
             <string value="ca"></string>
             <string role="key" value="valueOf_"></string>
             <unicode value="Per defecte"></unicode>
            </dictionary>
           </instance>
          </list>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="access"></string>
       </dictionary>
      </instance>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="creative commons: attribution - non commercial - share alike"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <string value="rights"></string>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="mxmlforcemediaonly"></string>
  <bool value="0"></bool>
  <string role="key" value="mxmlheight"></string>
  <string value=""></string>
  <string role="key" value="mxmlprofilelist"></string>
  <string value=""></string>
  <string role="key" value="mxmlwidth"></string>
  <string value=""></string>
  <string role="key" value="release"></string>
  <string value="2.6"></string>
  <string role="key" value="resources"></string>
  <dictionary>
   <string role="key" value="0e8cef4fb8d2af8ba10d59be036251e2"></string>
   <list>
    <reference key="60"></reference>
   </list>
   <string role="key" value="2fa1d6c1290522ed8392f2238a1bcd51"></string>
   <list>
    <reference key="65"></reference>
   </list>
   <string role="key" value="31ed656f77e510b002baa9a6875ecc44"></string>
   <list>
    <reference key="61"></reference>
   </list>
   <string role="key" value="3ce2edd2d04196892beecaea3f838d06"></string>
   <list>
    <reference key="5"></reference>
   </list>
   <string role="key" value="4e66530fd4ed60682d8e1d55718dce38"></string>
   <list>
    <reference key="68"></reference>
   </list>
   <string role="key" value="6eb94f8aea58d4fabcba42508ec9c8ad"></string>
   <list>
    <reference key="59"></reference>
   </list>
   <string role="key" value="8ea48fdd783d021d81f39e52d8f791df"></string>
   <list>
    <reference key="18"></reference>
    <reference key="41"></reference>
   </list>
   <string role="key" value="af2ac6badad62b8169aa13e5537466bf"></string>
   <list>
    <reference key="28"></reference>
    <reference key="45"></reference>
   </list>
   <string role="key" value="d7321ffaf55e1044ce5ef1ed4feb4126"></string>
   <list>
    <reference key="62"></reference>
   </list>
  </dictionary>
  <string role="key" value="root"></string>
  <reference key="4"></reference>
  <string role="key" value="scolinks"></string>
  <bool value="0"></bool>
  <string role="key" value="scowsinglepage"></string>
  <bool value="0"></bool>
  <string role="key" value="scowwebsite"></string>
  <bool value="0"></bool>
  <string role="key" value="style"></string>
  <unicode value="caminas 3.1"></unicode>
  <string role="key" value="tempFile"></string>
  <bool value="0"></bool>
 </dictionary>
</instance>