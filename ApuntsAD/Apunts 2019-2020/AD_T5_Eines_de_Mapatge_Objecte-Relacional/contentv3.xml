<?xml version="1.0" encoding="utf-8"?>

<instance xmlns="http://www.exelearning.org/content/v0.3" reference="2" version="0.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="http://www.exelearning.org/content/v0.3 content.xsd" class="exe.engine.package.Package">
 <dictionary>
  <string role="key" value="_title"></string>
  <unicode value="Accés a Dades"></unicode>
  <string role="key" value="idevices"></string>
  <list></list>
  <string role="key" value="_addPagination"></string>
  <bool value="0"></bool>
  <string role="key" value="_addSearchBox"></string>
  <bool value="0"></bool>
  <string role="key" value="_author"></string>
  <unicode value="Àlvar Serrano Calduch"></unicode>
  <string role="key" value="_backgroundImg"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextMode"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextPlace"></string>
  <unicode value=""></unicode>
  <string role="key" value="_description"></string>
  <unicode value=""></unicode>
  <string role="key" value="_docType"></string>
  <unicode value="XHTML"></unicode>
  <string role="key" value="_exportElp"></string>
  <bool value="0"></bool>
  <string role="key" value="_extraHeadContent"></string>
  <unicode value=""></unicode>
  <string role="key" value="_fieldValidationInfo"></string>
  <dictionary>
   <unicode role="key" value="all"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_title"></unicode>
     <unicode value="pp_lang"></unicode>
     <unicode value="pp_description"></unicode>
     <unicode value="pp_author"></unicode>
     <unicode value="pp_newlicense"></unicode>
    </list>
   </dictionary>
   <unicode role="key" value="procomun"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_learningResourceType"></unicode>
    </list>
    <unicode role="key" value="values_from_list"></unicode>
    <dictionary>
     <unicode role="key" value="pp_learningResourceType"></unicode>
     <list>
      <unicode value="master class"></unicode>
      <unicode value="closed exercise or problem"></unicode>
      <unicode value="real project"></unicode>
      <unicode value="didactic game"></unicode>
      <unicode value="webquest"></unicode>
      <unicode value="open problem"></unicode>
      <unicode value="simulation"></unicode>
      <unicode value="questionnaire"></unicode>
      <unicode value="conceptual map"></unicode>
     </list>
    </dictionary>
   </dictionary>
  </dictionary>
  <string role="key" value="_intendedEndUserRoleGroup"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleTutor"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_isChanged"></string>
  <bool value="0"></bool>
  <string role="key" value="_isTemplate"></string>
  <bool value="0"></bool>
  <string role="key" value="_lang"></string>
  <unicode value="ca"></unicode>
  <string role="key" value="_learningResourceType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_levelNames"></string>
  <list>
   <unicode value="Tema"></unicode>
   <unicode value="Secció"></unicode>
   <unicode value="Apartat"></unicode>
  </list>
  <string role="key" value="_name"></string>
  <unicode value="AD_T5_Eines_de_Mapatge_Objecte-Relacional"></unicode>
  <string role="key" value="_nextIdeviceId"></string>
  <int value="46"></int>
  <string role="key" value="_nextNodeId"></string>
  <int value="26"></int>
  <string role="key" value="_nodeIdDict"></string>
  <dictionary>
   <unicode role="key" value="0"></unicode>
   <instance class="exe.engine.node.Node" reference="4">
    <dictionary>
     <string role="key" value="_title"></string>
     <unicode value="Tema 5: Eines de mapatge Objecte-Relacional (ORM)"></unicode>
     <string role="key" value="idevices"></string>
     <list>
      <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="1">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Free Text"></unicode>
        <string role="key" value="_author"></string>
        <unicode value="University of Auckland"></unicode>
        <string role="key" value="_purpose"></string>
        <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
        <string role="key" value="_tip"></string>
        <string value=""></string>
        <string role="key" value="childs"></string>
        <list></list>
        <string role="key" value="content"></string>
        <instance class="exe.engine.field.TextAreaField" reference="3">
         <dictionary>
          <string role="key" value="_id"></string>
          <int value="1"></int>
          <string role="key" value="_idevice"></string>
          <reference key="1"></reference>
          <string role="key" value="_instruc"></string>
          <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
          <string role="key" value="_name"></string>
          <unicode value="Free Text"></unicode>
          <string role="key" value="anchor_names"></string>
          <list></list>
          <string role="key" value="anchors_linked_from_fields"></string>
          <dictionary></dictionary>
          <string role="key" value="buttonCaption"></string>
          <string value=""></string>
          <string role="key" value="content_w_resourcePaths"></string>
          <unicode content="true" value="&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Portada.png&quot; width=&quot;800&quot; height=&quot;500&quot; alt=&quot;Java_ORM_BD&quot; title=&quot;Java_ORM_BD&quot; /&gt;&lt;/p&gt;"></unicode>
          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
          <int value="4"></int>
          <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
          <int value="2"></int>
          <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
          <int value="3"></int>
          <string role="key" value="htmlTag"></string>
          <string value="div"></string>
          <string role="key" value="images"></string>
          <instance class="exe.engine.galleryidevice.GalleryImages">
           <dictionary>
            <string role="key" value=".listitems"></string>
            <list>
             <instance class="exe.engine.galleryidevice.GalleryImage">
              <dictionary>
               <string role="key" value="_caption"></string>
               <instance class="exe.engine.field.TextField">
                <dictionary>
                 <string role="key" value="_id"></string>
                 <int value="3448"></int>
                 <string role="key" value="_idevice"></string>
                 <none></none>
                 <string role="key" value="_instruc"></string>
                 <string value=""></string>
                 <string role="key" value="_name"></string>
                 <string value=""></string>
                 <string role="key" value="content"></string>
                 <string value=""></string>
                 <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                 <int value="4"></int>
                </dictionary>
               </instance>
               <string role="key" value="_id"></string>
               <unicode value="0_1.61"></unicode>
               <string role="key" value="_imageResource"></string>
               <instance class="exe.engine.resource.Resource" reference="5">
                <dictionary>
                 <string role="key" value="_idevice"></string>
                 <reference key="1"></reference>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="_storageName"></string>
                 <string value="T5_Portada.png"></string>
                 <string role="key" value="_userName"></string>
                 <string value="/tmp/tmp9rxdsE/T5_Portada.png"></string>
                 <string role="key" value="checksum"></string>
                 <string value="7f988a543b6cccc5016464ce859e58aa"></string>
                 <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="warningMsg"></string>
                 <string value=""></string>
                </dictionary>
               </instance>
               <string role="key" value="_parent"></string>
               <reference key="3"></reference>
               <string role="key" value="_thumbnailResource"></string>
               <none></none>
               <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
               <int value="3"></int>
               <string role="key" value="makeThumbnail"></string>
               <bool value="0"></bool>
              </dictionary>
             </instance>
            </list>
            <string role="key" value="idevice"></string>
            <reference key="3"></reference>
           </dictionary>
          </instance>
          <string role="key" value="intlinks_to_anchors"></string>
          <dictionary></dictionary>
          <string role="key" value="nextImageId"></string>
          <int value="62"></int>
          <string role="key" value="parentNode"></string>
          <reference key="4"></reference>
         </dictionary>
        </instance>
        <string role="key" value="edit"></string>
        <bool value="0"></bool>
        <string role="key" value="emphasis"></string>
        <int value="0"></int>
        <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
        <int value="7"></int>
        <string role="key" value="icon"></string>
        <string value=""></string>
        <string role="key" value="id"></string>
        <unicode value="0"></unicode>
        <string role="key" value="lastIdevice"></string>
        <bool value="0"></bool>
        <string role="key" value="parent"></string>
        <none></none>
        <string role="key" value="parentNode"></string>
        <reference key="4"></reference>
        <string role="key" value="systemResources"></string>
        <list></list>
        <string role="key" value="type"></string>
        <none></none>
        <string role="key" value="undo"></string>
        <bool value="1"></bool>
        <string role="key" value="userResources"></string>
        <list>
         <reference key="5"></reference>
        </list>
        <string role="key" value="version"></string>
        <int value="0"></int>
       </dictionary>
      </instance>
     </list>
     <string role="key" value="_id"></string>
     <unicode value="0"></unicode>
     <string role="key" value="_package"></string>
     <reference key="2"></reference>
     <string role="key" value="anchor_fields"></string>
     <list></list>
     <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
     <int value="2"></int>
     <string role="key" value="exportType"></string>
     <string value="website"></string>
     <string role="key" value="last_full_node_path"></string>
     <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29"></string>
     <string role="key" value="parent"></string>
     <none></none>
     <string role="key" value="top_anchors_linked_from_fields"></string>
     <list></list>
     <string role="key" value="children"></string>
     <list>
      <instance class="exe.engine.node.Node" reference="8">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="1 - Introducció"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="6">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="7">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="6"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Ja hem vist que a través de JDBC podem connectar fàcilment a Bases de Dades Relacionals. Però tenim el problema del desfasament Objecte-Relacional. Com que en Java utilitzem objectes, ha d'haver una part important de programació en la conversió d'aquestos objectes a taules, per a que es puguen guardar de forma permanent. Això ho hem intentat comprovar en l'&lt;strong&gt;exercici 4.4&lt;/strong&gt;, destinat a fer la classe &lt;strong&gt;GestionarRutesBD&lt;/strong&gt; de manera que siga transparent la persistència de les dades a qui utilitza aquesta classe. Sobre un exemple molt senzill, hem vist que la traducció entre els objectes i únicament dues taules, ja suposava una miqueta de esforç. Podem veure per tant que en una aplicació una miqueta més complicada, fer la traducció entre objectes i taules és una feina que es pot fer, però que costarà prou.&lt;/p&gt;
&lt;p&gt;Les eines de &lt;strong&gt;mapatge objecte-relacional&lt;/strong&gt; (&lt;strong&gt;ORM&lt;/strong&gt;: Object-Relational Mapping) intenten minimitzar tant com siga possible el desfasament objecte-relacional, automatitzant el procés de traspàs d’un sistema a l’altre.&lt;/p&gt;
&lt;p&gt;En certa manera podríem dir que implementen una Base de Dades Orientada a Objectes virtual perquè aporten característiques pròpies del paradigma OO, però el substrat on s’acaben guardant els objectes és un SGBD Relacional. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="7"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="8"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="1"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="8"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="1"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:1%20-%20Introducci%C3%B3"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="11">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="2 - Concepte de mapatge objecte-relacional"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="9">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="10">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="9"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Les eines de mapatge objecte-relacional automatitzen els processos necessaris d’intercanvi de dades entre Sistemes Orientats a Objectes (OO) i Sistemes Relacionals.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_2_1.png&quot; alt=&quot;T5_2_1&quot; width=&quot;709&quot; height=&quot;412&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Per tant ens ajuden a salvar el desfasament Objecte-Relacional de forma molt còmoda.&lt;/p&gt;
&lt;p&gt;L’automatització s’aconsegueix gràcies a un conjunt de metadades que descriuen quin procés cal utilitzar i quina correspondència hi ha entre les dades primitives d’ambdós sistemes i les estructures que les suporten.&lt;/p&gt;
&lt;p&gt;La descripció més senzilla que han de fer les metadades és la d’establir una correspondència directa entre classes i taules, i a nivell més bàsic entre els atributs de tipus primitius i els camps o columnes. També caldrà identificar l’atribut corresponent al camp que actuarà com a clau primària.&lt;/p&gt;
&lt;p&gt;Lamentablement, no sempre es podrà establir aquest tipus de correspondències directes i caldrà que les metadades puguen expressar molta més complexitat. Aquestos són alguns dels problemes que ens podem trobar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A vegades pot interessar guardar una propietat en més d’una columna o unes quantes propietats en una columna única.&lt;/li&gt;
&lt;li&gt;Pot haver propietats que no es guarden i camps guardats que no es vegen reflectits als objectes.&lt;/li&gt;
&lt;li&gt;Quan els atributs no siguen tipus de dades primitius caldrà saber també si haurem de guardar les dades en una taula diferent o en la mateixa taula i, en cas de que siga en taules diferents, quins atributs haurem de fer servir com a claus externes, qui tindrà la responsabilitat de realitzar l’emmagatzematge, etc. &lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3440"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="2_1.61"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="12">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="9"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_2_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_2_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="2e64371ec3d38608bd6d6356c92c0444"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="10"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="10"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="62"></int>
             <string role="key" value="parentNode"></string>
             <reference key="11"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="2"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="11"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="12"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="2"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:2%20-%20Concepte%20de%20mapatge%20objecte-relacional"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="15">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="3 - Eines de mapatge"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="13">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="14">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="13"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Actualment hi ha moltes eines de mapatge en el mercat. Existeixen eines de mapatge per a la major part de llenguatges orientats a objectes &lt;acronym title=&quot;Hypertext Preprocessor&quot;&gt;PHP&lt;/acronym&gt;, Objective-C, C++, SmallTalk i evidentment Java.&lt;/p&gt;
&lt;p&gt;Bàsicament són eines en les quals podem distingir tres aspectes conceptuals clarament diferenciats:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un sistema per expressar el mapatge entre les classes i l’esquema de la Base de Dades,&lt;/li&gt;
&lt;li&gt;Un llenguatge de consulta orientat a objectes, que en realitat accedirà a les taules, i per tant ens permetrà salvar el desfasament O-R&lt;/li&gt;
&lt;li&gt;Un nucli funcional que possibilita la sincronització dels objectes persistents de l’aplicació amb la Base de Dades. &lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="14"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="4"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="16">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="17">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="16"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tècniques de mapatge&lt;/p&gt;
&lt;p&gt;Entre les tècniques que aquestes eines fan servir per plasmar els mapes O-R, destaquem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les que incrusten les definicions dins el codi de les classes&lt;/li&gt;
&lt;li&gt;Les que guarden les definicions en fitxers independents.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les primeres solen ser tècniques molt vinculades al llenguatge de programació, així per exemple, en C++ se solen fer servir macros i en Java s’utilitzen anotacions.&lt;/p&gt;
&lt;p&gt;Les tècniques de definició basades en fitxers independents del codi solen utilitzar el format &lt;strong&gt;&lt;acronym title=&quot;Extensible Markup Language&quot;&gt;XML&lt;/acronym&gt;&lt;/strong&gt;, perquè és un llenguatge molt expressiu i fàcilment extensible.&lt;/p&gt;
&lt;p&gt;La major part d’eines accepten les dues tècniques de mapatge anteriors, i fins i tot permeten la convivència dins d'una mateixa aplicació.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les tècniques que utilitzen el propi llenguatge de programació per incrustar el mapatge dins el codi presenten una corba d’aprenentatge més baixa per a desenvolupadors experimentats en el llenguatge amfitrió, però per contra no serà possible aprofitar les definicions si es decideix canviar de llenguatge de programació.&lt;/li&gt;
&lt;li&gt;En canvi, fent servir les tècniques basades en &lt;acronym title=&quot;Extensible Markup Language&quot;&gt;XML&lt;/acronym&gt; sí que es poden reutilitzar les definicions per a diferents llenguatges, sempre que l’eina utilitzada estiga disponible en el llenguatge de programació requerit o bé si el format de les definicions segueix alguna especificació estàndard.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A hores d'ara és difícil dir per on s'encaminaran els estàndards. Això sí, la major part d’eines utilitzen una sintaxi prou similar per a expressar les definicions del mapatge, encara que òbviament sempre hi ha diferències que no els fan del tot compatibles. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="17"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="5"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="18">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="19">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="18"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Llenguatges de consulta&lt;/p&gt;
&lt;p&gt;El llenguatge de consulta més utilitzat per la major part d’eines és el llenguatge anomenat &lt;strong&gt;OQL&lt;/strong&gt; (&lt;strong&gt;Object Query Language&lt;/strong&gt;) o una variant del mateix. Es tracta d’un llenguatge especificat per l’ODMG. Presenta molta similitud amb &lt;acronym title=&quot;Structured Query Language&quot;&gt;SQL&lt;/acronym&gt;, ja que que els dos són llenguatges d’interrogació no procedimental, però l’OQL està totalment orientat a objectes. És a dir, en la consulta fem servir la sintaxi pròpia dels objectes i els resultats obtinguts retornen objectes o col·leccions d’objectes.&lt;/p&gt;
&lt;p&gt;Es tracta del llenguatge d’interrogació que també utilitzen moltes bases de dades orientades a objecte, la qual cosa el fa un dels estàndards més populars i coneguts. Hi ha altres llenguatges de consulta orientats a objectes, però no tan estesos com OQL. &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="19"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="6"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="20">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="21">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="20"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tècniques de sincronització&lt;/p&gt;
&lt;p&gt;La sincronització amb la base de dades és segurament un dels aspectes més crítics de les eines de mapatge. Solen ser processos molt complexos, on trobem implicades sofisticades tècniques de programació per a poder descobrir els canvis que van patint els objectes (i així poder guardar-los), a crear i inicialitzar les noves instàncies que calga posar en joc dins l’aplicació d’acord amb les dades guardades o també a extreure la informació dels objectes per revertir-la a les taules del SGBD.&lt;/p&gt;
&lt;p&gt;Aquest és probablement l’aspecte que més diferencia les eines entre elles. Les principals tècniques utilitzades són la precompilació, la postcompilació i la reflexió. El llenguatge de programació suportat per l’eina influirà moltíssim en les solucions adoptades per resoldre la sincronització. Per exemple, C++ admet precompilació, però no reflexió, mentre que Java admet postcompilació i reflexió.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JDO&lt;/strong&gt; (&lt;strong&gt;Java Data Objects&lt;/strong&gt;) és un estàndard de persistència per a Java desenvolupat per Apache. El projecte inclou, a més de l’especificació de l’estàndard, el desenvolupament d’un marc de persistència basat en la postcompilació. Aquesta tècnica consisteix en realitzar dues compilacions a les classes que requereixen persistència. La primera, realitzada pel jdk, generarà els &lt;em&gt;bytecode&lt;/em&gt; estàndards (és a dir els &quot;executables&quot; de Java, els que es poden executar en la màquina virtual Java). La segona compilació, fent servir les indicacions descrites en els documents de mapatge, modificarà els &lt;em&gt;bytecode&lt;/em&gt; generats i hi afegirà nova funcionalitat necessària per dur a terme la persistència d’una forma transparent.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;JPA&lt;/strong&gt; (&lt;strong&gt;Java Persistence API&lt;/strong&gt;) és també un estàndard de persistència. Es troba incorporat en el &lt;acronym title=&quot;Java Development Kit&quot;&gt;JDK&lt;/acronym&gt; des de la versió 5. Hi ha diverses biblioteques que el suporten, totes elles basades en el principi de la reflexió. Java és un llenguatge que en compilar les classes incorpora metadades amb informació pròpia de la classe, com ara l’estructura de dades interna, els mètodes que tinga disponibles, els paràmetres necessaris per invocar els mètodes, etc. La màquina virtual permet fer servir aquestes metadades per accedir a la informació real guardada en els objectes, per invocar algun dels seus mètodes, per construir noves instàncies, etc.&lt;/p&gt;
&lt;p&gt;La postcompilació, usada per JDO, presenta l’avantatge de ser més eficient, ja que incrusta codi compilat directament allà on cal, mentre que la tècnica de la reflexió ha d’anar llegint les metadades i interpretant la manera d’executar adequadament les ordres desitjades.&lt;/p&gt;
&lt;p&gt;Malauradament, JDO no ha acabat de quallar i poques iniciatives comercials l’han seguit. Per contra JPA, és la tècnica que han utilitzat els dos gegants fortament implantats (Hibernate i EJB). Tot sembla apuntar que serà l’escollit per cobrir l’estandardització de la persistència en Java. &lt;/p&gt;
&lt;p&gt;En aquestos apunts utilitzarem &lt;strong&gt;Hibernate&lt;/strong&gt;, que es basa en JPA.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="21"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="15"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="7"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="15"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="3"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:3%20-%20Eines%20de%20mapatge"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="24">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="4 - Arquitectura Hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="22">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="23">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="22"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;El producte que utilitzarem serà &lt;strong&gt;Hibernate&lt;/strong&gt;. Aquesta eina ens permetrà fer el mapatge entre objectes i les taules d'una Base de Dades. Aquestos objectes seran senzills, d'aquells que només tenen les propietats, i mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt; per a accedir a elles.&lt;/p&gt;
&lt;p&gt;Per a intercanviar la informació entre aquestos objectes i la Base de Dades, utilitzarem la classe &lt;strong&gt;Session&lt;/strong&gt; (que seria l'equivalent de &lt;strong&gt;Connection&lt;/strong&gt; de JDBC). Aquesta classe ens proporciona els mètodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;save(&lt;em&gt;objecte&lt;/em&gt;) &lt;/strong&gt;, que guardarà l'objecte en la Base de Dades&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;createQuery(&lt;em&gt;consulta&lt;/em&gt;) &lt;/strong&gt;, que crearà una consulta&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;beginTransaction() &lt;/strong&gt;, que començarà una transacció&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;close()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Amb açò, interactuar amb la Base de Dades serà molt senzill, i no farà falta executar sentències SQL, tal i com ens passava en JDBC.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Session&lt;/strong&gt; no consumeix molta memòria i la seua creació i destrucció és molt barata, cosa que ens pot animar a crear (i destruir) una sessió per a cada accés a la Base de Dades. Ho anirem veient.&lt;/p&gt;
&lt;p&gt;El context que ens fa falta per a una aplicació serà:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Configuration&lt;/strong&gt;. S'utilitza per a configurar Hibernate. L'aplicació utilitza una instància de Configuration per a especificar la ubicació dels documents que descriuen el mapatge i també per a especificar propietats específiques d'Hibernate. A partir de Configuration es crearà el &lt;strong&gt;SessionFactory&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SessionFactory&lt;/strong&gt;. Permet construir instàncies &lt;strong&gt;Session&lt;/strong&gt;. Normalment utilitzarem només un SessionFactory en tota l'aplicació, i d'ell traurem totes les sessions que ens facen falta, a no ser que ens toque accedir a més d'una Base de Dades, on aleshores tindrem una SessionFactory per cada Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Session&lt;/strong&gt;. Com ja hem comentat representa una connexió a la Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Query&lt;/strong&gt;. Permet realitzar consultes a la Base de Dades. El llenguatge utilitzat serà &lt;strong&gt;HQL&lt;/strong&gt; (Hibernate Query Language) o el SQL del SGBD, però preferiblement utilitzarem el primer. Es construeix a partir d'un &lt;strong&gt;Session&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Transaction&lt;/strong&gt;. Permet assegurar que es fan totes les actualitzacions o cap d'elles. De pas ens assegura que en cas d'error en mig d'una transacció, no es faça cap de les operacions. També es construeix a partir d'un &lt;strong&gt;Session&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_4_2.jpg&quot; alt=&quot;T5_4_2&quot; width=&quot;460&quot; height=&quot;446&quot; /&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3436"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="8_1.61"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="25">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="22"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_4_2.jpg"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_4_2.jpg"></string>
                    <string role="key" value="checksum"></string>
                    <string value="c01846a4e974bd8d947c44f1094b42c0"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="23"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="23"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="62"></int>
             <string role="key" value="parentNode"></string>
             <reference key="24"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="8"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="24"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="25"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="4"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:4%20-%20Arquitectura%20Hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="28">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="5 - Instal·lació i configuració d'Hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="26">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="27">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="26"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Instal·lació&lt;/p&gt;
&lt;p&gt;Anem ja a la instal·lació d'Hibernate en l'entorn d'Eclipse. En el moment de fer aquestos apunts, l'última versió disponible d'Eclipse és &lt;strong&gt;2019-09&lt;/strong&gt;. Tanmateix, el següent vídeo és sobre la versió Neon d'Eclipse, prou anterior a l'actual, però no oferiex cap variació substancial. l'única diferència és que hi ha versions en les quals és suficient  amb arrastrar el botó &lt;strong&gt;Install&lt;/strong&gt; de la versió (imatges 2 a 4 del següent vídeo). En d'altres, com la &lt;strong&gt;2019-06&lt;/strong&gt;, s'ha d'anar a &lt;strong&gt;Help -&amp;gt; Install New Software&lt;/strong&gt;, i treballar amb l'adreça que ens dóna en &lt;a href=&quot;http://tools.jboss.org/downloads&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/a&gt;&lt;strong&gt;&lt;a&gt;http://tools.jboss.org/downloads&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_0_1.png&quot; alt=&quot;&quot; width=&quot;1072&quot; height=&quot;744&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Com déiem, copiarem l'adreça que ens dóna l'anterior pàgina en &lt;strong&gt;Help -&amp;gt; Install New Software &lt;/strong&gt; en el quadre de text on diu &lt;strong&gt;Work with&lt;/strong&gt; i l'afegim.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_0_2.png&quot; alt=&quot;&quot; width=&quot;894&quot; height=&quot;621&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Una vegada ha analitzat les utilitats de l'adreça ens deixa triar quines volem instal·lar. La que ens interessa és &lt;strong&gt;Hibernate Tools&lt;/strong&gt;, que està per exemlple dins de &lt;strong&gt;JBoss Data Services Development&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T5_5_0_3.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;1046&quot; height=&quot;701&quot; /&gt;&lt;/p&gt;
&lt;p&gt;La resta de la instal·lació és idèntica a versions anteriors&lt;/p&gt;
&lt;p&gt;En el següent vídeo està tot el procés d'instal·lació de la versió corresponent a Eclipse Neon&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T5_Instal_Hibernate.swf&quot; width=&quot;980&quot; height=&quot;720&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T5_Instal_Hibernate.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;La instal·lació d'una versió anterior, en cas que treballem amb una versió diferent d'Eclipse, serà igual de senzilla. Només haurem d'anar a la pàgina de &lt;strong&gt;All downloads&lt;/strong&gt; (&lt;a href=&quot;http://tools.jboss.org/downloads/overview.html&quot;&gt;http://tools.jboss.org/downloads/overview.html&lt;/a&gt;), on estan les versions d'Hibernate per a cada versió d'Eclipse. Millor si triem les versions estables. Ens hem de fixar en la columna de &lt;strong&gt;JBoss Tools&lt;/strong&gt;. I si no està la que volem, podem anar al final de tot a: &lt;em&gt;&lt;strong&gt;Look for an older version? See the archives&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_1.png&quot; alt=&quot;&quot; style=&quot;border-width: 1px;&quot; width=&quot;1206&quot; height=&quot;684&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3444"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.135"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="29">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="352be3269f0ca5751b4cfdec5188a053"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3447"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.136"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="30">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_0_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_0_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="6b26675b320427c8895a0c57d22718e2"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3449"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.137"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="31">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_0_3.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_0_3.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="e33fadb40ab468622a7ffd915bfc9ced"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3451"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.138"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="32">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_0_2.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_0_2.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="9d18f9be6de50f3df20d6406c3576984"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3454"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="9_1.139"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="33">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="26"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_Instal_Hibernate.swf"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_Instal_Hibernate.swf"></string>
                    <string role="key" value="checksum"></string>
                    <string value="d17e41f1b8d95c9043756058c8de97a1"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="27"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="27"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="140"></int>
             <string role="key" value="parentNode"></string>
             <reference key="28"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="9"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="28"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="29"></reference>
            <reference key="30"></reference>
            <reference key="31"></reference>
            <reference key="32"></reference>
            <reference key="33"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="34">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="35">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="34"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Configuració&lt;/p&gt;
&lt;p&gt;En aquest tema, en contra del criteri seguit en els temes anteriors, ens construirem un &lt;strong&gt;projecte nou&lt;/strong&gt; per a cada connexió a cada Base de Dades. Aquest projecte el configurarem per a Hibernate creant el fitxer &lt;strong&gt;Hibernate Configuration File&lt;/strong&gt;&lt;strong&gt; &lt;/strong&gt;(&lt;strong&gt;cfg.xml&lt;/strong&gt;). Aquest fitxer contindrà tot el necessari per a realitzar la connexió a la Base de Dades que volem connectar.&lt;/p&gt;
&lt;p&gt;El fitxer &lt;strong&gt;cfg.xml&lt;/strong&gt; es crea amb l'opció &lt;strong&gt;New -&amp;gt; Other -&amp;gt; Hibernate -&amp;gt; Hibernate Configuration File (cfg.xml)&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Després del fitxer de configuració, també crearem la &lt;strong&gt;Consola de configuració&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;La primera connexió la realitzarem a &lt;strong&gt;PostgreSQL&lt;/strong&gt;, a la Base de Dades de prova que estem utilitzant: &lt;strong&gt;geo_ad&lt;/strong&gt;. El nom que posarem al projecte és &lt;strong&gt;Tema5_Hibernate_PostgreSQL_geo_ad&lt;/strong&gt;, un nom molt llarg, però que ens diu perfectament el que volem fer. El següent vídeo il·lustra tot el procés:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T5_Config_Hibernate.swf&quot; width=&quot;980&quot; height=&quot;654&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T5_Config_Hibernate.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;Les dades de connexió a PostgreSQL són aquestes (imatges 9 a 14 del vídeo anterior). Cuideu de triar la vesió &lt;strong&gt;5.2 &lt;/strong&gt;d'Hibernate. Les posteriors en el moments de fer aquestos apunts (5.3 i 5.4) no funcionaven bé&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2.png&quot; alt=&quot;&quot; style=&quot;border-width: 1px;&quot; width=&quot;680&quot; height=&quot;741&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Si la connexió la férem a Oracle, les dades de connexió variarien lleugerament:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_3.png&quot; alt=&quot;&quot; width=&quot;613&quot; height=&quot;741&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I també ho farien per a MySQL:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_4.png&quot; alt=&quot;&quot; width=&quot;613&quot; height=&quot;741&quot; /&gt;&lt;/p&gt;
&lt;p&gt;No hi ha la possibilitat de connectar amb SQLite, ja que no és un servidor&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;Recordeu que heu de triar la &lt;strong&gt;versió 5.2 d'Hibernate &lt;/strong&gt; en les pantales anteriors de crear el fitxer de configuració &lt;strong&gt;Hibernate Configuration File&lt;/strong&gt;&lt;strong&gt; &lt;/strong&gt;(&lt;strong&gt;cfg.xml&lt;/strong&gt;). I també en la creació de la consola&lt;/p&gt;
&lt;/div&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3439"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="42_85.64"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="36">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="34"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_Config_Hibernate.swf"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_Config_Hibernate.swf"></string>
                    <string role="key" value="checksum"></string>
                    <string value="8f1f303fb89b6325ffb934266ea8bd6b"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="35"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3441"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="42_85.65"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="37">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="34"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_3.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_3.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="1e9f57b8c0f3b6a4b63877c9f51e2f04"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="35"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3450"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="42_85.66"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="38">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="34"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_2.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_2.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="67e02e4c435f74271a0d80d1b8b0f1db"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="35"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3453"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="42_85.67"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="39">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="34"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_5_4.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_5_4.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="59ce0a5453cc581cac53207971385fdc"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="35"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="35"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="68"></int>
             <string role="key" value="parentNode"></string>
             <reference key="28"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="42"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="28"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="36"></reference>
            <reference key="37"></reference>
            <reference key="38"></reference>
            <reference key="39"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="5"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="42">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.1 - Generar les classes a partir de la Base de Dades"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="40">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="41">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="40"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Una vegada configurat Hibernacle per al projecte, el següent pas ha de ser &lt;strong&gt;generar&lt;/strong&gt; les classes de la Base de Dades. S'anomena procés d'enginyeria inversa, perquè a partir de les taules d'una Base de Dades generarà automàticament les classes de Java que es corresponen a les taules.&lt;/p&gt;
&lt;p&gt;Per a això apretarem a la fletxeta del costat del botó nou que s'havia creat en instal·lar Hibernate, el de &lt;em&gt;&lt;strong&gt;Run As&lt;/strong&gt; ...&lt;/em&gt;, per a triar l'opció &lt;strong&gt;Hibernate Code Generation Configurations&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;El següent vídeo explica tot el procés:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T5_generar_classes_amb_Java5_sintax.swf&quot; width=&quot;980&quot; height=&quot;654&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T5_generar_classes_amb_Java5_sintax.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt; &lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3463"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="10_1.100"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="43">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="40"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_generar_classes_amb_Java5_sintax.swf"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_generar_classes_amb_Java5_sintax.swf"></string>
                       <string role="key" value="checksum"></string>
                       <string value="213fea00550dd3f526577a8d563451ce"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="41"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="41"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="101"></int>
                <string role="key" value="parentNode"></string>
                <reference key="42"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="10"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="42"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="43"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="6"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate:5.1%20-%20Generar%20les%20classes%20a%20partir%20de%20la%20Base%20de%20Dades"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="46">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.2 - Perspectiva d'Hibernate"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="44">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="45">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="44"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Hibernate ens proporciona una perspectiva pròpia que ens serà molt útil per a inspeccionar les classes generades. Podrem veure les propietats de cada classe, també els camps de cada taula, i també la correspondència entre propietats dels objectes i camps de les taules de forma gràfica. I també ens permetrà inspeccionar les dades.&lt;/p&gt;
&lt;p&gt;Canviem a la perspectiva d'Hibernate del del menú &lt;strong&gt;Window -&amp;gt; Open Perspective -&amp;gt; Other... -&amp;gt; Hibernate&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A l'esquerra ens eixirà la consola generada a partir del fitxer de configuració (també la podríem generar ara). Quan la despleguem, podrem analitzar els objectes als quals ens dóna accés Hibernate.&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;strong&gt;NOTA IMPORTANT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En la instal·lació d'Hibernate sobre Eclipse 2019-06 dóna un error en la perspectiva d'Hibernate immediatament després de generar les classes, marcant com que no troba els fitxers de mapatge&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2_0_1.png&quot; alt=&quot;&quot; width=&quot;636&quot; height=&quot;226&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Tanmateix ho podem solucionar senzillament reconstruint el projecte: &lt;strong&gt;Project -&amp;gt; Build All&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;En aquesta perspectiva tindrem 4 grans zones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Esquerra: navegador d'objectes, on podrem inspeccionar les classes generades (en &lt;strong&gt;Configuration &lt;/strong&gt;i &lt;strong&gt;SessionFactory&lt;/strong&gt;), i les taules de la Base de Dades en &lt;strong&gt;Database&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Centre: on s'obren les classes, fitxers de configuració i també les consultes que farem (ho veurem en el següent punt)&lt;/li&gt;
&lt;li&gt;Baix centre: a banda de la consola, quan executem una consulta ací es veuran els resultats&lt;/li&gt;
&lt;li&gt;Baix esquerra: Propietats de l'objecte seleccionat&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2_1.png&quot; alt=&quot;T5_5_2_1.png&quot; width=&quot;1289&quot; height=&quot;792&quot; /&gt;&lt;/p&gt;
&lt;p&gt; Podem veure gràficament tota la correspondència entre les taules i les classes des de la&lt;strong&gt; perspectiva Hibernate&lt;/strong&gt;. Tenim prou amb apretar amb el botó de la dreta sobre la &lt;strong&gt;Configuració&lt;/strong&gt; i triar &lt;strong&gt;Mapping Diagram&lt;/strong&gt;:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_2_2.png&quot; alt=&quot;T5_5_2_2.png&quot; width=&quot;1289&quot; height=&quot;792&quot; /&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3438"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="43_85.69"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="47">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="44"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_2_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_2_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="3d8521b70be772e84da45f5ebcd8d111"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="45"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3460"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="43_85.70"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="48">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="44"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_2_0_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_2_0_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="17b913376e162270f52c7ba05aa35b74"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="45"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3464"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="43_85.71"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="49">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="44"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_2_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_2_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="ba3dc7fa54cdd5bf9773b465cc632f82"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="45"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="45"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="72"></int>
                <string role="key" value="parentNode"></string>
                <reference key="46"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="43"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="46"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="47"></reference>
               <reference key="48"></reference>
               <reference key="49"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="23"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate:5.2%20-%20Perspectiva%20d%27Hibernate"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="52">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.3 - HQL: consultes senzilles"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="50">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="51">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="50"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Com havíem comentat, des de la perspectiva Hibernate podrem veure les dades. No podrem veure directament el contingut de les taules, però sí que podrem fer sentències HQL per veure el contingut. Apretem amb el botó de la dreta sobre la configuració de la consola i triem &lt;strong&gt;HQL Editor&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Sobre la finestra podrem escriure les sentències (si apretem al botó de la dreta sobre una classe ens suggerirà la sentència HQL per a consultar-la). La primera podria ser aquesta &lt;strong&gt;from Comarques&lt;/strong&gt;. Hem de respectar escrupulosament majúscules i minúscules, ja que en definitiva estem accedint a les classes Java.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_3_1.png&quot; alt=&quot;T5_5_3_1.png&quot; width=&quot;1417&quot; height=&quot;908&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Com podem comprovar torna les files d'una forma un poc críptica, ja que en l'apartat de resultats només ens mostra els objectes (les referències als objectes). Però si seleccionem una determinada fila podrem veure a l'esquerra, en l'apartat de Propietats, el valor de cada camp, millor dit, de cada propietat (associada a un camp).&lt;/p&gt;
&lt;p&gt;I comencem a veure el potencial de les propietats. Què fa quan troba una clau externa? A les classes generades havia posat un &lt;strong&gt;Set&lt;/strong&gt; (conjunt) amb tots els objectes relacionats, que en aquest cas són totes les poblacions de la comarca. Si despleguem la propietat &lt;strong&gt;poblacionses&lt;/strong&gt; podrem veure totes les poblacions de la comarca seleccionada. Com veieu, molt útil, ja que a banda de que a partir de la població podem veure la seua comarca, també a partir de la comarca podem veure totes les seues poblacions.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_3_2.png&quot; alt=&quot;T5_5_3_2.png&quot; width=&quot;1420&quot; height=&quot;869&quot; /&gt;&lt;/p&gt;
&lt;p&gt; Si la consulta fóra més completa, especificant els camps, ens eixiran directament en l'apartat de resultats. Observeu com se sembla a SQL : &lt;strong&gt; select nomC,provincia from Comarques&lt;/strong&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_5_3_3.png&quot; alt=&quot;T5_5_3_3.png&quot; width=&quot;1420&quot; height=&quot;869&quot; /&gt;&lt;br /&gt; &lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3437"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.221"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="53">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="50"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_3_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_3_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="6ceee6325e528ae3c6453ca9aeac0d52"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="51"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3443"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.222"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="54">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="50"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_3_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_3_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="767aae92ea057ee1ae32516f21f878d8"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="51"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3452"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="11_1.223"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="55">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="50"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_5_3_3.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_5_3_3.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="2aae08983fce709a8fc192a708d91aaf"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="51"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="51"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="224"></int>
                <string role="key" value="parentNode"></string>
                <reference key="52"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="11"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="52"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="53"></reference>
               <reference key="54"></reference>
               <reference key="55"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="7"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate:5.3%20-%20HQL%3A%20consultes%20senzilles"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="58">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.4 - Començant a programar"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="56">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="57">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="56"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Per a poder començar a programar haurem d'incorporar les llibreries d'Hibernate al nostre projecte.&lt;/p&gt;
&lt;p&gt;Com que en són prou, el que ens convé és col·locar-les totes en una llibreria nostra, creada per nosaltres. Així, per als propers projectes, només haurem d'incorporar aquesta llibreria creada per nosaltres.&lt;/p&gt;
&lt;p&gt;També ens eixirà alguns avisos. Aquestos avisos, ens els llevarem de damunt per a que no molesten.&lt;/p&gt;
&lt;p&gt;En el següent vídeo teniu el procés:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T5_Llibreria_i_warnings.swf&quot; width=&quot;980&quot; height=&quot;720&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T5_Llibreria_i_warnings.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;Depenent de la versió d'Hibernate, ens haurà tocat baixar-nos directament un jar, concretament el &lt;strong&gt;ANTLR&lt;/strong&gt; (&lt;em&gt;&lt;strong&gt;ANother Tool for Language Recognition&lt;/strong&gt;&lt;/em&gt;) que serveix per a fer una primera anàlisi a les sentències HQL. Concretament a hores d'ara ens anirà bé la versió 3. Ací teniu l'enllaç al plugin:&lt;a href=&quot;http://www.antlr3.org/download/antlr-3.5.2-complete.jar&quot;&gt;antlr-3.5.2-complete.jar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;El programeta que hem utilitzat en el vídeo anterior està en un paquet nou, &lt;strong&gt;Exemples&lt;/strong&gt;, i és:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.SessionFactory;&lt;br /&gt;import org.hibernate.cfg.Configuration;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;&lt;br /&gt;public class PrimerAcces {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        SessionFactory sf = new Configuration().configure().buildSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Alt Maestrat&quot;);&lt;br /&gt;        System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot;);&lt;br /&gt;        System.out.print(com.getProvincia());&lt;br /&gt;        System.out.println(&quot; (&quot; + com.getPoblacios().size() + &quot; pobles)&quot;);&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p style=&quot;text-align: left; margin-left: 30px;&quot;&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left; margin-left: 30px;&quot;&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;/span&gt;El mètode &lt;strong&gt;buildSessionFactory&lt;/strong&gt; del mètode &lt;strong&gt;configure()&lt;/strong&gt; de &lt;strong&gt;Configuration&lt;/strong&gt; segurament el marcarà com a &lt;strong&gt;deprecated&lt;/strong&gt;. De moment el deixarem d'aquesta manera per senzillesa. Ho arreglarem en la següent pregunta.&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Com déiem, els avisos ens els hem llevat de damunt fent que es guarden en un fitxer. Per a això hem creat el fitxer &lt;strong&gt;log4j.properties&lt;/strong&gt; dins de &lt;strong&gt;src &lt;/strong&gt;amb el següent contingut:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;# Root logger option&lt;/div&gt;
&lt;div&gt;log4j.rootLogger=INFO, file&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;# Direct log messages to a log file&lt;/div&gt;
&lt;div&gt;log4j.appender.file=org.apache.log4j.RollingFileAppender&lt;/div&gt;
&lt;div&gt;log4j.appender.file.File=loging.log&lt;/div&gt;
&lt;div&gt;log4j.appender.file.MaxFileSize=1MB&lt;/div&gt;
&lt;div&gt;log4j.appender.file.MaxBackupIndex=1&lt;/div&gt;
&lt;div&gt;log4j.appender.file.layout=org.apache.log4j.PatternLayout&lt;/div&gt;
&lt;div&gt;log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; I també notareu que ha anat una miqueta lent, ha tardat prou en traure el resultat. També ho arreglarem en la següent pregunta.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3458"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="12_1.67"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="59">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="56"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_Llibreria_i_warnings.swf"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_Llibreria_i_warnings.swf"></string>
                       <string role="key" value="checksum"></string>
                       <string value="69ba9fafa3999e53a8cbef9be727eadb"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="57"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="57"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="68"></int>
                <string role="key" value="parentNode"></string>
                <reference key="58"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="12"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="58"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="59"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="8"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate:5.4%20-%20Comen%C3%A7ant%20a%20programar"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="62">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="5.5 - SessionFactory únic: Singleton"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="60">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="61">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="60"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;En la pregunta 4 havíem comentat que si només accedíem a una Base de Dades, havíem de crear només un &lt;strong&gt;SessionFactory&lt;/strong&gt;, i a través d'ell crear-nos totes les sessions que ens facen falta.&lt;/p&gt;
&lt;p&gt;Per a assegurar-nos que només creem un objecte de SessionFactory anem a utilitzar la tècnica del &lt;strong&gt;Singleton&lt;/strong&gt;. És una tècnica utilitzada en programació quan volem assegurar-nos que només instanciem un objecte d'una classe. Consistirà en crear una classe diferent que és la que crearà la instància de l'objecte. La primera vegada que es cride a aquesta classe crearà l'objecte, i quan ja estiga creat senzillament tornarà una referència a l'objecte creat.&lt;/p&gt;
&lt;p&gt;Aprofitarem també per a arreglar el &lt;strong&gt;deprecated&lt;/strong&gt; que teníem en el &lt;strong&gt;buildSessionFactory&lt;/strong&gt;. El mètode que no està deprecated és &lt;strong&gt;buildSessionFactory(ServiceRegistry)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I també aprofitem per a que no coste tant la connexió. La raó de tardar tant és perquè per defecte vol carregar les metadades de la Base de Dades. Però en PostgreSQL en principi es poden veure totes les altres Bases de Dades que hi ha al servidor, encara que després no puguem connectar. Però igual vol carregar les metadades i tarda molt en intentar (i no poder) connectar. La manera de solucionar-ho serà dir-li que no carregue les metadades. Ho aconseguirem amb la sentència:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;            conf.setProperty(&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;,&quot;false&quot;);&lt;/p&gt;
&lt;p&gt;Ací tenim la classe que ens ajudarà a fer el singleton. L'anomenarem &lt;strong&gt;SessioFactoryUtil&lt;/strong&gt;, i el podem col·locar també en el paquet &lt;strong&gt;classes&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;import org.hibernate.SessionFactory;&lt;br /&gt;import org.hibernate.cfg.Configuration;&lt;br /&gt;import org.hibernate.service.ServiceRegistry;&lt;br /&gt;import org.hibernate.service.ServiceRegistryBuilder;&lt;br /&gt; &lt;br /&gt;public class SessionFactoryUtil {&lt;br /&gt; &lt;br /&gt;    private static SessionFactory sF;&lt;br /&gt; &lt;br /&gt;    public static SessionFactory getSessionFactory() {&lt;br /&gt;        if (sF == null) {&lt;br /&gt;            Configuration conf = new Configuration().configure();&lt;br /&gt;            conf.setProperty(&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;,&quot;false&quot;);&lt;br /&gt;            ServiceRegistryBuilder reg = new ServiceRegistryBuilder();&lt;br /&gt;            reg.applySettings(conf.getProperties());&lt;br /&gt;            ServiceRegistry serviceRegistry = reg.buildServiceRegistry();&lt;br /&gt;             &lt;br /&gt;            sF = conf.buildSessionFactory(serviceRegistry);           &lt;br /&gt;        }&lt;br /&gt;         &lt;br /&gt;        return sF;&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt;Des de fora sempre cridarem a &lt;strong&gt;getSessionFactory&lt;/strong&gt; (i ens assegurem perquè l'objecte és privat). La primera vegada, com és nul, el crearà. Però les següents vegades únicament tornarà la referència a l'objecte ja creat. A continuació mostrem el mateix exemple de l'apartat anterior, però ara utilitzant el Singleton:&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.SessionFactory;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt; &lt;br /&gt;public class SegonAcces {&lt;br /&gt; &lt;br /&gt;public static void main(String[] args) {&lt;br /&gt; &lt;br /&gt;        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Alt Maestrat&quot;);&lt;br /&gt;        System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot;);&lt;br /&gt;        System.out.print(com.getProvincia());&lt;br /&gt;        System.out.println(&quot; (&quot; + com.getPoblacios().size() + &quot; pobles)&quot;);&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="61"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="62"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="13"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="62"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="9"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:5%20-%20Instal%C2%B7laci%C3%B3%20i%20configuraci%C3%B3%20d%27Hibernate:5.5%20-%20SessionFactory%20%C3%BAnic%3A%20Singleton"></string>
           <string role="key" value="parent"></string>
           <reference key="28"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="65">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="6 - Classes generades"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="63">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="64">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="63"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Comentem les classe que ha generat automàticament Hibernate. Posarà una propietat per cada camp de la taula, i alguna cosa més com veurem més endavant. També posarà un mètode &lt;strong&gt;get&lt;/strong&gt; i un &lt;strong&gt;set&lt;/strong&gt; per a cada propietat, ja que les propietats seran &lt;strong&gt;private&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;També posa tres constructors: un sense paràmetres, un altre només amb la clau principal (i segurament els camps no nuls), i un altre complet.&lt;/p&gt;
&lt;p&gt;A continuació mostrem 2 de les classes. En el cas de &lt;strong&gt;Poblacio&lt;/strong&gt; no hem posat tots els mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt;, ja que sempre són com cabria esperar. I en roig teniu el més destacable.&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;span&gt;&lt;strong&gt;Comarca.java&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;span&gt;&lt;strong&gt;Poblacio.java&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot; style=&quot;margin-left: 0.05in; margin-right: 0.05in;&quot;&gt;package classes;&lt;br /&gt;&lt;br /&gt;import java.util.HashSet;&lt;br /&gt;import java.util.Set;&lt;br /&gt;&lt;br /&gt;public class Comarca implements java.io.Serializable {&lt;br /&gt;&lt;br /&gt;    private String nomC;&lt;br /&gt;    private String provincia;&lt;br /&gt;    &lt;span style=&quot;color: #ff0000;&quot;&gt;private Set&amp;lt;Poblacio&amp;gt; poblacios = new HashSet&amp;lt;Poblacio&amp;gt;(0);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;    public Comarca() {&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public Comarca(String nomC) {&lt;br /&gt;        this.nomC = nomC;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public Comarca(String nomC, String provincia, Set&amp;lt;Poblacio&amp;gt; poblacios) {&lt;br /&gt;        this.nomC = nomC;&lt;br /&gt;        this.provincia = provincia;&lt;br /&gt;        this.poblacios = poblacios;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public String getNomC() {&lt;br /&gt;        return this.nomC;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public void setNomC(String nomC) {&lt;br /&gt;        this.nomC = nomC;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public String getProvincia() {&lt;br /&gt;        return this.provincia;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public void setProvincia(String provincia) {&lt;br /&gt;        this.provincia = provincia;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #ff0000;&quot;&gt;public Set&amp;lt;Poblacio&amp;gt; getPoblacios() {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        return this.poblacios;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;    }&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;    public void setPoblacios(Set&amp;lt;Poblacio&amp;gt; poblacios) {&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        this.poblacios = poblacios;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;}&lt;/div&gt;
&lt;/td&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot; style=&quot;margin-left: 0.05in; margin-right: 0.05in;&quot;&gt;package classes;&lt;br /&gt;// Generated 29/04/2018 13:28:33 by Hibernate Tools 5.2.5.Final&lt;br /&gt;&lt;br /&gt;import java.math.BigDecimal;&lt;br /&gt;import java.util.HashSet;&lt;br /&gt;import java.util.Set;&lt;br /&gt;&lt;br /&gt;/**&lt;br /&gt; * Poblacio generated by hbm2java&lt;br /&gt; */&lt;br /&gt;public class Poblacio implements java.io.Serializable {&lt;br /&gt;&lt;br /&gt;    private int codM;&lt;br /&gt;    private Comarca comarca;&lt;br /&gt;    private String nom;&lt;br /&gt;    private Integer poblacio;&lt;br /&gt;    private BigDecimal extensio;&lt;br /&gt;    private Short altura;&lt;br /&gt;    private String longitud;&lt;br /&gt;    private String latitud;&lt;br /&gt;    private Character llengua;&lt;br /&gt;    private Set&amp;lt;Institut&amp;gt; instituts = new HashSet&amp;lt;Institut&amp;gt;(0);&lt;br /&gt;&lt;br /&gt;    public Poblacio() {&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public Poblacio(int codM, String nom) {&lt;br /&gt;        this.codM = codM;&lt;br /&gt;        this.nom = nom;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public Poblacio(int codM, Comarca comarca, String nom, Integer poblacio, BigDecimal extensio, Short altura,&lt;br /&gt;            String longitud, String latitud, Character llengua, Set&amp;lt;Institut&amp;gt; instituts) {&lt;br /&gt;        this.codM = codM;&lt;br /&gt;        this.comarca = comarca;&lt;br /&gt;        this.nom = nom;&lt;br /&gt;        this.poblacio = poblacio;&lt;br /&gt;        this.extensio = extensio;&lt;br /&gt;        this.altura = altura;&lt;br /&gt;        this.longitud = longitud;&lt;br /&gt;        this.latitud = latitud;&lt;br /&gt;        this.llengua = llengua;&lt;br /&gt;        this.instituts = instituts;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    ...&lt;br /&gt;&lt;br /&gt;    public Comarca getComarca() {&lt;br /&gt;        return this.comarca;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public void setComarca(Comarca comarca) {&lt;br /&gt;        this.comarca = comarca;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    ...&lt;br /&gt;&lt;br /&gt;    public Set&amp;lt;Institut&amp;gt; getInstituts() {&lt;br /&gt;        return this.instituts;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    public void setInstituts(Set&amp;lt;Institut&amp;gt; instituts) {&lt;br /&gt;        this.instituts = instituts;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;}&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Observeu com els mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt; sempre comencen per aquesta paraula seguida del nom de la propietat amb la inicial en majúscula. Per tant, Hibernate sabrà quin mètode gastar per a cada propietat&lt;/p&gt;
&lt;p&gt;Sens dubte, el més destacable de la classe &lt;strong&gt;Comarca&lt;/strong&gt; és que en les propietats, posa també un &lt;strong&gt;conjunt d'objectes Poblacio&lt;/strong&gt;. Açò ens permetrà accedir comodíssimament a les poblacions d'una determinada comarca. Aquest conjunt sempre l'anomena com la classe a què fa referència, però en plural (en el nostre cas &lt;strong&gt;poblacios&lt;/strong&gt;). Un conjunt (&lt;strong&gt;Set&lt;/strong&gt;) té un comportament relativament senzill per a accedir als seus elements.&lt;/p&gt;
&lt;p&gt;En la classe &lt;strong&gt;Poblacio&lt;/strong&gt;, tindrem les propietats que cabria esperar. I la referència a la comarca és un objecte de la classe &lt;strong&gt;Comarca&lt;/strong&gt;. També tindrà un conjunt d'objectes &lt;strong&gt;Institut&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Per tant, i en resum, una cosa molt útil que fa Hibernate quan troba una clau externa, és posar en la classe corresponent a la taula on està la clau externa una propietat de la classe corresponent a la taula principal (cosa que en principi cabria esperar); però també en la classe corresponent a la taula principal, un conjunt d'objectes de la classe corresponent a l'altra taula, la qual cosa ens permetrà accedir fàcilment.&lt;/p&gt;
&lt;p&gt;No en tots els SGBD el comportament serà tan bo. Sí que ho farà en &lt;strong&gt;Oracle&lt;/strong&gt;, en &lt;strong&gt;PostgreSQL&lt;/strong&gt;, i segurament en &lt;strong&gt;MySQL&lt;/strong&gt;. En canvi no ho podrà fer en &lt;strong&gt;SQLite&lt;/strong&gt;, en els qual només hi haurà propietats de tipus senzills per cadascun dels camps, i prou. Però com de moment tampoc podrem connectar amb SQLite per mig d'Hibernate ...&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="64"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="65"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="15"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="65"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="11"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:6%20-%20Classes%20generades"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="68">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="7 - Estructura dels fitxers de mapatge"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="66">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="67">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="66"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;En la pregunta 5.1 havíem vist les classes generades per Hibernate, i també havíem vist una imatge amb el diagrama de mapatge en la pregunta 5.2. Anem a veure-ho ara amb més detall, mirant totes les classes i fitxers generades en el procés de mapatge i com s'interrelacionen entre elles.&lt;/p&gt;
&lt;p&gt;Els fitxers que serveixen de mapatge, Hibernate els genera de tipus &lt;strong&gt;XML&lt;/strong&gt;, i sran:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, ja comentat anteriorment i que estableix les condicions bàsiques de la connexió amb la Base de Dades (Driver, URL, usuari, contrasenya, ...).&lt;/li&gt;
&lt;li&gt;Un fitxer &lt;strong&gt;.hbm.xml&lt;/strong&gt; per cada taula (i classe). Així en el nostre exemple tindrem &lt;strong&gt;Comarques.hbm.xml&lt;/strong&gt;, &lt;strong&gt;Poblacions.hbm.xml &lt;/strong&gt;i &lt;strong&gt;Instituts.hbm.xml&lt;/strong&gt; i són els encarregats de dir la correspondència entre els camps de la taula (p.e. COMARQUES) i les propietats de l'objecte (p.e. Comarques.java).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La següent imatge explica aquesta manera d'enllaçar:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_7_1.png&quot; style=&quot;border-width: 1px;&quot; width=&quot;755&quot; height=&quot;776&quot; /&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;El fitxer hibernate.cfg.xml&lt;/p&gt;
&lt;p&gt; El fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt; estableix les condicions de la connexió:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&amp;gt;&lt;br /&gt;&amp;lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&amp;gt;&lt;br /&gt;&amp;lt;hibernate-configuration&amp;gt;&lt;br /&gt;    &amp;lt;session-factory&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.bytecode.use_reflection_optimizer&quot;&amp;gt;false&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.connection.driver_class&quot;&amp;gt;org.postgresql.Driver&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.connection.password&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.connection.url&quot;&amp;gt;jdbc:postgresql://89.36.214.106:5432/geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.connection.username&quot;&amp;gt;geo_ad&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.default_schema&quot;&amp;gt;public&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.dialect&quot;&amp;gt;org.hibernate.dialect.PostgreSQLDialect&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.search.autoregister_listeners&quot;&amp;gt;true&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&amp;gt;false&amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;mapping resource=&quot;classes/Poblacio.hbm.xml&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;mapping resource=&quot;classes/Comarca.hbm.xml&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;mapping resource=&quot;classes/Institut.hbm.xml&quot;/&amp;gt;&lt;br /&gt;    &amp;lt;/session-factory&amp;gt;&lt;br /&gt;&amp;lt;/hibernate-configuration&amp;gt;&lt;/div&gt;
&lt;p&gt;Podem observar com s'especifica el driver JDBC, la URL, l'usuari que es connecta, la contrasenya, l'esquema (que dependrà del SGBD; en altres farà falta el catàleg).&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Els fitxers .hbm.xml&lt;/p&gt;
&lt;p&gt;Els fitxers &lt;strong&gt;.hbm.xml&lt;/strong&gt; estableixen la correspondència entre taula i classe, i dins d'elles entre camps de la taula i propietats de la classe. Mirem el contingut de &lt;strong&gt;Comarques.hbm.xml&lt;/strong&gt;. Posem a un costat l'estructura de la taula, i a l'altre l'estructura de l'objecte:&lt;/p&gt;
&lt;table border=&quot;1&quot; align=&quot;center&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Taula COMARCA&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Comarca.hbm.xml&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;Comarca.java&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;background-color: #ffffff;&quot;&gt;
&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: 'courier new',courier;&quot;&gt;TABLE COMARCA (&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: 'courier new',courier;&quot;&gt;    nom_c VARCHAR(50) PRIMARY KEY,&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: 'courier new',courier;&quot;&gt;    provincia VARCHAR(25)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: 'courier new',courier;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;span style=&quot;font-family: 'courier new',courier;&quot;&gt; );&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td style=&quot;background-color: #ffffff;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier; font-size: small;&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;hibernate-mapping auto-import=&quot;true&quot; default-access=&quot;property&quot; default-cascade=&quot;none&quot; default-lazy=&quot;true&quot;&amp;gt;&lt;br /&gt;    &amp;lt;class dynamic-insert=&quot;false&quot; dynamic-update=&quot;false&quot; mutable=&quot;true&quot; name=&quot;classes.Comarca&quot; optimistic-lock=&quot;version&quot; polymorphism=&quot;implicit&quot; select-before-update=&quot;false&quot; table=&quot;comarca&quot;&amp;gt;&lt;br /&gt;        &amp;lt;id name=&quot;nomC&quot; type=&quot;string&quot;&amp;gt;&lt;br /&gt;            &amp;lt;column length=&quot;50&quot; name=&quot;nom_c&quot;/&amp;gt;&lt;br /&gt;            &amp;lt;generator class=&quot;assigned&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;/id&amp;gt;&lt;br /&gt;        &amp;lt;property generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;provincia&quot; optimistic-lock=&quot;true&quot; type=&quot;string&quot; unique=&quot;false&quot;&amp;gt;&lt;br /&gt;            &amp;lt;column length=&quot;25&quot; name=&quot;provincia&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;/property&amp;gt;&lt;br /&gt;        &amp;lt;set embed-xml=&quot;true&quot; fetch=&quot;select&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; mutable=&quot;true&quot; name=&quot;poblacios&quot; optimistic-lock=&quot;true&quot; sort=&quot;unsorted&quot; table=&quot;poblacio&quot;&amp;gt;&lt;br /&gt;            &amp;lt;key on-delete=&quot;noaction&quot;&amp;gt;&lt;br /&gt;                &amp;lt;column length=&quot;50&quot; name=&quot;nom_c&quot;/&amp;gt;&lt;br /&gt;            &amp;lt;/key&amp;gt;&lt;br /&gt;            &amp;lt;one-to-many class=&quot;classes.Poblacio&quot; embed-xml=&quot;true&quot; not-found=&quot;exception&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;/set&amp;gt;&lt;br /&gt;    &amp;lt;/class&amp;gt;&lt;br /&gt;&amp;lt;/hibernate-mapping&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;&lt;span style=&quot;font-size: small; font-family: courier new,courier;&quot;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;package classes;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;import java.util.HashSet;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;import java.util.Set;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;public class Comarca implements java.io.Serializable {&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    private static final long serialVersionUID = 1L;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    private String nomC;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    private String provincia;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    private Set&amp;lt;Poblacio&amp;gt; poblacios = new HashSet&amp;lt;Poblacio&amp;gt;(0);&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    public Comarques() {&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;    }&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt;...&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: courier new,courier;&quot;&gt; }&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Comentem un poc les coses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;hibernate-mapping&amp;gt;&lt;/strong&gt; és l'element arrel; tot el mapatge està contingut dins d'ell.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;class&amp;gt; &lt;/strong&gt;Equival a tota la classe per una banda i tota la taula per una altra. Dins d'aquest element estaran totes les correspondències de camps i propietats.
&lt;ul&gt;
&lt;li&gt;L'atribut&lt;strong&gt; name&lt;/strong&gt; conté el nom de la classe.&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;table&lt;/strong&gt; conté el nom de la taula corresponent.&lt;/li&gt;
&lt;li&gt;Pot haver algun altre atribut, indicant el catàleg (depén del SGBD)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;id&lt;/strong&gt;&lt;strong&gt;&amp;gt;&lt;/strong&gt; especifica el camp que és clau principal. És diferent als camps normals.
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;type&lt;/strong&gt; el tipus de dades.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;column&lt;/strong&gt; és un element buit amb la propietat &lt;strong&gt;name&lt;/strong&gt;, que contindrà el camp de la taula&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;generator&lt;/strong&gt; és un element buit amb un atribut &lt;strong&gt;class&lt;/strong&gt; indicant la manera de generar aquesta clau principal. Els valors possibles són:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;assigned&lt;/strong&gt; que indica que l'usuari ha d'assignar un valor a aquesta propietat&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;increment&lt;/strong&gt; que indica que la Base de Dades proporciona el valor autogenerat&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;property&amp;gt;&lt;/strong&gt; especifica un camp normal, que no és clau principal. Només s'ha d'especificar:&lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;type&lt;/strong&gt; el tipus de dades.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;column&lt;/strong&gt; és un element buit amb la propietat &lt;strong&gt;name&lt;/strong&gt;, que contindrà el camp de la taula&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Els tipus de dades no són ni de la Base de Dades ni tampoc Java. Són tipus anomenats &lt;strong&gt;tipus de mapatge Hibernate&lt;/strong&gt;, i s'encarrega Hibernate de fer la correspondència entre tipus Java i de la Base de Dades de forma automàtica.&lt;/p&gt;
&lt;p&gt;I ens deixem per al final la manera d'enllaçar la clau exerna. Recordem que la clau externa està definida en &lt;strong&gt;POBLACIO&lt;/strong&gt; i que apunta a &lt;strong&gt;COMARCA&lt;/strong&gt;. En el mapatge de &lt;strong&gt;Comarca&lt;/strong&gt; tindrem una línia nova que és la que indica que la propietat &lt;strong&gt;poblacios&lt;/strong&gt; ha de contenir les poblacions de la comarca. És per tant un conjunt (&lt;strong&gt;set&lt;/strong&gt;) de moltes poblacions. Les coses més importants són les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;set&amp;gt;&lt;/strong&gt; que indica que serà un conjunt
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; serà el nom de la propietat&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;table&lt;/strong&gt; el nom de la taula on ha de buscar les dades, és a dir la que té la clau externa (en aquest cas &lt;strong&gt;POBLACIO&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;order-by&lt;/strong&gt; ens permet que les dades vinguen ordenades&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;key&lt;/strong&gt; especifica la clau externa, amb l'element &lt;strong&gt;column&lt;/strong&gt; i atribut &lt;strong&gt;name&lt;/strong&gt;, en aquest cas &lt;strong&gt;nom_c&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;one-to-many&lt;/strong&gt; indica que un departament pot tenir molts empleats (per això era un conjunt), i especifica de quina classe són amb l'atribut &lt;strong&gt;class&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fem especial menció a l'atribut &lt;strong&gt;order-by&lt;/strong&gt;, que ens permet que les dades vinguen ordenades. Ho aplicarem en la pregunta 8.3.&lt;/p&gt;
&lt;p&gt;En el cas de les poblacions, taula &lt;strong&gt;POBLACIO&lt;/strong&gt; i classe &lt;strong&gt;Poblacio&lt;/strong&gt;, les coses seran molt similars. La diferència més significativa és la manera de representar la clau externa. Ara serà una relació &lt;strong&gt;many-to-one&lt;/strong&gt;, indicant que la població pot estar en una única comarca, és a dir farà referència a un unic objecte &lt;strong&gt;Comarca&lt;/strong&gt;.&lt;/p&gt;
&lt;table border=&quot;0&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;div class=&quot;codi2&quot;&gt;&amp;lt;many-to-one class=&quot;classes.Comarca&quot; embed-xml=&quot;true&quot; fetch=&quot;select&quot; insert=&quot;true&quot; name=&quot;comarca&quot; not-found=&quot;exception&quot; optimistic-lock=&quot;true&quot; unique=&quot;false&quot; update=&quot;true&quot;&amp;gt;&lt;br /&gt;            &amp;lt;column length=&quot;50&quot; name=&quot;nom_c&quot;/&amp;gt;&lt;br /&gt;        &amp;lt;/many-to-one&amp;gt;&lt;/div&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&amp;lt;many-to-one&lt;/strong&gt;&lt;strong&gt;&amp;gt;&lt;/strong&gt; en la propietat que fa referència a l'altra classe &lt;br /&gt;
&lt;ul&gt;
&lt;li&gt;L'atribut &lt;strong&gt;name&lt;/strong&gt; indica el nom de la propietat.&lt;/li&gt;
&lt;li&gt;L'atribut &lt;strong&gt;class&lt;/strong&gt; indica la classe a què fa referència, en aquest cas &lt;strong&gt;Comarca&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;L'element &lt;strong&gt;column&lt;/strong&gt; és un element buit amb la propietat &lt;strong&gt;name&lt;/strong&gt;, que contindrà el camp de la taula&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En resum, dins de l'element &lt;strong&gt;class&lt;/strong&gt; que equival a la classe (i la taula), tindrem els elements&lt;strong&gt;:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;id&lt;/strong&gt; per a la clau principal&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;property&lt;/strong&gt; per als camps normals&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;many-to-one&lt;/strong&gt; per als que són clau externa&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;set&lt;/strong&gt; per als que són apuntats per una clau externa, indicant el conjunt.&lt;/li&gt;
&lt;/ul&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3466"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="14_1.64"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="69">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="66"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_7_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_7_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="3192c3691ddd9931f64f10d6c0850ce8"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="67"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="67"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="65"></int>
             <string role="key" value="parentNode"></string>
             <reference key="68"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="14"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="68"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="69"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="10"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:7%20-%20Estructura%20dels%20fitxers%20de%20mapatge"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="72">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="8 - Sessions i objectes hibernate"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="70">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="71">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="70"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;En aquesta secció comentarem el comportament de les sessions i dels objectes Hibernate (les classes creades per Hibernate).&lt;/p&gt;
&lt;p&gt;Recordem que el procés per a arribar a una sessió era &lt;strong&gt;Configuration -&amp;gt; SessionFactory -&amp;gt; Session&lt;/strong&gt;. Les sentències serien aquestes:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;Configuration cfg = new Configuration().configure();&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;SessionFactory sf = cfg.buildSessionFactory();&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;Session sessio = sf.openSession();&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; La primera sentència carrega el fitxer de configuració &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, i inicialitza l'entorn d'Hibernate. A partir d'aquest moment podem utilitzar l'objecte Configuration per crear el &lt;strong&gt;SessionFactory&lt;/strong&gt;. Ja hem comentat en el punt 5.5 que normalment només utilitzarem un objecte SessionFactory, i per tant podríem obligar a que només hi haja una instància d'aquesta classe amb la tècnica del &lt;strong&gt;Singleton&lt;/strong&gt; (que utilitzarem a partir d'ara amb la classe &lt;strong&gt;SessionFactoryUtil.java&lt;/strong&gt;). També hem comentat que &lt;strong&gt;buildSessionFactory&lt;/strong&gt; està desfassat, però el posem ací per claredat i senzillesa. En el Singleton &lt;strong&gt;SessionFactoryUtil.java&lt;/strong&gt; ja ho havíem arreglat.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="71"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="72"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="72"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="12"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="75">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.1 - Transaccions"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="73">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="74">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="73"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;El primer que hauríem de fer notar és que si el SGBD admet transaccions, les possibles modificacions que fem sobre una Base de Dades a través d'Hibernate no es guardaran si no posem en marxa una transacció. Per tant, si volem fer actualitzacions (insercions, esborrats i/o modificacions), el primer que haurem de fer en la sessió serà començar una transacció. Al final podrem confirmar amb &lt;strong&gt;commit&lt;/strong&gt; o rebutjar totes les actualitzacions amb &lt;strong&gt;rollback&lt;/strong&gt;. En el següent codi inserim una nova comarca. Utilitzem el mètode &lt;strong&gt;save&lt;/strong&gt; de la sessió, però ja el veurem més avant. Ara només volem il·lustrar una transacció.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;Transaction t = sessio.beginTransaction();&lt;/span&gt;&lt;br /&gt;        &lt;br /&gt;        Comarques com = new Comarques(); &lt;br /&gt;        com.setNomC((String) &quot;Columbretes&quot;);&lt;br /&gt;        com.setProvincia(&quot;Castelló&quot;);&lt;br /&gt;        sessio.save(com);&lt;br /&gt;        &lt;br /&gt;       &lt;span style=&quot;color: #ff0000;&quot;&gt; t.commit();&lt;/span&gt;&lt;br /&gt;        sessio.close();&lt;br /&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;En cas de no haver posat les dues sentències en roig, no hauria hagut cap modificació. El mètode &lt;strong&gt;beginTransaction()&lt;/strong&gt; ha fet començar la transacció, i el mètode &lt;strong&gt;commit()&lt;/strong&gt; l'ha confirmada definitivament. Si en aquest moment vulguérem començar una altra transacció seria suficient amb &lt;strong&gt;t.begin()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;Per a no haver d'estar sempre pendents de transaccions, es podria posar en mode &lt;strong&gt;autocommit&lt;/strong&gt;, és a dir, que automàticament faça un commit després de cada actualització (després de cada &lt;strong&gt;save()&lt;/strong&gt;, &lt;strong&gt;delete()&lt;/strong&gt; o &lt;strong&gt;update()&lt;/strong&gt; ). Seria canviar en el fitxer &lt;strong&gt;hibernate.cfg.xml&lt;/strong&gt;, posant la següent propietat entre les del &lt;strong&gt;&amp;lt;session-factory&amp;gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;&amp;lt;property name=&quot;hibernate.connection.autocommit&quot;&amp;gt;true&amp;lt;/property&amp;gt;&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Tanmateix no és tan fiable, i us recomane que utilitzeu transaccions, és a dir, tenir el autocommit a false com estava per defecte i gestionar les transaccions manualment.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="74"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="75"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="17"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="75"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="13"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.1%20-%20Transaccions"></string>
           <string role="key" value="parent"></string>
           <reference key="72"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="78">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.2 - Estats d'un objecte Hibernate"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="76">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="77">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="76"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Els objectes de les classes que Hibernate ens ha ajudat a crear poden estar en més d'un estat, si mirem la seua sincronització amb la Base de Dades:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transitori&lt;/strong&gt;: quan l'objecte s'ha creat, però no s'ha associat a cap sessió. És a dir, ja s'ha creat amb &lt;strong&gt;new&lt;/strong&gt; i potser estiga buit o no (ja se li ha posat algun valor a alguna propietat amb els mètodes set), però encara no s'ha associat a cap sessió. Es podrà associar per exemple amb &lt;strong&gt;save()&lt;/strong&gt; per a guardar l'objecte com hem vist en l'exemple de l'apartat anterior, o per exemple amb &lt;strong&gt;load()&lt;/strong&gt;, com havíem vist en exemples anteriors per a agafar des de la Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Persistent&lt;/strong&gt;: quan l'objecte ja s'ha associat amb una sessió i per tant té una representació en la Base de Dades i un valor identificador. Es pot haver guardat o carregat. Hibernate detectarà qualsevol canvi fet sobre un objecte persistent i sincronitzarà l'estat quan es complete la unitat de treball. I per a això ja s'encarregarà ell de fer els INSERT, DELETE o UPDATE en la Base de Dades. Nosaltres no ens haurem de preocupar.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Separat&lt;/strong&gt;: és un objecte persistemt, però que la seua sessió ha finalitzat. Es pot utilitzar, i fins i tot canviar l'estat, però no tindrà efecte aquestos canvies la Base de Dades, a no ser que es torne a associar una altra vegada amb una sessió, és a dir, si es torna a fer persistent. De fet, és una tècnica de treball, utilitzar objectes separats quan l'usuari puga estar molt de temps sense interactuar, i quan torne a interactuar, tornar a fer-lo persistent.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anem a veure un exemple on es vegen els tres tipus d'estat. Tampoc cal que el feu vosaltres, està únicament a nivell il·lustratiu:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        Transaction t = sessio.beginTransaction();&lt;br /&gt;&lt;br /&gt;        Comarques com = new Comarca();   // A partir d'ací l'objecte és transitori&lt;br /&gt;&lt;br /&gt;        com.setNomC((String) &quot;Columbretes&quot;);&lt;br /&gt;        com.setProvincia(&quot;Castelló&quot;);&lt;br /&gt;        sessio.save(com);&lt;br /&gt;&lt;br /&gt;        sessio.save(com);                  // A partir d'ací és persistent&lt;br /&gt;&lt;br /&gt;        t.commit();&lt;br /&gt;&lt;br /&gt;        sessio.close();               // A partir d'ací és separat, igual es pot utilitzar,&lt;br /&gt;                                      // però no estarà sincronitzat&lt;br /&gt;&lt;br /&gt;        System.out.println(com.getNomC() + &quot; (&quot; + com.getProvincia() + &quot;)&quot;);&lt;br /&gt;&lt;br /&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="77"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="78"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="18"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="78"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="14"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.2%20-%20Estats%20d%27un%20objecte%20Hibernate"></string>
           <string role="key" value="parent"></string>
           <reference key="72"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="81">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.3 - Càrrega d'objectes: mètodes load() i get()"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="79">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="80">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="79"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;La càrrega d'objectes s'aconsegueix amb els mètodes &lt;strong&gt;load()&lt;/strong&gt; i &lt;strong&gt;get()&lt;/strong&gt;. Són similars excepte en una qüestió: el primer dóna un error si no es troba la fila, mentre que el segon contindrà null. Per tant, si no estem segurs de trobar la fila, hauríem d'utilitzar get, a no ser que vulguem provocar l'excepció, clar.&lt;/p&gt;
&lt;p&gt;Tant si utilitzem un com l'altre, haurem d'especificar 2 paràmetres: la &lt;strong&gt;classe&lt;/strong&gt; que volem buscar, i el &lt;strong&gt;valor&lt;/strong&gt; de la clau principal de qui volem trobar. Aquest valor s'ha de passar amb el mateix tipus que la propietat corresponent a la clau principal, i en moltes ocasions haurem de canviar de tipus (&lt;strong&gt;cast&lt;/strong&gt;). En el següent exemple, ja utilitzat anteriorment, trobem la comarca &lt;strong&gt;Alt Maestrat&lt;/strong&gt; (valor de &lt;strong&gt;nom_c&lt;/strong&gt;, que correspon a la clau principal). En aquesta ocasió no cal canviar de tipus, ja que és string:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;&lt;span&gt;        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;        Session sessio = sf.openSession();&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Alt Maestrat&quot;);&lt;/span&gt;&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;        System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot; + com.getProvincia());&lt;/div&gt;
&lt;div&gt;        sessio.close();&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Com comentàvem, si no existira la comarca Alt Maestrat, donaria un error. Ací tenim el mateix exemple, però utilitzant el mètode &lt;strong&gt;get()&lt;/strong&gt; i comprovant després si &lt;strong&gt;com &lt;/strong&gt; és null, i així esquivem l'error:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt; &lt;/div&gt;
        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;Comarca com = (Comarca) sessio.get(Comarca.class, &quot;Maestrat mitjà&quot;);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        if (com==null)&lt;br /&gt;            System.out.print(&quot;No existeix la comarca&quot;);&lt;br /&gt;        else &lt;br /&gt;            System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot; + com.getProvincia());&lt;br /&gt;        sessio.close();&lt;br /&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="80"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="19"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="82">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="83">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="82"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Anem a mirar la potencialitat que ens proporciona la manera que té Hibernate de construir les classes, amb el conjunt (o col·lecció) de poblacions que té un objecte de la classe Comarca.&lt;/p&gt;
&lt;p&gt;Els &lt;strong&gt;Set&lt;/strong&gt; es poden recórrer de més d'una manera. Una molt estesa és utilitzar un &lt;strong&gt;iterator&lt;/strong&gt;, utilitzant els mètodes &lt;strong&gt;hasNext()&lt;/strong&gt; que ens diu si hi ha més elements en la col·lecció, i &lt;strong&gt;next()&lt;/strong&gt; que torna el següent element de la col·lecció. En el següent programa anem a visualitzar informació de la comarca de l'&lt;strong&gt;Alcalatén&lt;/strong&gt;, i també els seus pobles. En roig està marcada la utilització del &lt;strong&gt;Iterator&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Iterator;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.SessionFactory;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.Poblacio;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class TercerAcces {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Alcalatén&quot;);&lt;br /&gt;        System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot;);&lt;br /&gt;        System.out.print(com.getProvincia());&lt;br /&gt;        System.out.println(&quot; (&quot; + com.getPoblacios().size() + &quot; pobles)&quot;);&lt;br /&gt;        System.out.println();&lt;br /&gt;        System.out.println(&quot;Llista de pobles&quot;);&lt;br /&gt;        System.out.println(&quot;-----------------&quot;);&lt;br /&gt;        &lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;Iterator&amp;lt;Poblacio&amp;gt; it = com.getPoblacios().iterator();&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        while (it.hasNext()){&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;            Poblacio p = it.next();&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;            System.out.println(p.getNom()+ &quot; (&quot; + p.getPoblacio() + &quot; habitants)&quot;);&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        }&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Però més senzilla encara és la utilització del bucle &lt;strong&gt;foreach&lt;/strong&gt;, que fa el recorregut ell sol, tenint disponible cada element. La sintaxi en Java és &lt;strong&gt;for (&lt;em&gt;Classe&lt;/em&gt;&lt;/strong&gt; &lt;strong&gt;e :&lt;/strong&gt; &lt;em&gt;&lt;strong&gt;conjunt&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;)&lt;/strong&gt; i &lt;strong&gt;e&lt;/strong&gt; anirà agafant tots els valors de la col·lecció.&lt;/p&gt;
&lt;p&gt;Així, en el programa anterior podem substituir la declaració del iterator i el bucle (és a dir, les marcades amb roig) pel següent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;for (Poblacio p : com.getPoblacios())&lt;br /&gt;            System.out.println(p.getNom()+ &quot; (&quot; + p.getPoblacio() + &quot; habitants)&quot;);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;I quedaria de la següent manera:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Iterator;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.SessionFactory;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.Poblacio;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class QuartAcces {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        SessionFactory sf = SessionFactoryUtil.getSessionFactory();&lt;br /&gt;        Session sessio = sf.openSession();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Alcalatén&quot;);&lt;br /&gt;        System.out.print(&quot;Comarca &quot; + com.getNomC() + &quot;: &quot;);&lt;br /&gt;        System.out.print(com.getProvincia());&lt;br /&gt;        System.out.println(&quot; (&quot; + com.getPoblacios().size() + &quot; pobles)&quot;);&lt;br /&gt;        System.out.println();&lt;br /&gt;        System.out.println(&quot;Llista de pobles&quot;);&lt;br /&gt;        System.out.println(&quot;-----------------&quot;);&lt;br /&gt;        &lt;br /&gt;        for (Poblacio p : com.getPoblacios())&lt;br /&gt;            System.out.println(p.getNom()+ &quot; (&quot; + p.getPoblacio() + &quot; habitants)&quot;);&lt;br /&gt;&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;En ambdós, tant en &lt;strong&gt;TercerAcces&lt;/strong&gt; com en &lt;strong&gt;QuartAcces&lt;/strong&gt; casos el resultat haurà estat:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Comarca Alcalatén: Castelló (9 pobles)&lt;br /&gt;&lt;br /&gt;Llista de pobles&lt;br /&gt;-----------------&lt;br /&gt;Atzeneta del Maestrat (1321 habitants)&lt;br /&gt;Vistabella del Maestrat (384 habitants)&lt;br /&gt;Figueroles (549 habitants)&lt;br /&gt;Benafigos (156 habitants)&lt;br /&gt;Costur (562 habitants)&lt;br /&gt;Useres, les (992 habitants)&lt;br /&gt;Xodos (126 habitants)&lt;br /&gt;Llucena (1417 habitants)&lt;br /&gt;Alcora, l' (10672 habitants)&lt;/p&gt;
&lt;p&gt;Com veieu apareixen tots els pobles de la comarca que hem llegit, però com és un conjunt (Set) no podem assegurar lordre. De fet, podria ser que a cadascú de nosaltres li apareguen els pobles en ordre distint.&lt;/p&gt;
&lt;p&gt;Estaria bé que aparegueren ordenats. Sempre ho podríem fer per mig d'una consulta i ordenar pel nom de la població com veurem més avant. Però si ens interessa que els pobles apareguen sempre ordenats, podem fer una altra cosa: modificant el fitxer de mapatge, li podem dir que ens apareguen sempre ordenats per un camp. Ho havíem comentat en la pregunta 7, i ara anem a aplicar-lo.&lt;/p&gt;
&lt;p&gt;Per mig d'una senzilla indicació en el fitxer de mapatge &lt;strong&gt;Comarca.hbm.xml&lt;/strong&gt;, podem fer que les dades ens vinguen ordenades, és a dir, que les poblacions d'una comarca ens vinguen per ordre alfabètic. Senzillament serà posar &lt;strong&gt;order-by=&quot;nom&quot;&lt;/strong&gt; en la definició del &lt;strong&gt;set &lt;/strong&gt;&lt;strong&gt;poblacios&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;És a dir hauríem de substituir la línia&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;        &amp;lt;set embed-xml=&quot;true&quot; fetch=&quot;select&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; mutable=&quot;true&quot; name=&quot;poblacios&quot; optimistic-lock=&quot;true&quot; sort=&quot;unsorted&quot; table=&quot;poblacio&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;per&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;         &amp;lt;set embed-xml=&quot;true&quot; fetch=&quot;select&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; mutable=&quot;true&quot; name=&quot;poblacios&quot; optimistic-lock=&quot;true&quot; sort=&quot;unsorted&quot; table=&quot;poblacio&quot; order-by=&quot;nom&quot;&amp;gt;&lt;/p&gt;
&lt;p&gt;I així li estem dient que les poblacions vinguen ordenades per nom, que és el camp de la taula &lt;strong&gt;POBLACIO&lt;/strong&gt; pel qual ens interessa ordenar.&lt;/p&gt;
&lt;p&gt;Només fent aquesta modificació, el resultat tant del programa &lt;strong&gt;TercerAcces&lt;/strong&gt; com el de &lt;strong&gt;QuartAccess&lt;/strong&gt; serà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Comarca Alcalatén: Castelló (9 pobles)&lt;br /&gt;&lt;br /&gt;Llista de pobles&lt;br /&gt;-----------------&lt;br /&gt;Alcora, l' (10672 habitants)&lt;br /&gt;Atzeneta del Maestrat (1321 habitants)&lt;br /&gt;Benafigos (156 habitants)&lt;br /&gt;Costur (562 habitants)&lt;br /&gt;Figueroles (549 habitants)&lt;br /&gt;Llucena (1417 habitants)&lt;br /&gt;Useres, les (992 habitants)&lt;br /&gt;Vistabella del Maestrat (384 habitants)&lt;br /&gt;Xodos (126 habitants)&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="83"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="81"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="22"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="81"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="15"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.3%20-%20C%C3%A0rrega%20d%27objectes%3A%20m%C3%A8todes%20load%28%29%20i%20get%28%29"></string>
           <string role="key" value="parent"></string>
           <reference key="72"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="86">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="8.4 - Inserció, modificació i esborrat d'objectes"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="84">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="85">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="84"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;En totes aquestes operacions d'actualització, recordem que farà falta posar-les en una &lt;strong&gt;transacció&lt;/strong&gt; per a que tinguen efecte.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Inserció&lt;/p&gt;
&lt;p&gt;Es fa amb el mètode &lt;strong&gt;save()&lt;/strong&gt; de la sessió, passant-li l'objecte que volem guardar. Posem el mateix exemple d'apartats anteriors:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class Insercio {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        Transaction t = sessio.beginTransaction();&lt;br /&gt;        Comarca com = new Comarca();&lt;br /&gt;&lt;br /&gt;        com.setNomC((String) &quot;Columbretes&quot;);&lt;br /&gt;        com.setProvincia(&quot;Castelló&quot;);&lt;br /&gt;        &lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;sessio.save(com);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        t.commit();&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Podem comprovar en la perspectiva d'Hibernate com l'última comarca és la que acabem d'introduir:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_8_4_1.png&quot; style=&quot;border: 1px solid black;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I també podem comprovar en la perspectiva Database com aquesta comarca efectivament s'ha introduït en la taula COMARQUES&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_8_4_2.png&quot; style=&quot;border: 1px solid black;&quot; width=&quot;981&quot; height=&quot;700&quot; /&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Esborrat&lt;/p&gt;
&lt;p&gt;Amb el mètode &lt;strong&gt;delete&lt;/strong&gt;, passant-li com a paràmetre l'objecte. Prèviament s'ha d'haver carregar l'objecte amb els mètodes &lt;strong&gt;load() &lt;/strong&gt;o &lt;strong&gt;get()&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class Esborrat {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        Transaction t = sessio.beginTransaction();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Columbretes&quot;);&lt;br /&gt;        &lt;br /&gt;        &lt;span style=&quot;color: #ff0000;&quot;&gt;sessio.delete(com);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;        t.commit();&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Modificació&lt;/p&gt;
&lt;p&gt;Amb el mètode &lt;strong&gt;update()&lt;/strong&gt;, passant-li com a paràmetre l'objecte. Prèviament haurà d'haver estat carregat amb els mètodes &lt;strong&gt;load()&lt;/strong&gt; o &lt;strong&gt;get()&lt;/strong&gt;, igual que en el cas d'esborrar.&lt;/p&gt;
&lt;p&gt;En el següent exemple estem canviant la província del Camp de Morvedre. Per a que no tinga efecte aquest canvi, i no modificar les dades que està utilitzant la resta de companys, observeu com al final estem fent un &lt;strong&gt;rollback&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class Modificacio {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        Transaction t = sessio.beginTransaction();&lt;br /&gt;        Comarca com = (Comarca) sessio.load(Comarca.class, &quot;Camp de Morvedre&quot;);&lt;br /&gt;        &lt;br /&gt;        com.setProvincia(&quot;Castelló&quot;);&lt;br /&gt;       &lt;span style=&quot;color: #ff0000;&quot;&gt; sessio.update(com);&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;        t.rollback();&lt;/span&gt;&lt;br /&gt;        sessio.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt;El mètode &lt;strong&gt;update()&lt;/strong&gt; és específic per a fer actualitzacions d'un objecte que ja esxistia a la Base de Dades. Però també podríem utilitzar &lt;strong&gt;save()&lt;/strong&gt;. És a dir, &lt;strong&gt;save()&lt;/strong&gt; sempre funciona. Si no existeix l'objecte el crea (crea les files oportunes a la Base de Dades), i si ja existia, l'actualitza. En canvi &lt;strong&gt;update()&lt;/strong&gt; només funciona amb actualitzacions.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3442"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="21_1.58"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="87">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="84"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_8_4_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_8_4_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="25a988aaa8843872bf1b65a682f487ec"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="85"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="3456"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="21_1.59"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="88">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="84"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T5_8_4_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmp9rxdsE/T5_8_4_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="900ae3b78ba68d7783efff09702118c6"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="85"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="85"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="60"></int>
                <string role="key" value="parentNode"></string>
                <reference key="86"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="21"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="86"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="87"></reference>
               <reference key="88"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:8%20-%20Sessions%20i%20objectes%20hibernate:8.4%20-%20Inserci%C3%B3%2C%20modificaci%C3%B3%20i%20esborrat%20d%27objectes"></string>
           <string role="key" value="parent"></string>
           <reference key="72"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="91">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="9 - Consultes"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="89">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="90">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="89"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Hem vist com podem accedir molt còmodament a les classes que equivalen a una taula. Però en moltes ocasions ens farà falta accedir no exactament a una taula sinó a una combinació de taules, o en definitiva voldrem informació més elaborada. Per a poder &quot;interrogar&quot; a la Base de Dades amb consultes més complexes, Hibernate suporta un llenguatge de consulta Orientat a Objectes anomenat &lt;strong&gt;HQL&lt;/strong&gt; (&lt;em&gt;&lt;strong&gt;Hibernate Query Language&lt;/strong&gt;&lt;/em&gt;), molt paregut a SQL ja que és una extensió Orientada a Objectes d'aquest.&lt;/p&gt;
&lt;p&gt;En aquest sentit s'ha intentat fer un estàndar de llenguatge de consulta anomenat &lt;strong&gt;OQL&lt;/strong&gt; (&lt;em&gt;&lt;strong&gt;Object Query Language&lt;/strong&gt;&lt;/em&gt;), desenvolupat per un grup amb ànim de crear un estàndar &lt;strong&gt;ODMG&lt;/strong&gt; (Object Data Management Group). Aquest estàndar no l'ha implementat al 100% cap producte comercial, i en realitat tenim subconjunts d'aquest estàndar.&lt;/p&gt;
&lt;p&gt;Utilitzarem la classe &lt;strong&gt;Query&lt;/strong&gt;, i invocarem al mètode &lt;strong&gt;createQuery()&lt;/strong&gt; de &lt;strong&gt;Session&lt;/strong&gt;, que justament torna una Query. Aquest seria un exemple:&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt; &lt;/div&gt;
&lt;div&gt;Query q = sessio.createQuery(&quot;from Comarca&quot;);&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Per a recuperar les dades tenim dues possibilitats, utilitzant dos mètodes de la query:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mètode &lt;strong&gt;list()&lt;/strong&gt;: torna tots els resultats de la consulta en una col·lecció (&lt;strong&gt;List)&lt;/strong&gt;. Aquest mètode fa una crida única al SGBD i es duran totes les dades. Haurà d'haver, per tant, memòria suficient per a que càpiguen tots els resultats. Si és una quantitat gran de resultats, tardarà molt en executar-se.&lt;/li&gt;
&lt;li&gt;Mètode &lt;strong&gt;iterate()&lt;/strong&gt;: torna un iterador per a poder recórrer els resultats de la consulta. Hibernate executa la sentència, però només torna els identificadors de les files del resultat, i cada vegada que fem &lt;strong&gt;next()&lt;/strong&gt; del iterador, s'executa realment la consulta tornant la següent fila. Per tant fa falta molta menys memòria. Per contra es fan mots més accessos a la Base de Dades, encara que cadascun tardarà molt poc, però en total tardarà més. Es pot fins i tot fixar la quantitat de files a tornar amb el mètode &lt;strong&gt;setFetchSize()&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En el següents dos exemples, que són equivalents, es trau una llista de totes les comarques. El primer utilitza el mètode &lt;strong&gt;list()&lt;/strong&gt; i el segon el mètode &lt;strong&gt;iterate()&lt;/strong&gt;. I en aquesta ocasió utilitzem un iterador per a recórrer la llista (List) en compte de &lt;strong&gt;foreach&lt;/strong&gt;, per veure més d'una manera, i per similitud amb el segon exemple,&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.Iterator;&lt;br /&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class AccesAmbList {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;from Comarca&quot;);&lt;br /&gt;&lt;br /&gt;        List&amp;lt;Comarca&amp;gt; llista = q.list();&lt;br /&gt;&lt;br /&gt;        Iterator&amp;lt;Comarca&amp;gt; it = llista.iterator();&lt;br /&gt;        while (it.hasNext()) {&lt;br /&gt;            Comarca com = it.next();&lt;br /&gt;            System.out.println(com.getNomC() + &quot; - &quot; + com.getProvincia());&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Aquest serà el resultat&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_9_1.png&quot; alt=&quot;&quot; height=&quot;744&quot; width=&quot;1301&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;En cas de no haver incorporat el plugin &lt;a href=&quot;http://www.antlr3.org/download/antlr-3.5.2-complete.jar&quot;&gt;antlr-3.5.2-complete.jar&lt;/a&gt;, necessari per a fer una anàlisi prèvia de la sentència HQL, ens donaria el següent error:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_9_2.png&quot; alt=&quot;&quot; height=&quot;900&quot; width=&quot;1129&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I ho solucionaríem baixant-nos el plugin anterior i incorporant-lo a la nostra llibreria d'Hibernate&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Ara amb el mètode &lt;strong&gt;iterate()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.Iterator;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class AccesAmbIterate {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;from Comarca&quot;);&lt;br /&gt;&lt;br /&gt;        Iterator&amp;lt;Comarca&amp;gt; it = q.iterate();&lt;br /&gt;&lt;br /&gt;        while (it.hasNext()) {&lt;br /&gt;            Comarca com = it.next();&lt;br /&gt;            System.out.println(com.getNomC() + &quot; - &quot; + com.getProvincia());&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Encara que la manera més curta i potser més clara és utilitzant un bucle &lt;strong&gt;foreach&lt;/strong&gt; amb el mètode &lt;strong&gt;list()&lt;/strong&gt;. Només haurem d'anar amb comte de fer un &lt;em&gt;&lt;strong&gt;cast&lt;/strong&gt;&lt;/em&gt; per a que sàpiga quin tipus de llista és:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class AccesAmbListForEach {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;from Comarca&quot;);&lt;br /&gt;&lt;br /&gt;        for (Comarca com : (List&amp;lt;Comarca&amp;gt;) q.list())&lt;br /&gt;            System.out.println(com.getNomC() + &quot; - &quot; + com.getProvincia());&lt;br /&gt; &lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3445"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="24_1.58"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="92">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="89"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_9_1.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_9_1.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="34d7470b064b1fe62cb6cf1790881eca"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="90"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3455"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="24_1.59"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="93">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="89"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_9_2.png"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_9_2.png"></string>
                    <string role="key" value="checksum"></string>
                    <string value="0dc36982bfa09b5aefae05c3ba487d69"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="90"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="90"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="60"></int>
             <string role="key" value="parentNode"></string>
             <reference key="91"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="24"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="91"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="92"></reference>
            <reference key="93"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="94">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="95">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="94"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt; &lt;/p&gt;
&lt;p&gt;Si sabem que la consulta tornarà únicament una fila, podem assignar aquesta fila a un objecte de la classe de la taula afectada, posant el mètode &lt;strong&gt;uniqueResult()&lt;/strong&gt; en la creació de la query, així ens estaviem passos.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;&lt;br /&gt;public class AccesAmbUniqueResult {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Comarca d = (Comarca) sessio.createQuery(&quot;from Comarca where nomC='Alcalatén'&quot;).&lt;span style=&quot;color: #ff0000;&quot;&gt;uniqueResult()&lt;/span&gt;;&lt;br /&gt;        &lt;br /&gt;        System.out.println(d.getNomC() + &quot; - &quot; + d.getProvincia());&lt;br /&gt; &lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt;Però en realitat en aquest exemple poca cosa hem guanyat, perquè per a agafar l'objecte corresponent a una única fila d'una taula, ja ho féiem amb &lt;strong&gt;session.load()&lt;/strong&gt;. Més endavant veurem consultes més complicades on trobarem la utilitat.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="95"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="91"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="25"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="91"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="17"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="98">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="9.1 - Paràmetres en les consultes"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="96">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="97">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="96"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;&lt;strong&gt;createQuery()&lt;/strong&gt; admet també la utilització de paràmetres, igual que feia les sentències &lt;strong&gt;PreparedStatement&lt;/strong&gt; del tema anterior. La manera de posar-les és molt similar al vist en aquella ocasió. Ara, però, ho ampliarem un poc.&lt;/p&gt;
&lt;p&gt;La manera de posar valor als paràmetres serà utilitzant els mètodes &lt;strong&gt;set&lt;em&gt;Tipus&lt;/em&gt;()&lt;/strong&gt; que tindran 2 paràmetres, el primer per a assenyalar el paràmetre, i el segon per a indicar el valor. De moment tot igual que en el &lt;strong&gt;PreparedStatement&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;Però ara veurem 2 maneres de posar paràmetres en la consulta:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Amb &lt;strong&gt;?&lt;/strong&gt;, utilitzant el mètode &lt;strong&gt;set&lt;em&gt;Tipus&lt;/em&gt;(int, &lt;em&gt;valor&lt;/em&gt;)&lt;/strong&gt; i indicant el número d'ordre d'aparició del paràmetre, que&lt;strong&gt; comença en aquesta ocasió per 0&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Amb &lt;strong&gt;:&lt;em&gt;nom&lt;/em&gt; &lt;/strong&gt;, utilitzant el mètode &lt;strong&gt;set&lt;em&gt;Tipus&lt;/em&gt;(string, &lt;em&gt;valor&lt;/em&gt;)&lt;/strong&gt; i indicant el nom del paràmetre&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ho veurem molt més clar en un exemple, millor dit, en dues versions del mateix exemple. Intentarem traure les poblacions d'una determinada comarca, que tenen una altura determinada o major. I aquestos dos valors els posarem coma paràmetres, i així podrem practicar les dues formes. Els valors que posarem per a la comarca serà &lt;strong&gt;Alcalatén&lt;/strong&gt;, i l'altura &lt;strong&gt;500&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En aquesta primera versió assenyalem els paràmetres amb &lt;strong&gt;?&lt;/strong&gt; a l'estil de &lt;strong&gt;JDBC&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Poblacio;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ConsultesAmbParametres1 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;       Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;       Query q = sessio.createQuery(&quot;from Poblacio where altura&amp;gt;=? and comarca.nomC=?&quot;);&lt;br /&gt;       q.setInteger(0, 500);&lt;br /&gt;       q.setString(1, &quot;Alcalatén&quot;);&lt;br /&gt;       &lt;br /&gt;       for (Poblacio p : (List&amp;lt;Poblacio&amp;gt;) q.list()){&lt;br /&gt;           System.out.println(p.getNom() + &quot; --&amp;gt; &quot; + p.getAltura());&lt;br /&gt;       }&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt;En la segona posem els paràmetres de l'altra manera.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Poblacio;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ConsultesAmbParametres2 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;from Poblacio where altura&amp;gt;=:alt and comarca.nomC=:com&quot;);&lt;br /&gt;        q.setInteger(&quot;alt&quot;, 500);&lt;br /&gt;        q.setString(&quot;com&quot;, &quot;Alcalatén&quot;);&lt;br /&gt;        &lt;br /&gt;        for (Poblacio p : (List&amp;lt;Poblacio&amp;gt;) q.list()){&lt;br /&gt;            System.out.println(p.getNom() + &quot; --&amp;gt; &quot; + p.getAltura());&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="97"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="98"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="27"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="98"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="18"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes:9.1%20-%20Par%C3%A0metres%20en%20les%20consultes"></string>
           <string role="key" value="parent"></string>
           <reference key="91"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="101">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="9.2 - Consultes diferents a una classe ja definida"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="99">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="100">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="99"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;De moment en les consultes sempre hem tornat una fila o més però sempre&lt;strong&gt; d'una única taula&lt;/strong&gt;, o millor dit, &lt;strong&gt;una classe&lt;/strong&gt; equivalent a una taula.&lt;/p&gt;
&lt;p&gt;Però hi haurà moltes ocasions en què voldrem fer una consulta diferent, on intervinga més d'una taula (o classe),  que torne funcions de grup (SUM, AVG, ...), en definitiva que no siga una sentència equivalent a &lt;strong&gt;SELECT * FROM ...&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Per tant ara no tornarà un objecte o una col·lecció d'objectes dels que ja tenim definits. Podem tenir més d'un cas, i a continuació els intentarem tractar:&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="100"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="101"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="28"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="101"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="102">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="103">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="102"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes que tornen més d'un objecte dels definits&lt;/p&gt;
&lt;p&gt;Són consultes en les quals hi haurà una reunió de taules (millor dit, de les classes equivalents), i es tornen tots els camps (totes les propietats).&lt;/p&gt;
&lt;p&gt;Podríem definir-nos una classe que englobara totes les propietats de tots els objectes, però hi ha una solució més ràpida. Els resultats s'obtenen en un &lt;strong&gt;array d'objectes&lt;/strong&gt;, on el primer objecte serà l'equivalent de la primera taula, el segon l'equivalent de la segona, etc. Aquest exemple és només il·lustratiu. Està clar que es pot fer molt més curt i senzill agafant únicament les Poblacions i a partir d'elles traure la comarca.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.Iterator;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.Comarca;&lt;br /&gt;import classes.Poblacio;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ConsultaComplexa1 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        Query q = sessio.createQuery(&quot;from Poblacio p, Comarca c where p.comarca.nomC=c.nomC order by p.nom&quot;);&lt;br /&gt;&lt;br /&gt;        Iterator it = q.iterate();&lt;br /&gt;        while (it.hasNext()) {&lt;br /&gt;            Object[] tot = (Object[]) it.next();&lt;br /&gt;            Poblacio p = (Poblacio) tot[0];&lt;br /&gt;            Comarca c = (Comarca) tot[1];&lt;br /&gt;            System.out.println(p.getNom() + &quot; (&quot; + c.getNomC() + &quot;. &quot; + c.getProvincia() + &quot;)&quot;);&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Com veiem, un poc &quot;rotllo&quot;...&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="103"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="101"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="29"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="101"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="104">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="105">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="104"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes que tornen un únic valor&lt;/p&gt;
&lt;p&gt;Aquest és el cas més senzill, ja que el valor tornat el podem agafar del tipus bàsic del valor tornat. Normalment és després d'utilitzar una funció de grup. Recordem que ha de tornar un únic valor (una única fila i una única columna, per dir-lo així). Haurem d'utilitzar el mètode &lt;strong&gt;uniqueResult()&lt;/strong&gt; ja comentat amb anterioritat. L'exemple serà per a calcular l'altura mitjana de totes les poblacions.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ConsultaComplexa2 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;select avg(altura) from Poblacio&quot;);&lt;br /&gt;&lt;br /&gt;        Double mitjana = (Double) q.uniqueResult();&lt;br /&gt;        &lt;br /&gt;        System.out.println(&quot;Altura mitjana: &quot; + mitjana);&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="105"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="101"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="30"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="101"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="106">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="107">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="1"></int>
                <string role="key" value="_idevice"></string>
                <reference key="106"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes amb qualsevol resultat&lt;/p&gt;
&lt;p&gt;Una de les solucions seria crear una classe amb totes les propietats que torna la consulta, posant els mètodes get i set de cadascuna de les propietats. No veurem aquesta solució per tediosa.&lt;/p&gt;
&lt;p&gt;Farem com en el primer apartat d'aquesta pregunta, gestionant l'&lt;strong&gt;array d'objectes&lt;/strong&gt; que s'obtenen, però en aquesta ocasió cada objecte de l'array serà un tipus simple.&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ConsultaComplexa3 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;&lt;br /&gt;        Query q = sessio.createQuery(&quot;select c.nomC,count(p.codM),avg(p.altura) &quot;&lt;br /&gt;                                        + &quot;from Comarca c , Poblacio p &quot;&lt;br /&gt;                                        + &quot;where c.nomC=p.comarca.nomC &quot;&lt;br /&gt;                                        + &quot;group by c.nomC &quot;&lt;br /&gt;                                        + &quot;order by c.nomC&quot;);&lt;br /&gt;        List&amp;lt;Object[]&amp;gt; llista = q.list();&lt;br /&gt;        for (Object[] tot : llista)&lt;br /&gt;            System.out.println(&quot;Comarca: &quot; + tot[0] + &quot;. Núm. pobles: &quot; + tot[1] + &quot;. Altura mitjana: &quot; + tot[2]);&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Hem utilitzat una altra vegada el &lt;strong&gt;foreach&lt;/strong&gt;, i en aquesta ocasió només hem d'anar amb compte amb el tipus &lt;strong&gt;Object[]&lt;/strong&gt;.&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="107"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="101"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="31"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="101"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="19"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:9%20-%20Consultes:9.2%20-%20Consultes%20diferents%20a%20una%20classe%20ja%20definida"></string>
           <string role="key" value="parent"></string>
           <reference key="91"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="110">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="10 - Consultes d'actualització"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="108">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="109">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="108"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Aquesta pregunta no té tanta importància com les altres, ja que actualitzacions ja sabíem fer amb els mètodes &lt;strong&gt;save()&lt;/strong&gt;, &lt;strong&gt;delete()&lt;/strong&gt; i &lt;strong&gt;update()&lt;/strong&gt; de la sessió.&lt;/p&gt;
&lt;p&gt;Pràcticament l'única utilitat serà fer actualitzacions massives, que afecten a més d'una fila (millor dit, més d'un objecte). HQL també permet fer-les. Mirem la seua sintaxi:&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;DELETE&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;DELETE [FROM] NomEntitat&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;[WHERE condició] &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Esborrarà tots els objecte que acomplesquen la condició. Observeu que:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FROM és opcional&lt;/li&gt;
&lt;li&gt;La clàusula WHERE és opcional. Si no es posa s'esborraran tots els objectes.&lt;/li&gt;
&lt;li&gt;En el FROM només es pot posar una entitat. No val a posar més d'una ni reunions ni res. Sí que es podran posar subconsultes en la clàusula WHERE, i en les consultes sí que es pot fer el que es vulga (reunions, ...).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per a executar la consulta s'utilitzarà el mètode &lt;strong&gt;Query.&lt;/strong&gt;&lt;strong&gt;executeUpdate()&lt;/strong&gt; (en compte de &lt;strong&gt;Query.&lt;/strong&gt;&lt;strong&gt;list()&lt;/strong&gt; per exemple). Aquest mètode torna un enter que serà el número de files (objectes) esborrades.&lt;/p&gt;
&lt;p&gt;I recordeu que s'ha de confirmar la transacció per a que tinguen efecte els canvis.&lt;/p&gt;
&lt;p&gt;Ací tenim un exemple, al qual li hem aplicat &lt;strong&gt;ROLLBACK&lt;/strong&gt; al final, per a no fer efectiu l'esborrat. Però sí que diu quantes files &quot;s'esborrarien&quot;.&lt;/p&gt;
&lt;p&gt;El següent exemple &quot;esborraria&quot; els Instituts de la província de Castelló, que són els que el seu codi comença per 12, i es diu quants serien els afectats, però després es rebutgen els canvis en fer &lt;strong&gt;rollback()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class EsborratMassiu {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;         Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        &lt;br /&gt;         Transaction tr = sessio.beginTransaction();&lt;br /&gt;         &lt;br /&gt;         int files = sessio.createQuery(&quot;delete Institut where codi like '12%'&quot;).executeUpdate();&lt;br /&gt;         &lt;br /&gt;         System.out.println(&quot;S'han esborrat &quot; + files + &quot; files.&quot;);&lt;br /&gt;         &lt;br /&gt;         tr.rollback();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="109"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="110"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="32"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="110"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="111">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="112">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="111"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;UPDATE&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;UPDATE [FROM] NomEntitat&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;SET propietat = valor [, propietat2 = valor2, ...]&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;[ WHERE condicio ]&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Les observacions fetes en l'apartat de DELETE també valen ací. I observeu que podem modificar més d'un camp, separant-los per comes. Ací tenim un exemple, en el qual fem també &lt;strong&gt;rollback()&lt;/strong&gt; per a deixar les coses com estaven:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import classes.SessionFactoryUtil;&lt;br /&gt;&lt;br /&gt;public class ModificacioMassiva {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;&lt;br /&gt;        Session sessio = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;        &lt;br /&gt;        Transaction tr = sessio.beginTransaction();&lt;br /&gt;        &lt;br /&gt;        int files = sessio.createQuery(&quot;update Poblacio set poblacio = poblacio *1.05 where poblacio &amp;lt; 200&quot;).executeUpdate();&lt;br /&gt;        &lt;br /&gt;        System.out.println(&quot;S'han modificat &quot; + files + &quot; files.&quot;);&lt;br /&gt;        &lt;br /&gt;        tr.rollback();&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="112"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="110"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="34"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="110"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="113">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="114">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="113"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;INSERT&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;
&lt;div&gt;INSERT INTO NomEntitat (llista_propietats)&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;em&gt;Sentència_select&lt;/em&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Ara tindrem els següents condicionants:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No és vàlida la sentència INSERT INTO ... VALUES ... que servia per a introduir una fila donant-li els valors. Si volem fer això, millor utilitzar &lt;strong&gt;save()&lt;/strong&gt;. Per tant només podrem introduir valors procedents d'una altra taula.&lt;/li&gt;
&lt;li&gt;La sentència SELECT pot ser qualsevol sentència HQL. Només hem de cuidar que els tipus tornats per la consulta siguen els que espera INSERT (és a dir, del mateix tipus que les propietats de la classe associada a la taula).&lt;/li&gt;
&lt;li&gt;Per a la propietat &lt;strong&gt;id&lt;/strong&gt;, que és la que correspon a la clau principal, podem tenir 2 opcions:
&lt;ul&gt;
&lt;li&gt;es pot especificar en la llista de propietats, i aleshores li haurem de proporcionar un valor.&lt;/li&gt;
&lt;li&gt;es pot ometre, sempre i quan la propietat estiga definida com &lt;strong&gt;increment&lt;/strong&gt; (no &lt;strong&gt;assigned&lt;/strong&gt;); això vol dir que es correspon a un camp autoincrementat. Aleshores serà el SGBD qui li assignarà el valor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest seria un exemple. En ell intentem introduir una nova comarca a partir d'una hipotètica taula de comarques noves (&lt;em&gt;NovesComarques&lt;/em&gt;). No la podrem provar perquè no existeix aquesta taula, millor dit, aquesta classe. L'hauríem de crear, fer-li el mapatge, i posteriorment executar açò. Per tant ho veiem únicament a mode il·lustratiu:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;br class=&quot;Apple-interchange-newline&quot; /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;Transaction tr = sessio.beginTransaction();&lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt; &lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;int files = sessio.createQuery(&quot;insert into Comarca (nomC, provincia) &quot;&lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 360px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt; + &quot; select n.nomC, n.provincia from NovesComarques n&quot;).executeUpdate();&lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt; &lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;System.out.println(&quot;S'han introduït &quot; + files + &quot; files.&quot;);&lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt; &lt;/span&gt;&lt;/div&gt;
&lt;div style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;tr.rollback();&lt;/span&gt;&lt;/div&gt;
&lt;div&gt; &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="114"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="110"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="33"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="110"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="20"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:10%20-%20Consultes%20d%27actualitzaci%C3%B3"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="117">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="11 - Resum del llenguatge HQL"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="115">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="116">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="1"></int>
             <string role="key" value="_idevice"></string>
             <reference key="115"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Veurem d'una manera molt ràpida el llenguatge HQL. Sobretot insistirem en les diferències amb SQL, al qual se sembla molt.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;La clàusula &lt;strong&gt;SELECT&lt;/strong&gt; és opcional. Si no la posem equival a agafar totes les propietats (és a dir, equivalent a SELECT * de SQL). És una operació molt habitual, ja que d'aquesta manera la llista d'objectes tornats és de la classe marcada en el from.&lt;/li&gt;
&lt;li&gt;Es poden utilitzar àlies de les classes, posant &lt;strong&gt;AS &lt;/strong&gt;després de la classe i abans de l'àlies. També podem prescindir del AS. Si utilitzem àlies, per a fer referència a la classe haurem d'utilitzar sempre l'àlies. Per exemple &lt;strong&gt;FROM Comarques AS c&lt;/strong&gt;, o senzillament &lt;strong&gt;FROM Comarques c&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;La clàusula &lt;strong&gt;WHERE&lt;/strong&gt; és opcional. Si no la posem equival a agafar de totes les instàncies de la classe associada (és a dir, de totes les files de la taula).&lt;/li&gt;
&lt;li&gt;S'admeten les clàusules &lt;strong&gt;GROUP BY &lt;/strong&gt; , &lt;strong&gt;HAVING&lt;/strong&gt; i &lt;strong&gt;ORDER BY&lt;/strong&gt;, que funcionen igual que en SQL.&lt;/li&gt;
&lt;li&gt;S'admeten &lt;strong&gt;subconsultes&lt;/strong&gt;, si és que el SGBD les admet, clar.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ací teniu uns quants exemples:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les instàncies de Comarques&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca order by nomC&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les instàncies de Comarques ordenades per nom de comarca&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where provincia='Castelló'&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les comarques de la província de Castelló&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where provincia in ('Castelló','Alacant')&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les comarques de les províncies de Castelló i Alacant&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio where altura between 700 and 750&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna totes les poblacions amb una altura entre 700 i 750 m,&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Institut where codpostal is null&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna els instituts que no tenen codi postal (no hi ha ningun)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Comarca where nomC like 'A%'&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les comarques el nom de les quals comença per A&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;select provincia, count(*) from Comarca group by provincia&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les províncies i el número de comarques en cadascuna&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;span&gt;select poblacio.nom , count(*) from Institut group by poblacio.nom&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna el nom de la població i el número d'instituts que té (només d'aquelles que tenen algun institut)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;select comarca.nomC , avg(altura) from Poblacio group by comarca.nomC having avg(altura) &amp;gt; 700&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna el nom de la comarca i l'altura mitjana d'aquelles comarques que tenen una altura mitjana més gran que 700&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio where altura &amp;gt; (select avg(altura) from Poblacio)&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les poblacions que tenen una altura major que la mitjana&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;from Poblacio p1 where p1.altura &amp;gt; (select avg(altura) from Poblacio p2 where p2.comarca=p1.comarca)&lt;/p&gt;
&lt;p style=&quot;margin-left: 60px;&quot;&gt;Torna les poblacions que tenen una altura major que la mitjana de la seua comarca&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;p&gt;HQL també admet reunions en les classes. Per a fer una reunió normal, podem posar la condició en el where i ja està, però si volem fer una reunió externa (un &lt;strong&gt;left join&lt;/strong&gt; per exemple) no ens valdrà aquesta opció, i haurem de fer la reunió.&lt;/p&gt;
&lt;p&gt;La sintaxi de la reunió és diferent en HQL.&lt;/p&gt;
&lt;p&gt;En &lt;strong&gt;SQL&lt;/strong&gt; posàvem la condició en l'apartat &lt;strong&gt;ON&lt;/strong&gt;, després d'haver posat les taules, i posàvem una condició d'igualtat entre els camps d'una i altra taula&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;SELECT ... FROM POBLACIO LEFT JOIN INSTITUT ON POBLACIO.cod_m=INSTITUT.cod_m&lt;/div&gt;
&lt;p&gt;En canvi en &lt;strong&gt;HQL&lt;/strong&gt; després de les taules no posem &lt;strong&gt;ON&lt;/strong&gt; , sinó que posarem l'enllaç entre les dues taules. Aquest enllaç coincideix amb el nom de la col·lecció d'elements de l'altre taula. En el cas de l'exemple que estem veient és &lt;strong&gt;institutses&lt;/strong&gt;. Per tant una reunió entre &lt;strong&gt;Poblacions&lt;/strong&gt; i &lt;strong&gt;Instituts&lt;/strong&gt; es definiria així &lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;from Poblacio p left join p.instituts&lt;/div&gt;
&lt;p&gt;Vejam un exemple un poc més elaborat, on traurem el nom de la població amb el número d'instituts que té, fins i tot d'aquells que no tenen institut&lt;/p&gt;
&lt;div class=&quot;codi2&quot;&gt;select p.nom, count(i.codi) from Poblacio p left join p.instituts i group by p.nom order by p.nom&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="116"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="117"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="35"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="117"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="21"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:11%20-%20Resum%20del%20llenguatge%20HQL"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="120">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="12. Generació de taules a partir de les classes (voluntari)"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="118">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="119">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="118"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Durant aquest tema, i també en els exercicis, hem treballat sobre projectes en els quals a partir de les taules d'una Base de Dades ja creada en qualsevol Sistema Gestor de Bases de Dades (excepte SQLite) hem generat les classes. Funciona molt bé aquesta generació de classes amb Hibernate.&lt;/p&gt;
&lt;p&gt;També és possible el procés invers, és a dir, &lt;strong&gt;generar les taules&lt;/strong&gt; en una Base de Dades &lt;strong&gt;a partir de les classes&lt;/strong&gt; creades en un projecte. Veurem un exemple molt senzill de com és possible. Tanmateix hem de dir ja que aquesta manera de funcionar no és tan efectiva com la inversa, i si l'estructura de classes és complexa, podem tenir problemes per a generar les taules. Per això l'exemple que posarem és molt senzill.&lt;/p&gt;
&lt;p&gt;Aquesta pregunta és totalment voluntària. Si no teniu ganes o temps, no fa falta que feu l'exemple mostrat a continuació. El que sí que és obligatori és la generació de classes a partir de les taules, vist anteriorment.&lt;/p&gt;
&lt;p&gt;L'exemple que intentarem implementar és una part de l'exemple de la biblioteca, vist ja en el tema 4. Només treballarem sobre 2 classes &lt;strong&gt;Editoria&lt;/strong&gt; i &lt;strong&gt;Llibre&lt;/strong&gt;, i fins i tot no posarem totes les propietats, ja que si ho posàrem tot, segurament ens donaria problemes a l'hora de la generació de taules.&lt;/p&gt;
&lt;p&gt;Aquestes són les classes, millor dit les propietats de les classes, com veieu amb una estructura molt senzilla:&lt;/p&gt;
&lt;table style=&quot;width: 620.767px;&quot; border=&quot;1&quot; height=&quot;146&quot; align=&quot;center&quot; bgcolor=&quot;#FFFFFF&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 276px;&quot;&gt;&lt;strong&gt;classe Editorial&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 267.767px;&quot;&gt;&lt;strong&gt;classe Llibre&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 276px; padding-left: 30px;&quot;&gt;&lt;strong&gt;public class Editorial {&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String codi;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String nom;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String web;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 267.767px; padding-left: 30px;&quot;&gt;&lt;strong&gt;public class Llibre {&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String isbn;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    String titol;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    int pagines;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;    Editorial editorial;&lt;/strong&gt;&lt;br /&gt;&lt;strong&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Com veieu tenim una propietat en la classe &lt;strong&gt;Llibre&lt;/strong&gt; que és de tipus &lt;strong&gt;Editorial&lt;/strong&gt;, per a marcar l'editorial del llibre. El més lògic seria posar un ArrayList de tipus Llibre en la classe Editorial per a posar tots els llibres de l'editorial. Però açò segurament ens donaria problemes en el moment de la generació de taules. Per tant, farem aquest exemple tan senzill a mode il·lustratiu, i prou.&lt;/p&gt;
&lt;p&gt;En aquestes classes, com es mostra en el vídeo posterior, s'han d'incorporar els mètodes &lt;strong&gt;get&lt;/strong&gt; i &lt;strong&gt;set&lt;/strong&gt; per a totes les propietats, així com &lt;strong&gt;constructors&lt;/strong&gt;, un sense paràmetres, i un altre amb paràmetres per a inicialitzar totes les propietats.&lt;/p&gt;
&lt;p&gt;Posteriorment s'han de preparar les classes per a poder generar les taules. Consistirà en un procediment automàtic que s'encarregarà d'agegir les &lt;strong&gt;anotacions&lt;/strong&gt;, que són sentències que Java ignorarà i serveixen per a afegir la informació addicional necessària. Les anotacions comencen sempre per &lt;strong&gt;@&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Després de les anotacions, les classes quedaran així (hem marcat les anotacions en roig:&lt;/p&gt;
&lt;table style=&quot;width: 1014.92px;&quot; border=&quot;1&quot; align=&quot;center&quot; bgcolor=&quot;#FFFFFF&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 421px;&quot;&gt;&lt;strong&gt;classe Editorial&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 516.917px;&quot;&gt;&lt;strong&gt;classe Llibre&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 421px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;import javax.persistence.Entity;&lt;br /&gt;import javax.persistence.Id;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;@Entity&lt;/span&gt;&lt;br /&gt;public class Editorial {&lt;br /&gt;   &lt;span style=&quot;color: #ff0000;&quot;&gt; @Id&lt;/span&gt;&lt;br /&gt;    String codi;&lt;br /&gt;    String nom;&lt;br /&gt;    String web;&lt;br /&gt;    &lt;br /&gt;    public Editorial() {&lt;br /&gt;        super();&lt;br /&gt;    }&lt;br /&gt;    public Editorial(String codi, String nom, String web) {&lt;br /&gt;        super();&lt;br /&gt;        this.codi = codi;&lt;br /&gt;        this.nom = nom;&lt;br /&gt;        this.web = web;&lt;br /&gt;    }&lt;br /&gt;    public String getCodi() {&lt;br /&gt;        return codi;&lt;br /&gt;    }&lt;br /&gt;    public void setCodi(String codi) {&lt;br /&gt;        this.codi = codi;&lt;br /&gt;    }&lt;br /&gt;    public String getNom() {&lt;br /&gt;        return nom;&lt;br /&gt;    }&lt;br /&gt;    public void setNom(String nom) {&lt;br /&gt;        this.nom = nom;&lt;br /&gt;    }&lt;br /&gt;    public String getWeb() {&lt;br /&gt;        return web;&lt;br /&gt;    }&lt;br /&gt;    public void setWeb(String web) {&lt;br /&gt;        this.web = web;&lt;br /&gt;    }&lt;br /&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 516.917px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;import javax.persistence.Entity;&lt;br /&gt;import javax.persistence.Id;&lt;br /&gt;import javax.persistence.ManyToOne;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;@Entity&lt;/span&gt;&lt;br /&gt;public class Llibre {&lt;br /&gt; &lt;span style=&quot;color: #ff0000;&quot;&gt;   @Id&lt;/span&gt;&lt;br /&gt;    String isbn;&lt;br /&gt;    String titol;&lt;br /&gt;    int pagines;&lt;br /&gt;   &lt;span style=&quot;color: #ff0000;&quot;&gt; @ManyToOne&lt;/span&gt;&lt;br /&gt;    Editorial editorial;&lt;br /&gt;    &lt;br /&gt;    public Llibre() {&lt;br /&gt;        super();&lt;br /&gt;    }&lt;br /&gt;    public Llibre(String isbn, String titol, int pagines, Editorial editorial) {&lt;br /&gt;        super();&lt;br /&gt;        this.isbn = isbn;&lt;br /&gt;        this.titol = titol;&lt;br /&gt;        this.pagines = pagines;&lt;br /&gt;        this.editorial = editorial;&lt;br /&gt;    }&lt;br /&gt;    public String getIsbn() {&lt;br /&gt;        return isbn;&lt;br /&gt;    }&lt;br /&gt;    public void setIsbn(String isbn) {&lt;br /&gt;        this.isbn = isbn;&lt;br /&gt;    }&lt;br /&gt;    public String getTitol() {&lt;br /&gt;        return titol;&lt;br /&gt;    }&lt;br /&gt;    public void setTitol(String titol) {&lt;br /&gt;        this.titol = titol;&lt;br /&gt;    }&lt;br /&gt;    public int getPagines() {&lt;br /&gt;        return pagines;&lt;br /&gt;    }&lt;br /&gt;    public void setPagines(int pagines) {&lt;br /&gt;        this.pagines = pagines;&lt;br /&gt;    }&lt;br /&gt;    public Editorial getEditorial() {&lt;br /&gt;        return editorial;&lt;br /&gt;    }&lt;br /&gt;    public void setEditorial(Editorial editorial) {&lt;br /&gt;        this.editorial = editorial;&lt;br /&gt;    }&lt;br /&gt;}&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Amb aquesta informació es podran generar les sentències SQL que crearan les taules en la Base de Dades. Aquestes sentències serien:&lt;/p&gt;
&lt;table style=&quot;width: 738px;&quot; border=&quot;1&quot; height=&quot;283&quot; align=&quot;center&quot; bgcolor=&quot;#FFFFFF&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align: center; width: 238.383px;&quot;&gt;&lt;strong&gt;taula EDITORIAL&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;text-align: center; width: 423.617px;&quot;&gt;&lt;strong&gt;taula LLIBRE&lt;br /&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;width: 238.383px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt; create table Editorial (&lt;br /&gt;       codi varchar(255) not null,&lt;br /&gt;        nom varchar(255),&lt;br /&gt;        web varchar(255),&lt;br /&gt;        primary key (codi)&lt;br /&gt;    );&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&quot;width: 423.617px; padding-left: 30px;&quot; valign=&quot;top&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt;create table Llibre (&lt;br /&gt;       isbn varchar(255) not null,&lt;br /&gt;        pagines int4 not null,&lt;br /&gt;        titol varchar(255),&lt;br /&gt;        editorial_codi varchar(255),&lt;br /&gt;        primary key (isbn)&lt;br /&gt;    );&lt;br /&gt;&lt;br /&gt;    alter table Llibre &lt;br /&gt;       add constraint FKap3159swqtnuj1i2q43xm0wk2 &lt;br /&gt;       foreign key (editorial_codi) &lt;br /&gt;       references Editorial;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Observeu com ha creat la clau externa en LLIBRE que apunta a EDITORIAL&lt;/p&gt;
&lt;p&gt;Aquest vídeo arreplega tot el procés:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T5_Generar_Taules_PostgreSQL.swf&quot; width=&quot;900&quot; height=&quot;720&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T5_Generar_Taules_PostgreSQL.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list>
                <instance class="exe.engine.galleryidevice.GalleryImage">
                 <dictionary>
                  <string role="key" value="_caption"></string>
                  <instance class="exe.engine.field.TextField">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <int value="3465"></int>
                    <string role="key" value="_idevice"></string>
                    <none></none>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="content"></string>
                    <string value=""></string>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                   </dictionary>
                  </instance>
                  <string role="key" value="_id"></string>
                  <unicode value="44_85.17"></unicode>
                  <string role="key" value="_imageResource"></string>
                  <instance class="exe.engine.resource.Resource" reference="121">
                   <dictionary>
                    <string role="key" value="_idevice"></string>
                    <reference key="118"></reference>
                    <string role="key" value="_package"></string>
                    <reference key="2"></reference>
                    <string role="key" value="_storageName"></string>
                    <string value="T5_Generar_Taules_PostgreSQL.swf"></string>
                    <string role="key" value="_userName"></string>
                    <string value="/tmp/tmp9rxdsE/T5_Generar_Taules_PostgreSQL.swf"></string>
                    <string role="key" value="checksum"></string>
                    <string value="8e8edf578fd58b9c582dcc04d62725a4"></string>
                    <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="warningMsg"></string>
                    <string value=""></string>
                   </dictionary>
                  </instance>
                  <string role="key" value="_parent"></string>
                  <reference key="119"></reference>
                  <string role="key" value="_thumbnailResource"></string>
                  <none></none>
                  <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                  <int value="3"></int>
                  <string role="key" value="makeThumbnail"></string>
                  <bool value="0"></bool>
                 </dictionary>
                </instance>
               </list>
               <string role="key" value="idevice"></string>
               <reference key="119"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="18"></int>
             <string role="key" value="parentNode"></string>
             <reference key="120"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="44"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="120"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="121"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="25"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:12.%20Generaci%C3%B3%20de%20taules%20a%20partir%20de%20les%20classes%20%28voluntari%29"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="124">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Exercicis"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="122">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.1"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="123">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="89_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="122"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Crea un projecte nou anomenat &lt;strong&gt;Tema5_&lt;/strong&gt;&lt;strong&gt;PostgreSQL_Rutes&lt;/strong&gt;. Inclou el driver JDBC de PostgreSQL i la llibreria nostra d'Hibernate.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fes el mapatge de les taules &lt;strong&gt;RUTA &lt;/strong&gt;i &lt;strong&gt;PUNT&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;, situades en la Base de Dades &lt;strong&gt;rutes&lt;/strong&gt; a la qual pot accedir l'usuari &lt;strong&gt;rutes &lt;/strong&gt;(contrasenya &lt;strong&gt;rutes&lt;/strong&gt;) i situada en el servidor de l'Institut &lt;strong&gt;&lt;/strong&gt;(&lt;strong&gt;89.36.214.106&lt;/strong&gt;). Guarda-les en un paquet anomenat &lt;strong&gt;dades&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Hauràs observat que ha creat les classes &lt;strong&gt;Ruta.java&lt;/strong&gt;, &lt;strong&gt;Punt.java&lt;/strong&gt; i també &lt;strong&gt;PuntId.java&lt;/strong&gt;. Aquesta última l'ha creada perquè la clau principal de la taula &lt;strong&gt;PUNT&lt;/strong&gt; està formada per &lt;strong&gt;num_r + num_p&lt;/strong&gt;. No ens afectarà a nosaltres, que podem utilitzar únicament &lt;strong&gt;Ruta.java&lt;/strong&gt; i &lt;strong&gt;Punt.java&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Intenta visualitzar dades des de la perspectiva Hibernate.&lt;/li&gt;
&lt;li&gt;Copia't el fitxer &lt;strong&gt;log4j.properties&lt;/strong&gt; per a que no es visualitzen els avisos.&lt;/li&gt;
&lt;li&gt;Crea't la classe &lt;strong&gt;SessionFactoryUtil&lt;/strong&gt;, que serà un &lt;strong&gt;singleton&lt;/strong&gt; per a poder crear una única SessionFactory. L'has d'utilitzar en totes les altres classes, sempre que et faça falta un SessionFactory. Ha d'estar en el mateix paquet &lt;strong&gt;dades&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;En un paquet anomenat &lt;strong&gt;Exercicis&lt;/strong&gt;, crea't la classe &lt;strong&gt;VeureRutes&lt;/strong&gt;, que serà un programa senzill que visualitze les rutes, i el número de punts, ordenades per nom de ruta. Ha de ser per mig d'una &lt;strong&gt;consulta HQL &lt;/strong&gt;(el més senzilla possible), i evidentment el programa ha de ser independent del número de rutes existent en aquest moment a la Base de Dades. El resultat seria aquest: &lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;codi2&quot;&gt;La Magdalena - 7 punts&lt;br /&gt;Pelegrins de Les Useres - 6 punts&lt;br /&gt;Pujada a Penyagolosa - 5 punts&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="123"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="36"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="125">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.2"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="126">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="90_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="125"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Sobre el projecte de &lt;strong&gt;Tema5_Hibernate_PostgreSQL_geo_ad &lt;/strong&gt;, on tenim el mapatge de les taules &lt;strong&gt;COMARQUES&lt;/strong&gt;, &lt;strong&gt;POBLACIONS &lt;/strong&gt;i &lt;strong&gt;INSTITUTS&lt;/strong&gt;, creeu-vos un paquet anomenat &lt;strong&gt;Exercicis&lt;/strong&gt;, on col·locareu les classes d'aquest exercici.&lt;/p&gt;
&lt;p&gt;Per a visualitzar les coses d'una forma un poc més agradable anem a utilitzar les llibreries gràfiques &lt;strong&gt;Java AWT&lt;/strong&gt; i &lt;strong&gt;Javax Swing&lt;/strong&gt;. Amb aquestes llibreries incorporarem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;JPanel&lt;/strong&gt; i &lt;strong&gt;JScrollPane&lt;/strong&gt;, per a contenir altres objectes (aquest últim amb botons de scroll si són necessaris).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JLabel&lt;/strong&gt;, per a etiquetes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JText&lt;/strong&gt;, per a quadres de text (on poder posar informació)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JTextArea&lt;/strong&gt;, és un quadre de text, però més gran. Nosaltres l'utilitzarem per a visualitzar informació extensa, i per tant el farem no editable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JButton&lt;/strong&gt;, per a botons. Estarà esperant a que l'apretem (ActionListener)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tot açò anirà en una classe que anomenarem &lt;strong&gt;Pantalla_Veure_Pobles_Comarca &lt;/strong&gt;que estendrà &lt;strong&gt;JFrame&lt;/strong&gt;, i que implementarà &lt;strong&gt;ActionListener&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Haurem de tenir una classe principal, &lt;strong&gt;Veure_Pobles_Comarca.java&lt;/strong&gt;, que únicament crearà un objecte &lt;strong&gt;Pantalla_Veure_Pobles_Comarca&lt;/strong&gt; i l'iniciarà (mètode &lt;strong&gt;iniciar()&lt;/strong&gt;), on col·locarem les primeres coses i prepararem el botó per a que escolte si s'apreta.&lt;/p&gt;
&lt;p&gt;Per tant, tindrem una classe &lt;strong&gt;Veure_Pobles_Comarca.java&lt;/strong&gt; tan senzilla com açò:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;public class Veure_Pobles_Comarca {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        final Pantalla_Veure_Pobles_Comarca finestra = new Pantalla_Veure_Pobles_Comarca();&lt;br /&gt;        finestra.iniciar();&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt;I ara anem a per la classe &lt;strong&gt;Pantalla_Veure_Pobles_Comarca.java&lt;/strong&gt;. Vosaltres haureu de completar el mètode &lt;strong&gt;VisualitzaCom(String comarca)&lt;/strong&gt;, per a que si no existeix la comarca, es diga que no existeix dins del JTextArea, i si existeix, que es vegen &lt;strong&gt;els seus pobles &lt;/strong&gt;(si vols pots millorar-lo per a que es vegen en ordre alfabètic).&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;import java.awt.BorderLayout;&lt;br /&gt;import java.awt.Color;&lt;br /&gt;import java.awt.FlowLayout;&lt;br /&gt;import java.awt.event.ActionEvent;&lt;br /&gt;import java.awt.event.ActionListener;&lt;br /&gt;import java.util.Arrays;&lt;br /&gt;&lt;br /&gt;import javax.swing.JButton;&lt;br /&gt;import javax.swing.JFrame;&lt;br /&gt;import javax.swing.JLabel;&lt;br /&gt;import javax.swing.JPanel;&lt;br /&gt;import javax.swing.JScrollPane;&lt;br /&gt;import javax.swing.JTextArea;&lt;br /&gt;import javax.swing.JTextField;&lt;br /&gt;&lt;br /&gt;public class Pantalla_Veure_Pobles_Comarca extends JFrame implements ActionListener {&lt;br /&gt;&lt;br /&gt;    private static final long serialVersionUID = 1L;&lt;br /&gt;    JLabel etiqueta = new JLabel(&quot;Comarca:&quot;);&lt;br /&gt;    JLabel et_ini = new JLabel(&quot;Introdueix la comarca:&quot;);&lt;br /&gt;    JTextField com = new JTextField(15);&lt;br /&gt;    JButton consultar = new JButton(&quot;Consultar&quot;);&lt;br /&gt;    JTextArea area = new JTextArea();&lt;br /&gt;    &lt;br /&gt;    // en iniciar posem un contenidor per als elements anteriors&lt;br /&gt;    public void iniciar() {&lt;br /&gt;        this.setBounds(100, 100, 450, 300);&lt;br /&gt;        this.setLayout(new BorderLayout());&lt;br /&gt;        // contenidor per als elements&lt;br /&gt;        JPanel panell1 = new JPanel(new FlowLayout());&lt;br /&gt;        panell1.add(et_ini);&lt;br /&gt;        panell1.add(com);&lt;br /&gt;        panell1.add(consultar);&lt;br /&gt;        getContentPane().add(panell1,BorderLayout.NORTH);&lt;br /&gt;        &lt;br /&gt;        JPanel panell2 = new JPanel(new BorderLayout());&lt;br /&gt;        panell2.add(etiqueta,BorderLayout.NORTH);&lt;br /&gt;        area.setForeground(Color.blue);&lt;br /&gt;        JScrollPane scroll = new JScrollPane(area);&lt;br /&gt;        panell2.add(scroll,BorderLayout.CENTER);&lt;br /&gt;        getContentPane().add(panell2,BorderLayout.CENTER);&lt;br /&gt;                &lt;br /&gt;        &lt;br /&gt;        setVisible(true);&lt;br /&gt;        consultar.addActionListener(this);&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    @Override&lt;br /&gt;    public void actionPerformed(ActionEvent e) {&lt;br /&gt;        if (e.getSource() == consultar) {&lt;br /&gt;            etiqueta.setText(&quot;Comarca: &quot; + com.getText());&lt;br /&gt;            visualitzaCom(com.getText());&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private void visualitzaCom(String comarca) {&lt;br /&gt;&lt;br /&gt;        // Instruccions per a llegir la comarca introduïda (s'ha de deixar en un objecte Comarques).&lt;br /&gt;        // S'ha de cuidar que si no exiteix la comarca, en el JTextArea es pose que no existeix.&lt;br /&gt;        // La manera d'anar introduint informació en el JTextArea és area.append(&quot;Linia que es vol introduir &quot;)&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/div&gt;
&lt;p&gt; Aquest seria un exemple d'utilització:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex2_1.png&quot; height=&quot;328&quot; width=&quot;450&quot; /&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3435"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="37_90_2.62"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="127">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="125"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex2_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_Ex2_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="4249c31a5e8f508223ecabcb56b80df0"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="126"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="126"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="63"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="37"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="127"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="128">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.3"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="129">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="89_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="128"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Anem a fer unes quantes millores a l'exemple anterior. Copia't la classe &lt;strong&gt;Pantalla_Veure_Pobles_Comarca.java&lt;/strong&gt; a aquesta altra: &lt;strong&gt;Pantalla_Veure_Pobles_Comarca_Combo_List.java&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Les millores seran les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(70%) Substitueix el quadre de text per un &lt;strong&gt;JComboBox&lt;/strong&gt;, i elimina el botó. Recorda que el component &lt;strong&gt;JCombBox &lt;/strong&gt;funciona de la segünet manera:
&lt;ul&gt;
&lt;li&gt;La manera de saber si ha estat el ComboBox qui ha provocat l'esdeveniment en el &lt;strong&gt;actionPerformed&lt;/strong&gt; és idèntica que en el cas del botó: &lt;strong&gt;if (e.getSource()==nom_ComboBox)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Per a obtenir l'element seleccionat utilitzarem el mètode&lt;strong&gt; &lt;/strong&gt;&lt;strong&gt;.getSelectedItem()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Per tant, per a omplir el ComboBox haurem de fer una consulta prèvia amb els noms de les comarques (en principi amb els noms és suficient). El resultat de la consulta pot ser un List de strings, ja que només volem el nom de la comarca. Aquesta llista la podem convertir en un array amb el mètode &lt;strong&gt;.toArray()&lt;/strong&gt;, que és el que li fa falta al constructor del ComboBox. Però també podeu anar afegint elements al ComboBox amb el mètode &lt;strong&gt;.addItem()&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;(15%) Substitueix el &lt;strong&gt;JTextArea&lt;/strong&gt; on mostrem els pobles de la comarca per un &lt;strong&gt;JList&lt;/strong&gt;. Aquest component serà una llista, i podrem seleccionar cada element de la llista. El seu funcionament és així:
&lt;ul&gt;
&lt;li&gt;Per a anar omplint el &lt;strong&gt;JList&lt;/strong&gt;, no és tant senzill com el &lt;strong&gt;JComboBox&lt;/strong&gt;. Ens fa falta un &lt;strong&gt;DefaultListModel&lt;/strong&gt;, i construir el &lt;strong&gt;JList&lt;/strong&gt; a partir d'ell. Posteriorment afegirem elements al &lt;strong&gt;DefaultListModel&lt;/strong&gt;, i això suposarà que es veuran en el &lt;strong&gt;JList&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Per a agafar els pobles de la comarca, pot donar-se el cas que hi haja cometes simples en el nom (p.e. Plana d'Utiel). Açò faria que la consulta HQL falle (ja que la cometa simple és el delimitador de les constants de text). Una manera de solucionar-lo és utilitzar un paràmetre en un &lt;strong&gt;PreparedStatement&lt;/strong&gt;, ja que d'aquesta manera no hi haurà problema amb les cometes. Una altra manera de solucionar-lo és posar dos cometes simples. Podem utilitzar el mètode &lt;strong&gt;replaceAll()&lt;/strong&gt; de la classe String, substituint tota cometa simple per dues cometes simples. Si per exemple tenim el nom de la comarca en el String &lt;strong&gt;comarca&lt;/strong&gt;, faríem:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;margin-left: 120px;&quot; class=&quot;codi&quot;&gt;comarca.replaceAll(&quot;'&quot;,&quot;''&quot;) :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(15%) Quan se seleccione un element del &lt;strong&gt;JList&lt;/strong&gt;, fes que es mostre baix de tot el número d'Instituts del poble seleccionat
&lt;ul&gt;
&lt;li&gt;Per a poder controlar si s'ha seleccionat un element del &lt;strong&gt;JList&lt;/strong&gt; la classe principal haurà d'implementar també &lt;strong&gt;ListSelectionListener&lt;/strong&gt;, a banda del &lt;strong&gt;ActionListener&lt;/strong&gt;. Prepararem que volem escoltar aquest esdeveniment amb &lt;strong&gt;area.addListSelectionListener(this); &lt;/strong&gt;(si el &lt;strong&gt;JList&lt;/strong&gt; s'anomena &lt;strong&gt;area&lt;/strong&gt;, clar). Posteriorment sobreescriurem el mètode &lt;strong&gt;valueChanged(ListSelectionEvent e)&lt;/strong&gt;, que és on posarem les accions per a mostrar el nombre d'Instituts del poble.&lt;/li&gt;
&lt;li&gt;El nom del poble també pot dur cometes simples, per tant farem la mateixa consideració d'abans. Ho solucionem amb un paràmetre de &lt;strong&gt;PreparedStatement&lt;/strong&gt;, o posar dues cometes simple substituint el nom del poble per:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;margin-left: 120px;&quot; class=&quot;codi&quot;&gt;poble.replaceAll(&quot;'&quot;,&quot;''&quot;) :&lt;/p&gt;
&lt;p&gt;L'esquelet quedarà ara d'aquesta manera:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;import java.awt.BorderLayout;&lt;br /&gt;import java.awt.Color;&lt;br /&gt;import java.awt.FlowLayout;&lt;br /&gt;import java.awt.event.ActionEvent;&lt;br /&gt;import java.awt.event.ActionListener;&lt;br /&gt;import java.util.Arrays;&lt;br /&gt;import java.util.List;&lt;br /&gt;&lt;br /&gt;import javax.swing.DefaultListModel;&lt;br /&gt;import javax.swing.JComboBox;&lt;br /&gt;import javax.swing.JFrame;&lt;br /&gt;import javax.swing.JLabel;&lt;br /&gt;import javax.swing.JList;&lt;br /&gt;import javax.swing.JPanel;&lt;br /&gt;import javax.swing.JScrollPane;&lt;br /&gt;import javax.swing.JTextField;&lt;br /&gt;import javax.swing.event.ListSelectionEvent;&lt;br /&gt;import javax.swing.event.ListSelectionListener;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import dades.*;&lt;br /&gt;&lt;br /&gt;public class Pantalla_Veure_Pobles_Comarca_Combo_List extends JFrame implements ActionListener, ListSelectionListener {&lt;br /&gt;&lt;br /&gt;    private static final long serialVersionUID = 1L;&lt;br /&gt;    JLabel etiqueta = new JLabel(&quot;Comarca:&quot;);&lt;br /&gt;    JLabel et_ini = new JLabel(&quot;Introdueix la comarca:&quot;);&lt;br /&gt;    JComboBox com = new JComboBox();&lt;br /&gt;    DefaultListModel listModel = new DefaultListModel();&lt;br /&gt;    JList area = new JList(listModel);&lt;br /&gt;    JTextField peu = new JTextField();&lt;br /&gt;    &lt;br /&gt;    // en iniciar posem un contenidor per als elements anteriors&lt;br /&gt;    public void iniciar() {&lt;br /&gt;        this.setBounds(100, 100, 450, 300);&lt;br /&gt;        this.setLayout(new BorderLayout());&lt;br /&gt;        // contenidor per als elements&lt;br /&gt;        JPanel panell1 = new JPanel(new FlowLayout());&lt;br /&gt;        panell1.add(et_ini);&lt;br /&gt;        panell1.add(com);&lt;br /&gt;        getContentPane().add(panell1,BorderLayout.NORTH);&lt;br /&gt;        &lt;br /&gt;        JPanel panell2 = new JPanel(new BorderLayout());&lt;br /&gt;        panell2.add(etiqueta,BorderLayout.NORTH);&lt;br /&gt;        area.setForeground(Color.blue);&lt;br /&gt;        JScrollPane scroll = new JScrollPane(area);&lt;br /&gt;        panell2.add(scroll,BorderLayout.CENTER);&lt;br /&gt;        getContentPane().add(panell2,BorderLayout.CENTER);&lt;br /&gt;        getContentPane().add(peu,BorderLayout.SOUTH);&lt;br /&gt;&lt;br /&gt;        agafarComarques();&lt;br /&gt;&lt;br /&gt;        setVisible(true);&lt;br /&gt;        &lt;br /&gt;        com.addActionListener(this);&lt;br /&gt;        area.addListSelectionListener(this);&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    @Override&lt;br /&gt;    public void actionPerformed(ActionEvent e) {&lt;br /&gt;        if (e.getSource() == com) {&lt;br /&gt;            etiqueta.setText(&quot;Llista de pobles de la comarca: &quot; + com.getSelectedItem());&lt;br /&gt;            visualitzaCom(com.getSelectedItem().toString());&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;    &lt;br /&gt;    @Override&lt;br /&gt;    public void valueChanged(ListSelectionEvent e){&lt;br /&gt;        JList l = (JList) e.getSource();&lt;br /&gt;        if (l.getSelectedIndex()&amp;gt;=0){&lt;br /&gt;            visualitzaInstituts(l.getSelectedValue().toString());&lt;br /&gt;        }&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private void visualitzaCom(String comarca) {&lt;br /&gt;&lt;br /&gt;        // Instruccions per a llegir la comarca introduïda (s'ha de deixar en un objecte Comarques).&lt;br /&gt;        // S'ha de cuidar que si no exiteix la comarca, en el JList es pose que no existeix.&lt;br /&gt;        // La manera d'anar introduint informació en el JList és a través del DefaultListModel: &lt;br /&gt;        // listModel.addElement(&quot;Linia que es vol introduir &quot;)&lt;br /&gt;        // Una manera de solucionar el problema de la cometa simple és utilitzar comarca.replaceAll(&quot;'&quot;,&quot;''&quot;).&lt;br /&gt;        // Una altra és utilitzar paràmetres amb &lt;strong&gt;PreparedStatement&lt;/strong&gt;&lt;br /&gt;    }&lt;br /&gt;    &lt;br /&gt;    private void agafarComarques(){&lt;br /&gt;        // Instruccions per a posar en el ComboBox el nom de totes les comarques, millor si és per ordre alfabètic&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;    &lt;br /&gt;    private void visualitzaInstituts(String poble){&lt;br /&gt;        // Instruccions per a mostrar el número d'Instituts del poble seleccionat&lt;br /&gt;        // Una manera de solucionar el problema de la cometa simple és utilitzar poble.replaceAll(&quot;'&quot;,&quot;''&quot;).&lt;br /&gt;        // Una altra és utilitzar paràmetres amb &lt;strong&gt;PreparedStatement&lt;/strong&gt;&lt;br /&gt;        &lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Aquest seria un exemple d'execució:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex3_1.png&quot; width=&quot;450&quot; height=&quot;328&quot; /&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3461"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="38_89_2.64"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="130">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="128"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex3_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_Ex3_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="82de0249945d4068ef62df3e17cbf60b"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="129"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="129"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="65"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="38"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="130"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="131">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.4"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="132">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="91_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="131"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Anem a intentar un programa per al manteniment de les comarques (no intentarem mantenir els pobles de la comarca, únicament el nom i la província de la comarca). L'anomenarem &lt;strong&gt;Manteniment_Comarques&lt;/strong&gt; al principal, i &lt;strong&gt;Manteniment_Comarques_Pantalla&lt;/strong&gt; al que ho contindrà tot i estendrà de JPanel. Ambdós han d'estar en el paquet &lt;strong&gt;Exercicis&lt;/strong&gt; del projecte &lt;strong&gt;Tema5_Hibernate_PostgreSQL_geo_ad&lt;/strong&gt;&lt;strong&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En una primera fase únicament posarem 2 quadres de text per al nom i la província (amb 2 etiquetes) i 4 botons per a desplaçar-nos: al primer, a l'anterior, al següent i a l'últim.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_12_3.png&quot; alt=&quot;Manteniment Comarques 1&quot; width=&quot;350&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ves fent progressivament les següents coses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Organitza les diferents seccions en diferents JPanels.&lt;/li&gt;
&lt;li&gt;Per a que queden aliniats els JLabel i JTextField, segurament el més senzill és col·locar-los en un JPanel d'estil &lt;strong&gt;GridLayout&lt;/strong&gt;, amb 2 columnes: &lt;strong&gt;JPanel panell2 = new JPanel(new GridLayout(2,2,5,5));&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Col·loca els JLabel i JText necessaris en el JPanel anterior.&lt;/li&gt;
&lt;li&gt;Posa en una llista de Comarques tots els objectes de les comarques (per mig d'una consulta HQL). Inicialment situa't en la primera.&lt;/li&gt;
&lt;li&gt;Posa i implementa els 4 botons de desplaçament.&lt;/li&gt;
&lt;li&gt;Controla que no es puga eixir fora del rang deshabilitant els botons corresponents quan s'estiga en la primera o l'última comarca. No t'oblides d'habilitar-los quan toque. Opcionalment pots posar una etiqueta que diga si s'està en la primera o última comarca. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ací tens el programa principal, així com &quot;l'esquelet&quot; del JFrame. Observa que la sessió està creada en la zona de declaracions de les propietats. Podríem haver-la creat en el mètode &lt;strong&gt;afafarComarques()&lt;/strong&gt;, que és quan per mig d'una sentència &lt;strong&gt;HQL&lt;/strong&gt; agafarem totes les comarques i les posarem en un &lt;strong&gt;ListArray&amp;lt;Comarques&amp;gt;&lt;/strong&gt;. D'aquesta manera podríem tancar la sessió en el mateix mètode&lt;strong&gt; agafarComarques()&lt;/strong&gt; i no utilitzar més recursos dels necessaris. Hem optat per tenir la sessió oberta durant tota la durada del programa per fer-lo igual que en el següent exercici, en el qual sí que ens convé tenir la sessió oberta mentre dure el programa. Observeu també que a banda de &lt;strong&gt;llistaComarques&lt;/strong&gt;, l'arraylist on estan tots els objectes comarques, també tenim la propietat &lt;strong&gt;indActual&lt;/strong&gt;, on guardem l'índex actual, és  a dir, l'índex de la comarca que s'ha d'estar visualitzant en aquest moment.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;public class Manteniment_Comarques {&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Manteniment_Comarques_Pantalla finestra = new Manteniment_Comarques_Pantalla();&lt;br /&gt;        finestra.iniciar();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;import java.awt.BorderLayout;&lt;br /&gt;import java.awt.FlowLayout;&lt;br /&gt;import java.awt.GridLayout;&lt;br /&gt;import java.awt.event.ActionEvent;&lt;br /&gt;import java.awt.event.ActionListener;&lt;br /&gt;import java.util.ArrayList;&lt;br /&gt;&lt;br /&gt;import javax.swing.JButton;&lt;br /&gt;import javax.swing.JFrame;&lt;br /&gt;import javax.swing.JLabel;&lt;br /&gt;import javax.swing.JPanel;&lt;br /&gt;import javax.swing.JTextField;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;&lt;br /&gt;import Exemples.SessionFactoryUtil;&lt;br /&gt;import dades.Comarca;&lt;br /&gt;&lt;br /&gt;public class Manteniment_Comarques_Pantalla extends JFrame implements ActionListener{&lt;br /&gt;    JLabel etIni= new JLabel(&quot;Manteniment de COMARQUES&quot;);&lt;br /&gt;    JLabel etNom= new JLabel(&quot;Nom comarca&quot;);&lt;br /&gt;    JLabel etProv= new JLabel(&quot;Nom província&quot;);&lt;br /&gt;    &lt;br /&gt;    JTextField nomComarca = new JTextField();&lt;br /&gt;    JTextField nomProvincia= new JTextField();&lt;br /&gt;    &lt;br /&gt;    JButton primer = new JButton(&quot;&amp;lt;&amp;lt;&quot;);&lt;br /&gt;    JButton anterior = new JButton(&quot;&amp;lt;&quot;);&lt;br /&gt;    JButton seguent = new JButton(&quot;&amp;gt;&quot;);&lt;br /&gt;    JButton ultim = new JButton(&quot;&amp;gt;&amp;gt;&quot;);&lt;br /&gt;    &lt;br /&gt;    JPanel pDalt = new JPanel(new FlowLayout());&lt;br /&gt;    JPanel pCentre = new JPanel(new GridLayout(8,0));&lt;br /&gt;    JPanel pDades = new JPanel(new GridLayout(2,2));&lt;br /&gt;    JPanel pBotonsMov = new JPanel(new FlowLayout());&lt;br /&gt;    &lt;br /&gt;    Session s = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;    &lt;br /&gt;    ArrayList&amp;lt;Comarca&amp;gt; llistaComarques = new ArrayList&amp;lt;Comarca&amp;gt;();&lt;br /&gt;    int indActual=0;&lt;br /&gt;    &lt;br /&gt;    public void iniciar(){&lt;br /&gt;        this.setBounds(100, 100, 350, 400);&lt;br /&gt;        this.setLayout(new BorderLayout());&lt;br /&gt;        &lt;br /&gt;        this.getContentPane().add(pCentre, BorderLayout.CENTER);&lt;br /&gt;        this.getContentPane().add(new JPanel(new FlowLayout()), BorderLayout.WEST);&lt;br /&gt;        this.getContentPane().add(new JPanel(new FlowLayout()), BorderLayout.EAST);&lt;br /&gt;        &lt;br /&gt;        pDalt.add(etIni);        &lt;br /&gt;        pCentre.add(pDalt);&lt;br /&gt;                &lt;br /&gt;        pDades.add(etNom);&lt;br /&gt;        pDades.add(nomComarca);&lt;br /&gt;        pDades.add(etProv);&lt;br /&gt;        pDades.add(nomProvincia);&lt;br /&gt;        pCentre.add(pDades);&lt;br /&gt;        &lt;br /&gt;        nomComarca.setEditable(false);&lt;br /&gt;        nomProvincia.setEditable(false);&lt;br /&gt;&lt;br /&gt;        pCentre.add(new JPanel(new FlowLayout()));&lt;br /&gt;&lt;br /&gt;        pBotonsMov.add(primer);&lt;br /&gt;        pBotonsMov.add(anterior);&lt;br /&gt;        pBotonsMov.add(seguent);&lt;br /&gt;        pBotonsMov.add(ultim);&lt;br /&gt;        pCentre.add(pBotonsMov);&lt;br /&gt;        &lt;br /&gt;        pCentre.add(new JPanel(new FlowLayout()));&lt;br /&gt;&lt;br /&gt;        llistaComarques = agafarComarques();&lt;br /&gt;        visComarca(indActual);&lt;br /&gt;&lt;br /&gt;        this.setVisible(true);&lt;br /&gt;        this.setDefaultCloseOperation(EXIT_ON_CLOSE);&lt;br /&gt;        &lt;br /&gt;        primer.addActionListener(this);&lt;br /&gt;        anterior.addActionListener(this);&lt;br /&gt;        seguent.addActionListener(this);&lt;br /&gt;        ultim.addActionListener(this);&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private void visComarca(int index) {&lt;br /&gt;        // Mètode per a visualitzar la comarca marcada per l'índex que ve com a paràmetre&lt;br /&gt;        // Es pot aprofitar per a activar/desactivar els botons anterior i següent, si s'està en la primera o última comarca &lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private ArrayList&amp;lt;Comarca&amp;gt; agafarComarques() {&lt;br /&gt;        ArrayList&amp;lt;Comarca&amp;gt; llista = null;&lt;br /&gt;        // ací aniran les sentències per a omplir (i retornar) la llista de comarques&lt;br /&gt;        return llista;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    @Override&lt;br /&gt;    public void actionPerformed(ActionEvent e) {&lt;br /&gt;        //ací aniran les accions de moviment primer, anterior, següent i últim&lt;br /&gt;        if (e.getSource()==primer){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==anterior){&lt;br /&gt;        }&lt;br /&gt;        &lt;br /&gt;        if (e.getSource()==seguent){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==ultim){&lt;br /&gt;        }                &lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3462"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="40_91_2.61"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="133">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="131"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_12_3.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_12_3.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="b13142688b85fa534fc56cc156fc7221"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="132"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="132"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="62"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="40"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="133"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="134">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.5 (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="135">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="92_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="134"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Modifica l'anterior construint &lt;strong&gt;Manteniment_Comarques_Avançat_Pantalla &lt;/strong&gt;per a posar també botons per a Inserir noves comarques, esborrar o modificar. En un primer moment aquestos botons prepararan l'acció, però no la realitzaran.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex_5_5_1.png&quot; style=&quot;border: 1px solid black;&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Col·loca primer els 3 botons.&lt;/li&gt;
&lt;li&gt;Quan s'aprete (qualsevol dels 3) es visualitzaran uns altres dos (ja creats, ara es visualitzaran) que seran els d'Acceptar i Cancel·lar. A més d'aixó:
&lt;ul&gt;
&lt;li&gt;el d'inserir ha de netejar els quadres de text i si havíeu posat els quadres de text com a que no es puguen editar, doncs ara que sí.&lt;/li&gt;
&lt;li&gt;el de modificar ha de permetre l'edició de la província (si no ho estava)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;En apretar Cancel·lar, s'ha de tornar a l'estat anterior, i fer invisibles els botons d'Acceptar i Cancel·lar.&lt;/li&gt;
&lt;li&gt;En apretar Acceptar, s'ha de distingir quina acció s'està fent, inserir, esborrar o modificar, i realitzar tal acció en la Base de Dades. Posteriorment s'hauran de fer invisibles els botons d'Acceptar i Cancel·lar&lt;/li&gt;
&lt;li&gt;Seria molt útil que en quan s'està fent una actualització (Inserir, Modificar o Esborrar), es desactiven tant els botons de moviment com d'actualització. En apretar Acceptar o Cancel·lar a més de fer les accions citades abans, s'haurien de tornar a activar els botons de moviment i d'actualització.&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex_5_5_2.png&quot; style=&quot;border: 1px solid black;&quot; width=&quot;350&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Ací està &quot;l'esquelet&quot; del JFrame. Podeu utilitzar el mateix programa principal.&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot; class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;import java.awt.BorderLayout;&lt;br /&gt;import java.awt.FlowLayout;&lt;br /&gt;import java.awt.GridLayout;&lt;br /&gt;import java.awt.event.ActionEvent;&lt;br /&gt;import java.awt.event.ActionListener;&lt;br /&gt;import java.util.ArrayList;&lt;br /&gt;&lt;br /&gt;import javax.swing.JButton;&lt;br /&gt;import javax.swing.JFrame;&lt;br /&gt;import javax.swing.JLabel;&lt;br /&gt;import javax.swing.JOptionPane;&lt;br /&gt;import javax.swing.JPanel;&lt;br /&gt;import javax.swing.JTextField;&lt;br /&gt;&lt;br /&gt;import org.hibernate.Query;&lt;br /&gt;import org.hibernate.Session;&lt;br /&gt;import org.hibernate.Transaction;&lt;br /&gt;&lt;br /&gt;import dades.SessionFactoryUtil;&lt;br /&gt;import dades.Comarca;&lt;br /&gt;&lt;br /&gt;public class Manteniment_Comarques_Avançat_Pantalla extends JFrame implements ActionListener{&lt;br /&gt;    JLabel etIni= new JLabel(&quot;Manteniment de COMARQUES&quot;);&lt;br /&gt;    JLabel etNom= new JLabel(&quot;Nom comarca&quot;);&lt;br /&gt;    JLabel etProv= new JLabel(&quot;Nom província&quot;);&lt;br /&gt;    &lt;br /&gt;    JTextField nomComarca = new JTextField();&lt;br /&gt;    JTextField nomProvincia= new JTextField();&lt;br /&gt;    &lt;br /&gt;    JButton primer = new JButton(&quot;&amp;lt;&amp;lt;&quot;);&lt;br /&gt;    JButton anterior = new JButton(&quot;&amp;lt;&quot;);&lt;br /&gt;    JButton seguent = new JButton(&quot;&amp;gt;&quot;);&lt;br /&gt;    JButton ultim = new JButton(&quot;&amp;gt;&amp;gt;&quot;);&lt;br /&gt;    &lt;br /&gt;    JButton inserir = new JButton(&quot;Inserir&quot;);&lt;br /&gt;    JButton modificar = new JButton(&quot;Modificar&quot;);&lt;br /&gt;    JButton esborrar = new JButton(&quot;Esborrar&quot;);&lt;br /&gt;    &lt;br /&gt;    JButton acceptar = new JButton(&quot;Acceptar&quot;);&lt;br /&gt;    JButton cancelar = new JButton(&quot;Cancel·lar&quot;);&lt;br /&gt;    &lt;br /&gt;    JPanel pDalt = new JPanel(new FlowLayout());&lt;br /&gt;    JPanel pCentre = new JPanel(new GridLayout(8,0));&lt;br /&gt;    JPanel pDades = new JPanel(new GridLayout(2,2));&lt;br /&gt;    JPanel pBotonsMov = new JPanel(new FlowLayout());&lt;br /&gt;    JPanel pBotonsAct = new JPanel(new FlowLayout());&lt;br /&gt;    JPanel pBotonsAccCanc = new JPanel(new FlowLayout());&lt;br /&gt;    &lt;br /&gt;    Session s = SessionFactoryUtil.getSessionFactory().openSession();&lt;br /&gt;    &lt;br /&gt;    ArrayList&amp;lt;Comarca&amp;gt; llistaComarques = new ArrayList&amp;lt;Comarca&amp;gt;();&lt;br /&gt;    int indActual=0;&lt;br /&gt;    String accio=null;&lt;br /&gt;    &lt;br /&gt;    public void iniciar(){&lt;br /&gt;        this.setBounds(100, 100, 350, 400);&lt;br /&gt;        this.setLayout(new BorderLayout());&lt;br /&gt;        &lt;br /&gt;        this.getContentPane().add(pCentre, BorderLayout.CENTER);&lt;br /&gt;        this.getContentPane().add(new JPanel(new FlowLayout()), BorderLayout.WEST);&lt;br /&gt;        this.getContentPane().add(new JPanel(new FlowLayout()), BorderLayout.EAST);&lt;br /&gt;        &lt;br /&gt;        pDalt.add(etIni);        &lt;br /&gt;        pCentre.add(pDalt);&lt;br /&gt;                &lt;br /&gt;        pDades.add(etNom);&lt;br /&gt;        pDades.add(nomComarca);&lt;br /&gt;        pDades.add(etProv);&lt;br /&gt;        pDades.add(nomProvincia);&lt;br /&gt;        pCentre.add(pDades);&lt;br /&gt;        &lt;br /&gt;        nomComarca.setEditable(false);&lt;br /&gt;        nomProvincia.setEditable(false);&lt;br /&gt;&lt;br /&gt;        pCentre.add(new JPanel(new FlowLayout()));&lt;br /&gt;&lt;br /&gt;        pBotonsMov.add(primer);&lt;br /&gt;        pBotonsMov.add(anterior);&lt;br /&gt;        pBotonsMov.add(seguent);&lt;br /&gt;        pBotonsMov.add(ultim);&lt;br /&gt;        pCentre.add(pBotonsMov);&lt;br /&gt;        &lt;br /&gt;        pBotonsAct.add(inserir);&lt;br /&gt;        pBotonsAct.add(modificar);&lt;br /&gt;        pBotonsAct.add(esborrar);&lt;br /&gt;        pCentre.add(pBotonsAct);&lt;br /&gt;&lt;br /&gt;        pBotonsAccCanc.add(acceptar);&lt;br /&gt;        pBotonsAccCanc.add(cancelar);&lt;br /&gt;        pCentre.add(pBotonsAccCanc);&lt;br /&gt;        pBotonsAccCanc.setVisible(false);&lt;br /&gt;&lt;br /&gt;        pCentre.add(new JPanel(new FlowLayout()));&lt;br /&gt;&lt;br /&gt;        llistaComarques = agafarComarques();&lt;br /&gt;        visComarca(indActual);&lt;br /&gt;&lt;br /&gt;        this.setVisible(true);&lt;br /&gt;        this.setDefaultCloseOperation(EXIT_ON_CLOSE);&lt;br /&gt;        &lt;br /&gt;        primer.addActionListener(this);&lt;br /&gt;        anterior.addActionListener(this);&lt;br /&gt;        seguent.addActionListener(this);&lt;br /&gt;        ultim.addActionListener(this);&lt;br /&gt;&lt;br /&gt;        inserir.addActionListener(this);&lt;br /&gt;        modificar.addActionListener(this);&lt;br /&gt;        esborrar.addActionListener(this);&lt;br /&gt;&lt;br /&gt;        acceptar.addActionListener(this);&lt;br /&gt;        cancelar.addActionListener(this);&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private void visComarca(int index) {&lt;br /&gt;        // Mètode per a visualitzar la comarca marcada per l'índex que ve com a paràmetre&lt;br /&gt;        // Es pot aprofitar per a activar/desactivar els botons anterior i següent, si s'està en la primera o última comarca &lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private ArrayList&amp;lt;Comarca&amp;gt; agafarComarques() {&lt;br /&gt;        ArrayList&amp;lt;Comarca&amp;gt; llista = null;&lt;br /&gt;        // ací aniran les sentències per a omplir (i retornar) la llista de comarques&lt;br /&gt;        return llista;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    @Override&lt;br /&gt;    public void actionPerformed(ActionEvent e) {&lt;br /&gt;        //ací aniran les accions de moviment primer, anterior, següent i últim&lt;br /&gt;        if (e.getSource()==primer){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==anterior){&lt;br /&gt;        }&lt;br /&gt;        &lt;br /&gt;        if (e.getSource()==seguent){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==ultim){&lt;br /&gt;        }&lt;br /&gt;        &lt;br /&gt;        if (e.getSource()==inserir){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==modificar){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        if (e.getSource()==esborrar){&lt;br /&gt;        }&lt;br /&gt;        &lt;br /&gt;        if (e.getSource()==acceptar){&lt;br /&gt;        }&lt;br /&gt;        &lt;br /&gt;        if (e.getSource()==cancelar){&lt;br /&gt;        }       &lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private int BuscaCom(String text) {&lt;br /&gt;        // Busca la comarca passada com a paràmetre en llistaComarques, tornant el seu índex. Per a situar-se després d'una inserció.&lt;br /&gt;        int ind =0;&lt;br /&gt;        // Ací haurien d'anar les sentències&lt;br /&gt;        return ind;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    private void activarBotons(boolean b) {&lt;br /&gt;        //Mètode per activar o desactivar (segons el paràmetre) els botons de moviment i també els d'actualització&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3457"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="41_92_2.124"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="136">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="134"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex_5_5_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_Ex_5_5_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="c9e3605d0c6804585b3e145f81668cac"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="135"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3459"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="41_92_2.125"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="137">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="134"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex_5_5_2.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_Ex_5_5_2.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="5a9040adecb0c4991ca0d8e76a6df3c1"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="135"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="135"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="126"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="41"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="136"></reference>
            <reference key="137"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="138">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 5.6 (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="139">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="45_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="138"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Crea un projecte nou anomenat &lt;strong&gt;Tema5_&lt;/strong&gt;&lt;strong&gt;PostgreSQL_Autoescola&lt;/strong&gt;. Inclou el driver JDBC de PostgreSQL i la llibreria nostra d'Hibernate.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fes el mapatge de totes les taules&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;, situades en la Base de Dades &lt;strong&gt;autoescola&lt;/strong&gt; a la qual pot accedir l'usuari &lt;strong&gt;autoescola &lt;/strong&gt;(contrasenya &lt;strong&gt;autoescola&lt;/strong&gt;) i situada en el servidor de l'Institut &lt;strong&gt;&lt;/strong&gt;(&lt;strong&gt;89.36.214.106&lt;/strong&gt;). Guarda-les en un paquet anomenat &lt;strong&gt;dades&lt;/strong&gt;. El mapatge serà de 5 taules: &lt;strong&gt;ALUMNE, EXAMEN, PRACTIQUES, PROFESSOR i VEHICLE&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Crea't la classe &lt;strong&gt;SessionFactoryUtil&lt;/strong&gt;, que serà un &lt;strong&gt;singleton&lt;/strong&gt; per a poder crear una única SessionFactory. L'has d'utilitzar en totes les altres classes, sempre que et faça falta un SessionFactory. Ha d'estar en el mateix paquet &lt;strong&gt;dades&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;En un paquet anomenat &lt;strong&gt;Exercicis&lt;/strong&gt;, crea't la classe &lt;strong&gt;ConsultaAutoescola&lt;/strong&gt;, que serà un programa senzill que visualitzarà els professors de l'autoescola i els seus alumnes, ordenats pel nom del professor. Completarem la informació amb els quilòmetres realitzats pels alumnes en la totalitat de les seues pràctiques i el número d'exàmens que ha realitzat. El resultat seria aquest:&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T5_Ex6.png&quot; alt=&quot;&quot; width=&quot;550&quot; height=&quot;225&quot; /&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="3446"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="45_45_2.4"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="140">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="138"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T5_Ex6.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmp9rxdsE/T5_Ex6.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="38109e1ddc61642e7c635be96093c56d"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="139"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="139"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="5"></int>
              <string role="key" value="parentNode"></string>
              <reference key="124"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="45"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="124"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="140"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="22"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%205%3A%20Eines%20de%20mapatge%20Objecte-Relacional%20%28ORM%29:Exercicis"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
     </list>
    </dictionary>
   </instance>
   <unicode role="key" value="1"></unicode>
   <reference key="8"></reference>
   <unicode role="key" value="10"></unicode>
   <reference key="68"></reference>
   <unicode role="key" value="11"></unicode>
   <reference key="65"></reference>
   <unicode role="key" value="12"></unicode>
   <reference key="72"></reference>
   <unicode role="key" value="13"></unicode>
   <reference key="75"></reference>
   <unicode role="key" value="14"></unicode>
   <reference key="78"></reference>
   <unicode role="key" value="15"></unicode>
   <reference key="81"></reference>
   <unicode role="key" value="16"></unicode>
   <reference key="86"></reference>
   <unicode role="key" value="17"></unicode>
   <reference key="91"></reference>
   <unicode role="key" value="18"></unicode>
   <reference key="98"></reference>
   <unicode role="key" value="19"></unicode>
   <reference key="101"></reference>
   <unicode role="key" value="2"></unicode>
   <reference key="11"></reference>
   <unicode role="key" value="20"></unicode>
   <reference key="110"></reference>
   <unicode role="key" value="21"></unicode>
   <reference key="117"></reference>
   <unicode role="key" value="22"></unicode>
   <reference key="124"></reference>
   <unicode role="key" value="23"></unicode>
   <reference key="46"></reference>
   <unicode role="key" value="25"></unicode>
   <reference key="120"></reference>
   <unicode role="key" value="3"></unicode>
   <reference key="15"></reference>
   <unicode role="key" value="4"></unicode>
   <reference key="24"></reference>
   <unicode role="key" value="5"></unicode>
   <reference key="28"></reference>
   <unicode role="key" value="6"></unicode>
   <reference key="42"></reference>
   <unicode role="key" value="7"></unicode>
   <reference key="52"></reference>
   <unicode role="key" value="8"></unicode>
   <reference key="58"></reference>
   <unicode role="key" value="9"></unicode>
   <reference key="62"></reference>
  </dictionary>
  <string role="key" value="_objectives"></string>
  <unicode value=""></unicode>
  <string role="key" value="_preknowledge"></string>
  <unicode value=""></unicode>
  <string role="key" value="_templateFile"></string>
  <string value=""></string>
  <string role="key" value="backgroundImgTile"></string>
  <bool value="0"></bool>
  <string role="key" value="currentNode"></string>
  <reference key="4"></reference>
  <string role="key" value="dublinCore"></string>
  <instance class="exe.engine.package.DublinCore">
   <dictionary>
    <string role="key" value="contributors"></string>
    <unicode value=""></unicode>
    <string role="key" value="coverage"></string>
    <unicode value=""></unicode>
    <string role="key" value="creator"></string>
    <unicode value=""></unicode>
    <string role="key" value="date"></string>
    <unicode value=""></unicode>
    <string role="key" value="description"></string>
    <unicode value=""></unicode>
    <string role="key" value="format"></string>
    <unicode value=""></unicode>
    <string role="key" value="identifier"></string>
    <unicode value=""></unicode>
    <string role="key" value="language"></string>
    <unicode value="ca"></unicode>
    <string role="key" value="publisher"></string>
    <unicode value=""></unicode>
    <string role="key" value="relation"></string>
    <unicode value=""></unicode>
    <string role="key" value="rights"></string>
    <unicode value=""></unicode>
    <string role="key" value="source"></string>
    <unicode value=""></unicode>
    <string role="key" value="subject"></string>
    <unicode value=""></unicode>
    <string role="key" value="title"></string>
    <unicode value=""></unicode>
    <string role="key" value="type"></string>
    <unicode value=""></unicode>
   </dictionary>
  </instance>
  <string role="key" value="exe.engine.package.Package.persistenceVersion"></string>
  <int value="16"></int>
  <string role="key" value="exportMetadataType"></string>
  <string value="LOMES"></string>
  <string role="key" value="exportSource"></string>
  <bool value="1"></bool>
  <string role="key" value="footer"></string>
  <unicode value=""></unicode>
  <string role="key" value="isChanged"></string>
  <int value="1"></int>
  <string role="key" value="isLoading"></string>
  <bool value="0"></bool>
  <string role="key" value="license"></string>
  <unicode value="creative commons: attribution - non commercial - share alike 2.5"></unicode>
  <string role="key" value="lom"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="6069712f-d105-4b59-b1eb-cb68a07cb785"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="141">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-11-04"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="142">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="143">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOMv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="141"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="142"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="143"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOMv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <none></none>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="yes"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="lomEs"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list></list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list></list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list></list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <string value="6069712f-d105-4b59-b1eb-cb68a07cb785"></string>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Acc\xc3\xa9s a Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="144">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2014-11-04"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="145">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="146">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOM-ESv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="144"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="145"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="146"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOM-ESv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <instance class="exe.engine.lom.lomsubs.accessSub">
       <dictionary>
        <string role="key" value="accessType"></string>
        <instance class="exe.engine.lom.lomsubs.accessTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="uniqueElementName"></string>
          <string value="accessType"></string>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.accessTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="universal"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <string role="key" value="description"></string>
        <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list>
           <instance class="exe.engine.lom.lomsubs.LangStringSub">
            <dictionary>
             <string role="key" value="language"></string>
             <string value="ca"></string>
             <string role="key" value="valueOf_"></string>
             <unicode value="Per defecte"></unicode>
            </dictionary>
           </instance>
          </list>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="access"></string>
       </dictionary>
      </instance>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="copyrightAndOtherRestrictions"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.copyrightAndOtherRestrictionsValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="creative commons: attribution - non commercial - share alike"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <string value="rights"></string>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="mxmlforcemediaonly"></string>
  <bool value="0"></bool>
  <string role="key" value="mxmlheight"></string>
  <string value=""></string>
  <string role="key" value="mxmlprofilelist"></string>
  <string value=""></string>
  <string role="key" value="mxmlwidth"></string>
  <string value=""></string>
  <string role="key" value="release"></string>
  <string value="2.7"></string>
  <string role="key" value="resources"></string>
  <dictionary>
   <string role="key" value="0dc36982bfa09b5aefae05c3ba487d69"></string>
   <list>
    <reference key="93"></reference>
   </list>
   <string role="key" value="17b913376e162270f52c7ba05aa35b74"></string>
   <list>
    <reference key="48"></reference>
   </list>
   <string role="key" value="1e9f57b8c0f3b6a4b63877c9f51e2f04"></string>
   <list>
    <reference key="37"></reference>
   </list>
   <string role="key" value="213fea00550dd3f526577a8d563451ce"></string>
   <list>
    <reference key="43"></reference>
   </list>
   <string role="key" value="25a988aaa8843872bf1b65a682f487ec"></string>
   <list>
    <reference key="87"></reference>
   </list>
   <string role="key" value="2aae08983fce709a8fc192a708d91aaf"></string>
   <list>
    <reference key="55"></reference>
   </list>
   <string role="key" value="2e64371ec3d38608bd6d6356c92c0444"></string>
   <list>
    <reference key="12"></reference>
   </list>
   <string role="key" value="3192c3691ddd9931f64f10d6c0850ce8"></string>
   <list>
    <reference key="69"></reference>
   </list>
   <string role="key" value="34d7470b064b1fe62cb6cf1790881eca"></string>
   <list>
    <reference key="92"></reference>
   </list>
   <string role="key" value="352be3269f0ca5751b4cfdec5188a053"></string>
   <list>
    <reference key="29"></reference>
   </list>
   <string role="key" value="38109e1ddc61642e7c635be96093c56d"></string>
   <list>
    <reference key="140"></reference>
   </list>
   <string role="key" value="3d8521b70be772e84da45f5ebcd8d111"></string>
   <list>
    <reference key="47"></reference>
   </list>
   <string role="key" value="4249c31a5e8f508223ecabcb56b80df0"></string>
   <list>
    <reference key="127"></reference>
   </list>
   <string role="key" value="59ce0a5453cc581cac53207971385fdc"></string>
   <list>
    <reference key="39"></reference>
   </list>
   <string role="key" value="5a9040adecb0c4991ca0d8e76a6df3c1"></string>
   <list>
    <reference key="137"></reference>
   </list>
   <string role="key" value="67e02e4c435f74271a0d80d1b8b0f1db"></string>
   <list>
    <reference key="38"></reference>
   </list>
   <string role="key" value="69ba9fafa3999e53a8cbef9be727eadb"></string>
   <list>
    <reference key="59"></reference>
   </list>
   <string role="key" value="6b26675b320427c8895a0c57d22718e2"></string>
   <list>
    <reference key="30"></reference>
   </list>
   <string role="key" value="6ceee6325e528ae3c6453ca9aeac0d52"></string>
   <list>
    <reference key="53"></reference>
   </list>
   <string role="key" value="767aae92ea057ee1ae32516f21f878d8"></string>
   <list>
    <reference key="54"></reference>
   </list>
   <string role="key" value="7f988a543b6cccc5016464ce859e58aa"></string>
   <list>
    <reference key="5"></reference>
   </list>
   <string role="key" value="82de0249945d4068ef62df3e17cbf60b"></string>
   <list>
    <reference key="130"></reference>
   </list>
   <string role="key" value="8e8edf578fd58b9c582dcc04d62725a4"></string>
   <list>
    <reference key="121"></reference>
   </list>
   <string role="key" value="8f1f303fb89b6325ffb934266ea8bd6b"></string>
   <list>
    <reference key="36"></reference>
   </list>
   <string role="key" value="900ae3b78ba68d7783efff09702118c6"></string>
   <list>
    <reference key="88"></reference>
   </list>
   <string role="key" value="9d18f9be6de50f3df20d6406c3576984"></string>
   <list>
    <reference key="32"></reference>
   </list>
   <string role="key" value="b13142688b85fa534fc56cc156fc7221"></string>
   <list>
    <reference key="133"></reference>
   </list>
   <string role="key" value="ba3dc7fa54cdd5bf9773b465cc632f82"></string>
   <list>
    <reference key="49"></reference>
   </list>
   <string role="key" value="c01846a4e974bd8d947c44f1094b42c0"></string>
   <list>
    <reference key="25"></reference>
   </list>
   <string role="key" value="c9e3605d0c6804585b3e145f81668cac"></string>
   <list>
    <reference key="136"></reference>
   </list>
   <string role="key" value="d17e41f1b8d95c9043756058c8de97a1"></string>
   <list>
    <reference key="33"></reference>
   </list>
   <string role="key" value="e33fadb40ab468622a7ffd915bfc9ced"></string>
   <list>
    <reference key="31"></reference>
   </list>
  </dictionary>
  <string role="key" value="root"></string>
  <reference key="4"></reference>
  <string role="key" value="scolinks"></string>
  <bool value="0"></bool>
  <string role="key" value="scowsinglepage"></string>
  <bool value="0"></bool>
  <string role="key" value="scowwebsite"></string>
  <bool value="0"></bool>
  <string role="key" value="style"></string>
  <unicode value="caminas 3.1"></unicode>
  <string role="key" value="tempFile"></string>
  <bool value="0"></bool>
 </dictionary>
</instance>