<?xml version="1.0" encoding="utf-8"?>

<instance xmlns="http://www.exelearning.org/content/v0.3" reference="2" version="0.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemalocation="http://www.exelearning.org/content/v0.3 content.xsd" class="exe.engine.package.Package">
 <dictionary>
  <string role="key" value="_title"></string>
  <unicode value="Bases de Dades"></unicode>
  <string role="key" value="idevices"></string>
  <list></list>
  <string role="key" value="_addPagination"></string>
  <bool value="0"></bool>
  <string role="key" value="_addSearchBox"></string>
  <bool value="0"></bool>
  <string role="key" value="_author"></string>
  <unicode value="Àlvar Serrano Calduch"></unicode>
  <string role="key" value="_backgroundImg"></string>
  <unicode value=""></unicode>
  <string role="key" value="_contextMode"></string>
  <unicode value="presencial"></unicode>
  <string role="key" value="_contextPlace"></string>
  <unicode value="classroom"></unicode>
  <string role="key" value="_description"></string>
  <unicode value=""></unicode>
  <string role="key" value="_docType"></string>
  <unicode value="XHTML"></unicode>
  <string role="key" value="_exportElp"></string>
  <bool value="0"></bool>
  <string role="key" value="_extraHeadContent"></string>
  <unicode value=""></unicode>
  <string role="key" value="_fieldValidationInfo"></string>
  <dictionary>
   <unicode role="key" value="all"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_title"></unicode>
     <unicode value="pp_lang"></unicode>
     <unicode value="pp_description"></unicode>
     <unicode value="pp_author"></unicode>
     <unicode value="pp_newlicense"></unicode>
    </list>
   </dictionary>
   <unicode role="key" value="procomun"></unicode>
   <dictionary>
    <unicode role="key" value="mandatory_fields"></unicode>
    <list>
     <unicode value="pp_learningResourceType"></unicode>
    </list>
    <unicode role="key" value="values_from_list"></unicode>
    <dictionary>
     <unicode role="key" value="pp_learningResourceType"></unicode>
     <list>
      <unicode value="master class"></unicode>
      <unicode value="closed exercise or problem"></unicode>
      <unicode value="real project"></unicode>
      <unicode value="didactic game"></unicode>
      <unicode value="webquest"></unicode>
      <unicode value="open problem"></unicode>
      <unicode value="simulation"></unicode>
      <unicode value="questionnaire"></unicode>
      <unicode value="conceptual map"></unicode>
     </list>
    </dictionary>
   </dictionary>
  </dictionary>
  <string role="key" value="_intendedEndUserRoleGroup"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleTutor"></string>
  <bool value="0"></bool>
  <string role="key" value="_intendedEndUserRoleType"></string>
  <unicode value="learner"></unicode>
  <string role="key" value="_isChanged"></string>
  <bool value="0"></bool>
  <string role="key" value="_isTemplate"></string>
  <bool value="0"></bool>
  <string role="key" value="_lang"></string>
  <unicode value="ca"></unicode>
  <string role="key" value="_learningResourceType"></string>
  <unicode value=""></unicode>
  <string role="key" value="_levelNames"></string>
  <list>
   <unicode value="Tema"></unicode>
   <unicode value="Secció"></unicode>
   <unicode value="Apartat"></unicode>
  </list>
  <string role="key" value="_name"></string>
  <unicode value="AD_T7_BD_NoSQL"></unicode>
  <string role="key" value="_nextIdeviceId"></string>
  <int value="223"></int>
  <string role="key" value="_nextNodeId"></string>
  <int value="67"></int>
  <string role="key" value="_nodeIdDict"></string>
  <dictionary>
   <unicode role="key" value="0"></unicode>
   <instance class="exe.engine.node.Node" reference="4">
    <dictionary>
     <string role="key" value="_title"></string>
     <unicode value="Tema 7: Bases de Dades NoSQL"></unicode>
     <string role="key" value="idevices"></string>
     <list>
      <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="1">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Free Text"></unicode>
        <string role="key" value="_author"></string>
        <unicode value="University of Auckland"></unicode>
        <string role="key" value="_purpose"></string>
        <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
        <string role="key" value="_tip"></string>
        <string value=""></string>
        <string role="key" value="childs"></string>
        <list></list>
        <string role="key" value="content"></string>
        <instance class="exe.engine.field.TextAreaField" reference="3">
         <dictionary>
          <string role="key" value="_id"></string>
          <int value="85"></int>
          <string role="key" value="_idevice"></string>
          <reference key="1"></reference>
          <string role="key" value="_instruc"></string>
          <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
          <string role="key" value="_name"></string>
          <unicode value="Free Text"></unicode>
          <string role="key" value="anchor_names"></string>
          <list></list>
          <string role="key" value="anchors_linked_from_fields"></string>
          <dictionary></dictionary>
          <string role="key" value="buttonCaption"></string>
          <string value=""></string>
          <string role="key" value="content_w_resourcePaths"></string>
          <unicode content="true" value="&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_Portada.png&quot; height=&quot;500&quot; width=&quot;800&quot; /&gt;&lt;/p&gt;"></unicode>
          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
          <int value="4"></int>
          <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
          <int value="2"></int>
          <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
          <int value="3"></int>
          <string role="key" value="htmlTag"></string>
          <string value="div"></string>
          <string role="key" value="images"></string>
          <instance class="exe.engine.galleryidevice.GalleryImages">
           <dictionary>
            <string role="key" value=".listitems"></string>
            <list>
             <instance class="exe.engine.galleryidevice.GalleryImage">
              <dictionary>
               <string role="key" value="_caption"></string>
               <instance class="exe.engine.field.TextField">
                <dictionary>
                 <string role="key" value="_id"></string>
                 <int value="5397"></int>
                 <string role="key" value="_idevice"></string>
                 <none></none>
                 <string role="key" value="_instruc"></string>
                 <string value=""></string>
                 <string role="key" value="_name"></string>
                 <string value=""></string>
                 <string role="key" value="content"></string>
                 <string value=""></string>
                 <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                 <int value="4"></int>
                </dictionary>
               </instance>
               <string role="key" value="_id"></string>
               <unicode value="4_85.148"></unicode>
               <string role="key" value="_imageResource"></string>
               <instance class="exe.engine.resource.Resource" reference="5">
                <dictionary>
                 <string role="key" value="_idevice"></string>
                 <reference key="1"></reference>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="_storageName"></string>
                 <string value="T8_Portada.png"></string>
                 <string role="key" value="_userName"></string>
                 <string value="/tmp/tmpLb7sM2/T8_Portada.png"></string>
                 <string role="key" value="checksum"></string>
                 <string value="f94571662608286fb7b5e8ddf01e14b8"></string>
                 <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="warningMsg"></string>
                 <string value=""></string>
                </dictionary>
               </instance>
               <string role="key" value="_parent"></string>
               <reference key="3"></reference>
               <string role="key" value="_thumbnailResource"></string>
               <none></none>
               <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
               <int value="3"></int>
               <string role="key" value="makeThumbnail"></string>
               <bool value="0"></bool>
              </dictionary>
             </instance>
            </list>
            <string role="key" value="idevice"></string>
            <reference key="3"></reference>
           </dictionary>
          </instance>
          <string role="key" value="intlinks_to_anchors"></string>
          <dictionary></dictionary>
          <string role="key" value="nextImageId"></string>
          <int value="149"></int>
          <string role="key" value="parentNode"></string>
          <reference key="4"></reference>
         </dictionary>
        </instance>
        <string role="key" value="edit"></string>
        <bool value="0"></bool>
        <string role="key" value="emphasis"></string>
        <int value="0"></int>
        <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
        <int value="7"></int>
        <string role="key" value="icon"></string>
        <string value=""></string>
        <string role="key" value="id"></string>
        <unicode value="4"></unicode>
        <string role="key" value="lastIdevice"></string>
        <bool value="0"></bool>
        <string role="key" value="originalicon"></string>
        <string value=""></string>
        <string role="key" value="parent"></string>
        <none></none>
        <string role="key" value="parentNode"></string>
        <reference key="4"></reference>
        <string role="key" value="systemResources"></string>
        <list></list>
        <string role="key" value="type"></string>
        <none></none>
        <string role="key" value="undo"></string>
        <bool value="1"></bool>
        <string role="key" value="userResources"></string>
        <list>
         <reference key="5"></reference>
        </list>
        <string role="key" value="version"></string>
        <int value="0"></int>
       </dictionary>
      </instance>
     </list>
     <string role="key" value="_id"></string>
     <unicode value="0"></unicode>
     <string role="key" value="_package"></string>
     <reference key="2"></reference>
     <string role="key" value="anchor_fields"></string>
     <list></list>
     <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
     <int value="2"></int>
     <string role="key" value="exportType"></string>
     <string value="website"></string>
     <string role="key" value="last_full_node_path"></string>
     <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL"></string>
     <string role="key" value="parent"></string>
     <none></none>
     <string role="key" value="top_anchors_linked_from_fields"></string>
     <list></list>
     <string role="key" value="children"></string>
     <list>
      <instance class="exe.engine.node.Node" reference="8">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="1 - Introducció"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="6">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="7">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="6"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;En el tema 6 vam tenir el primer contacte amb les Bases de Dades NoSQL. En aquella ocasió es tractava de Bases de Dades Orientades a objectes, que ens permetien guardar els objectes de forma còmoda, i sense desfasament objecte-relacional, ja que el que guardàvem era directament objectes. Per contra, se'ns complicava la manera de fer consultes, ja que no disposàvem d'un llenguatge tan potent com el SQL.&lt;/p&gt;
&lt;p&gt;En el tema 8 tornarem a tenir un altre contacte amb les Bases de Dades per a guardar documents XML de forma eficient i poder recuperar posteriorment la informació, amb consultes potents. Concretament veurem eXist.&lt;/p&gt;
&lt;p&gt;Però en definitiva els anteriors no són més que dos aspectes concrets. El terme &lt;strong&gt;NoSQL&lt;/strong&gt; (Not Only SQL) és més extens. Són en definitiva Bases de Dades que no estan basades en el Model Relacional, i que en determinades ocasions poden ser més eficients que les Bases de Dades Relacionals precisament per fugir de la rigidesa que proporciona aquest model, amb dades tan ben estructurades. El terme clau és &quot;en determinades ocasions&quot;, és a dir, per a guardar un determinat tipus d'informació. Així ens trobarem distints tipus de Bases de Dades NoSQL, depenent del tipus d'informació que vulguen guardar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Bases de Dades Orientades a Objectes&lt;/strong&gt;, per a poder guardar objectes, com per exemple &lt;strong&gt;DB4O&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bases de Dades Orientades a Documents&lt;/strong&gt; (o simplement Bases de Dades Documentals), per a guardar documents de determinats tipus: XML, JSON, ... Per exemple &lt;strong&gt;eXist&lt;/strong&gt; que guarda documents XML, o &lt;strong&gt;MongoDB&lt;/strong&gt; que guarda la informació en un format similar a JSON. Menció especial farem de &lt;strong&gt;Firebase&lt;/strong&gt;, una Base de Dades que en temps real permet sincronitzar amb el núvol les dades locals. Utilitza també el format JSON.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bases de Dades Clau-Valor&lt;/strong&gt;, per a guardar informació de forma molt senzilla, guardant únicament la clau (el om de la propietat) i el seu valor&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bases de Dades Orientades a Grafs&lt;/strong&gt;, per a guardar estructures com els grafs, on hi ha una sèrie de nodes i arestes que comunicarien (relacionarien) els nodes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bases de Dades Orientades a Columna&lt;/strong&gt;, que té una estructura pareguda a les taules del Model Relacional, però orientat a les columnes (o famílies de columnes, de manera que un grup de columnes es guarda en el mateix lloc). Un exemple és &lt;strong&gt;Cassandra&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Altres tipus com les &lt;strong&gt;Bases de Dades Multivalor&lt;/strong&gt;, les &lt;strong&gt;Bases de Dades Tabulars&lt;/strong&gt;, ...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En aquest tema només veurem, a part de l'esmentada &lt;strong&gt;Firebase&lt;/strong&gt;, les Bases de Dades Clau-Valor, per la seua senzillesa, i una altra Base de Dades, &lt;strong&gt;MongoDB&lt;/strong&gt;, per la seua utilització actual.  Com que ja hem vist una Orientada a Objectes i en el tema següent veurem una Orientada a Documents XML, la visió global és suficientment extensa.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="7"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="8"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="0"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="8"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="1"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:1%20-%20Introducci%C3%B3"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="11">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="2 - Firebase"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="9">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="10">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="9"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Firebase&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Firebase&lt;/strong&gt; és un servei de backend, és a dir del costat del servidor, que ofereix la possibilitat de guardar les dades d'aplicacions web i de dispositius mòbils, amb la particularitat que en temps real es poden actualitzar les dades modificades des d'un dels clients connectats a tots els altres que estiguen connectats.&lt;/p&gt;
&lt;p&gt;Ofereix una sèrie de serveis, entre els quals podem destacar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Firebase Auth - Autenticació d'usuaris&lt;/strong&gt;: permet gestionar la validació d'usuaris còmodament. Inclou l'autenticació per mig de Facebook, GitHub, Twitter i Google, i també la validació utilitzant compte de correu, guardant-se la contrasenya en Firebase, amb la qual cosa ens allibera d'haver de guardar-les al nostre dispositiu.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Realtime Database - Base de Dades en Temps Real&lt;/strong&gt;: permet guardar unes dades en el núvol, que estaran sincronitzats en totes les aplicacions (clients) connectats. No és realment una Base de Dades, tan sols un document JSON.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloud Firestore&lt;/strong&gt;: és una evolució de l'anterior que ja sí que permet guardar col·leccions de document JSON, i per tant ja es pot considerar una Base de Dades.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Firebase Storage&lt;/strong&gt;: permet guardar arxius per a les nostres aplicacions, com poden ser audios, vídeos, imatges, ...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En aquest tema ens fixarem sobretot en el segon i tercer servei, els de Bases de Dades. Hem de recordar, que la &lt;strong&gt;Realtime Database &lt;/strong&gt;no és una Base de Dades completa. Tan sols és un document JSON el que podrem guardar, això sí, tan llarg com vulguem. Es tracta per tant d'una Base de Dades NoSQL, o millor dit una mini Base de Dades NoSQL. Això sí, que permet sincronitzar les dades en temps real en tots els dispositius connectats.&lt;/p&gt;
&lt;p&gt;En canvi el &lt;strong&gt;Cloud Firestore&lt;/strong&gt; sí que és una Base de Dades completa.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="10"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="4"></int>
             <string role="key" value="parentNode"></string>
             <reference key="11"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="153"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="11"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="37"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="14">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="2.1 Creació d'una aplicació"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="12">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="13">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="12"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;La Base de Dades, que hem quedat que poden ser un document únic JSON un el cas de Realtime Database, i tot un conjunt en el cas de Cloud Firestore, està associada a una aplicació. Crearem des de l'entorn de Firebase una nova aplicació, la referència de la qual és la que utilitzarem en l'aplicació web o aplicació mòbil. Així doncs, podem crear-nos unes quantes aplicacions Firebase, i en cadascuna guardarem una Base de Dades. Ens farà falta autenticar-nos amb un compte de Google. Utiilitzarem el compte corporatiu de l'IES El Caminàs, és a dir &lt;strong&gt;xxx@ieselcaminas.org&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;El procés de creació el farem des de l'entorn de firebase: &lt;a href=&quot;http://www.firebase.com&quot;&gt;www.firebase.com&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;El següent vídeo mostra el procés de creació d'una aplicació:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T7_Comencar_Firebase.1.swf&quot; width=&quot;1024&quot; height=&quot;630&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T7_Comencar_Firebase.1.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;En les últimes versions  de Firebase la primera vegada que s'accedeix a la Base de Dades Firebase acabada de crear, pregunta per les &lt;strong&gt;regles&lt;/strong&gt; (&lt;strong&gt;rules&lt;/strong&gt;) d'accés a aquesta. Inicialment triarem l'opció &lt;strong&gt;modo de prueba&lt;/strong&gt;, en el qual tot el món pot accedir a les dades. Evidentment no es poden deixar aquestes regles de forma definitiva, però per a començar a provar, està bé. De fet, en l'última versió ho deixarà en mode de prova durant un mes. De tota manera, si ho vulguérem allargar, aniríem a la configuració dels &lt;strong&gt;rules&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_1_1.png&quot; alt=&quot;&quot; width=&quot;687&quot; height=&quot;438&quot; /&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5372"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="156_85.129"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="15">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="12"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T7_2_1_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T7_2_1_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="54b532072cba1f4f7faad6ff4476fa1c"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="13"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5419"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="156_85.130"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="16">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="12"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T7_Comencar_Firebase.1.swf"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T7_Comencar_Firebase.1.swf"></string>
                       <string role="key" value="checksum"></string>
                       <string value="c57c8a910cf0025c191129860bce8333"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="13"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="13"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="131"></int>
                <string role="key" value="parentNode"></string>
                <reference key="14"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="156"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="14"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="15"></reference>
               <reference key="16"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="38"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.1%20Creaci%C3%B3%20d%27una%20aplicaci%C3%B3"></string>
           <string role="key" value="parent"></string>
           <reference key="11"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="19">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="2.2 Realtime Database (RD)"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="17">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="18">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="17"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;div class=&quot;iDevice emphasis0&quot; ondblclick=&quot;submitLink('edit', 177, 0);&quot;&gt;
&lt;div id=&quot;ta177_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p&gt;Encara que la finalitat és utilitzar-lo des del nostre entorn de programació, més concretament Android, sempre ens anirà bé &quot;tocar&quot; les dades directament des d'un entorn propi.&lt;/p&gt;
&lt;p&gt;L'entorn que ens ofereix &lt;strong&gt;Firebase&lt;/strong&gt; serà suficient. Podrem visualitzar les dades que tenim introduïdes en totes les nostres aplicacions, i també editar-les: introduir, modificar i esborrar.&lt;/p&gt;
&lt;p&gt;Recordem que podrem utilitzar 2 versions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Realtime Database&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloud Firestore&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="18"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="19"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="178"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="19"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="46"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29"></string>
           <string role="key" value="parent"></string>
           <reference key="11"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="22">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.2.1 RD: Utilització des de l'entorn de Firebase"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="20">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="21">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="20"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Farem especial menció al fet que el que guardem és un document JSON. Fins i tot ens el podrem baixar (exportar) o pujar un document nou (importar). Això sí, l'operació d'importació destrueix les dades anteriors, mostra de que només podem guardar un document JSON.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T7_Inserir_dades_Firebase.swf&quot; width=&quot;1024&quot; height=&quot;820&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T7_Inserir_dades_Firebase.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Aques és el contingut del fitxer &lt;strong&gt;Empleats.json&lt;/strong&gt; que s'introdueix en el vídeo. Està formatat per a una fàcil lectura, però en realitat no importaria que estiguera tot seguit.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;{&lt;br /&gt;  &quot;empresa&quot;: {&lt;br /&gt;    &quot;empleat&quot;: [&lt;br /&gt;      {&lt;br /&gt;        &quot;num&quot;: 1,&lt;br /&gt;        &quot;nom&quot;: &quot;Andreu&quot;,&lt;br /&gt;        &quot;departament&quot;: 10,&lt;br /&gt;        &quot;edat&quot;: 32,&lt;br /&gt;        &quot;sou&quot;: 1000&lt;br /&gt;      },&lt;br /&gt;      {&lt;br /&gt;        &quot;num&quot;: 2,&lt;br /&gt;        &quot;nom&quot;: &quot;Bernat&quot;,&lt;br /&gt;        &quot;departament&quot;: 20,&lt;br /&gt;        &quot;edat&quot;: 28,&lt;br /&gt;        &quot;sou&quot;: 1200&lt;br /&gt;      },&lt;br /&gt;      {&lt;br /&gt;        &quot;num&quot;: 3,&lt;br /&gt;        &quot;nom&quot;: &quot;Clàudia&quot;,&lt;br /&gt;        &quot;departament&quot;: 10,&lt;br /&gt;        &quot;edat&quot;: 26,&lt;br /&gt;        &quot;sou&quot;: 1100&lt;br /&gt;      },&lt;br /&gt;      {&lt;br /&gt;        &quot;num&quot;: 4,&lt;br /&gt;        &quot;nom&quot;: &quot;Damià&quot;,&lt;br /&gt;        &quot;departament&quot;: 10,&lt;br /&gt;        &quot;edat&quot;: 40,&lt;br /&gt;        &quot;sou&quot;: 1500&lt;br /&gt;      }&lt;br /&gt;    ]&lt;br /&gt;  }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Ja heu vist que en importar &lt;strong&gt;Empleats.json &lt;/strong&gt;s'han perdut les altres dades. Poseu una altra vegada la parella clau-valor &lt;strong&gt;a1&lt;/strong&gt; (per exemple amb el valor &lt;strong&gt;Hola&lt;/strong&gt;) ja que per ser molt senzilla l'estructura l'utilitzarem en alguns exemples. Així ens queda l'estructura per als posteriors exemples:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_1.png&quot; alt=&quot;&quot; width=&quot;938&quot; height=&quot;472&quot; /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list>
                      <instance class="exe.engine.galleryidevice.GalleryImage">
                       <dictionary>
                        <string role="key" value="_caption"></string>
                        <instance class="exe.engine.field.TextField">
                         <dictionary>
                          <string role="key" value="_id"></string>
                          <int value="5398"></int>
                          <string role="key" value="_idevice"></string>
                          <none></none>
                          <string role="key" value="_instruc"></string>
                          <string value=""></string>
                          <string role="key" value="_name"></string>
                          <string value=""></string>
                          <string role="key" value="content"></string>
                          <string value=""></string>
                          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                          <int value="4"></int>
                         </dictionary>
                        </instance>
                        <string role="key" value="_id"></string>
                        <unicode value="154_85.126"></unicode>
                        <string role="key" value="_imageResource"></string>
                        <instance class="exe.engine.resource.Resource" reference="23">
                         <dictionary>
                          <string role="key" value="_idevice"></string>
                          <reference key="20"></reference>
                          <string role="key" value="_package"></string>
                          <reference key="2"></reference>
                          <string role="key" value="_storageName"></string>
                          <string value="T7_2_2_1.png"></string>
                          <string role="key" value="_userName"></string>
                          <string value="/tmp/tmpLb7sM2/T7_2_2_1.png"></string>
                          <string role="key" value="checksum"></string>
                          <string value="d917bb1b0d299fbea5510f5479cdeeb4"></string>
                          <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="warningMsg"></string>
                          <string value=""></string>
                         </dictionary>
                        </instance>
                        <string role="key" value="_parent"></string>
                        <reference key="21"></reference>
                        <string role="key" value="_thumbnailResource"></string>
                        <none></none>
                        <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                        <int value="3"></int>
                        <string role="key" value="makeThumbnail"></string>
                        <bool value="0"></bool>
                       </dictionary>
                      </instance>
                      <instance class="exe.engine.galleryidevice.GalleryImage">
                       <dictionary>
                        <string role="key" value="_caption"></string>
                        <instance class="exe.engine.field.TextField">
                         <dictionary>
                          <string role="key" value="_id"></string>
                          <int value="5413"></int>
                          <string role="key" value="_idevice"></string>
                          <none></none>
                          <string role="key" value="_instruc"></string>
                          <string value=""></string>
                          <string role="key" value="_name"></string>
                          <string value=""></string>
                          <string role="key" value="content"></string>
                          <string value=""></string>
                          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                          <int value="4"></int>
                         </dictionary>
                        </instance>
                        <string role="key" value="_id"></string>
                        <unicode value="154_85.127"></unicode>
                        <string role="key" value="_imageResource"></string>
                        <instance class="exe.engine.resource.Resource" reference="24">
                         <dictionary>
                          <string role="key" value="_idevice"></string>
                          <reference key="20"></reference>
                          <string role="key" value="_package"></string>
                          <reference key="2"></reference>
                          <string role="key" value="_storageName"></string>
                          <string value="T7_Inserir_dades_Firebase.swf"></string>
                          <string role="key" value="_userName"></string>
                          <string value="/tmp/tmpLb7sM2/T7_Inserir_dades_Firebase.swf"></string>
                          <string role="key" value="checksum"></string>
                          <string value="261fabfc7482808e0713e15dc9172f5f"></string>
                          <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="warningMsg"></string>
                          <string value=""></string>
                         </dictionary>
                        </instance>
                        <string role="key" value="_parent"></string>
                        <reference key="21"></reference>
                        <string role="key" value="_thumbnailResource"></string>
                        <none></none>
                        <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                        <int value="3"></int>
                        <string role="key" value="makeThumbnail"></string>
                        <bool value="0"></bool>
                       </dictionary>
                      </instance>
                     </list>
                     <string role="key" value="idevice"></string>
                     <reference key="21"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="128"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="22"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="154"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="22"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list>
                  <reference key="23"></reference>
                  <reference key="24"></reference>
                 </list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="44"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.1%20RD%3A%20Utilitzaci%C3%B3%20des%20de%20l%27entorn%20de%20Firebase"></string>
              <string role="key" value="parent"></string>
              <reference key="19"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="27">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.2.2 RD: Utilització des de Java"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.jsidevice.JsIdevice" reference="25">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="_attributes"></string>
                 <list>
                  <tuple>
                   <string value="title"></string>
                   <list>
                    <string value="Title"></string>
                    <int value="0"></int>
                    <int value="0"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="category"></string>
                   <list>
                    <string value="Category"></string>
                    <int value="0"></int>
                    <int value="1"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="css-class"></string>
                   <list>
                    <string value="CSS class"></string>
                    <int value="0"></int>
                    <int value="2"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="icon"></string>
                   <list>
                    <string value="Icon"></string>
                    <int value="0"></int>
                    <int value="3"></int>
                   </list>
                  </tuple>
                 </list>
                 <string role="key" value="_author"></string>
                 <string value=""></string>
                 <string role="key" value="_editionFolder"></string>
                 <string value="text/edition/"></string>
                 <string role="key" value="_editionResources"></string>
                 <list>
                  <string value="text.js"></string>
                 </list>
                 <string role="key" value="_exportFolder"></string>
                 <none></none>
                 <string role="key" value="_exportResources"></string>
                 <list></list>
                 <string role="key" value="_iDeviceDir"></string>
                 <string value="text"></string>
                 <string role="key" value="_purpose"></string>
                 <string value=""></string>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="_valid"></string>
                 <bool value="1"></bool>
                 <string role="key" value="class_"></string>
                 <unicode value="text"></unicode>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                 <int value="1"></int>
                 <string role="key" value="fields"></string>
                 <list>
                  <instance class="exe.engine.field.TextAreaField" reference="26">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <unicode value="186_2"></unicode>
                    <string role="key" value="_idevice"></string>
                    <reference key="25"></reference>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="anchor_names"></string>
                    <list></list>
                    <string role="key" value="anchors_linked_from_fields"></string>
                    <dictionary></dictionary>
                    <string role="key" value="content_w_resourcePaths"></string>
                    <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;El nostre objectiu final d'accedir a Firebase serà des d'Android. Mirarem primer l'accés des de Java, que és l'entorn que utilitzem en el present mòdul. Passar després a Android serà una cosa senzilla.&lt;/p&gt;
&lt;p&gt;Per als exemples i exercicis d'aquesta part, ens crearem un projecte anomenat &lt;strong&gt;Tema7_1_Firebase&lt;/strong&gt;, amb els paquets &lt;strong&gt;Exemples_RealtimeDatabase&lt;/strong&gt;, &lt;strong&gt;Exemples_CloudFirestore&lt;/strong&gt; i &lt;strong&gt;Exercicis&lt;/strong&gt;.&lt;/p&gt;&lt;/div&gt;"></unicode>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                    <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                    <int value="3"></int>
                    <string role="key" value="htmlTag"></string>
                    <string value="div"></string>
                    <string role="key" value="images"></string>
                    <instance class="exe.engine.galleryidevice.GalleryImages">
                     <dictionary>
                      <string role="key" value=".listitems"></string>
                      <list></list>
                      <string role="key" value="idevice"></string>
                      <reference key="26"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="intlinks_to_anchors"></string>
                    <dictionary></dictionary>
                    <string role="key" value="nextImageId"></string>
                    <int value="0"></int>
                    <string role="key" value="parentNode"></string>
                    <reference key="27"></reference>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="icon"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="id"></string>
                 <unicode value="183"></unicode>
                 <string role="key" value="ideviceCategory"></string>
                 <unicode value="Text and Tasks"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="nextFieldId"></string>
                 <int value="3"></int>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parentNode"></string>
                 <reference key="27"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="42"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.2%20RD%3A%20Utilitzaci%C3%B3%20des%20de%20Java"></string>
              <string role="key" value="parent"></string>
              <reference key="19"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list>
               <instance class="exe.engine.node.Node" reference="30">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.2.1 RD-Java: Connexió des de Java"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="28">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="29">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="28"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Drivers necessaris&lt;/p&gt;
&lt;p&gt;L'accés des de Java a Firebase no és senzill. És més complicat que accedir des d'Android, en contra del que cabria esperar.&lt;/p&gt;
&lt;p&gt;Concretament ens haurem de baixar molts &lt;strong&gt;.jar&lt;/strong&gt;. En canvi en Android ho tindrem tot disponible, ja que els drivers estan incorporats.&lt;/p&gt;
&lt;p&gt;Són tants els drivers que ens construirem una llibreria per a poder incorporar-los després còmodament als nostres projectes. Ens els podem baixar des del següent enllaç: &lt;a href=&quot;https://jar-download.com/artifacts/com.google.firebase&quot;&gt;https://jar-download.com/artifacts/com.google.firebase&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_3_3_3_1.png&quot; alt=&quot;&quot; width=&quot;1159&quot; height=&quot;858&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Una vegada baixat i descomprimit el contingut en una carpeta, construiu-vos una llibreria anomenada &lt;strong&gt;Firebase&lt;/strong&gt; que incorpore tots els &lt;strong&gt;jar&lt;/strong&gt;.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Configuració&lt;/p&gt;
&lt;p&gt;El primer que hem de fer és preparar el nostre projecte per a que puga accedir a l'aplicació que hem creat en Firebase. En l'entron de Java ens baixarem un fitxer json on estarà la clau per a accedir a la nostra aplicació. Hem d'anar a la configuració del projecte:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_1_1.png&quot; alt=&quot;&quot; width=&quot;1351&quot; height=&quot;767&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I dins de la configuració anar a la pestanya &lt;strong&gt;Cuentas de servicio &lt;/strong&gt;(&lt;strong&gt;Service Accounts&lt;/strong&gt;). Ahí veurem uns exemples d'utilització (a nosaltres ens interessa &lt;strong&gt;Java&lt;/strong&gt;), i baix de tot un botó per a &lt;strong&gt;Generar una nova clau privada&lt;/strong&gt;:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_1_2.png&quot; alt=&quot;&quot; width=&quot;1346&quot; height=&quot;952&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ens baixarà un fitxer &lt;strong&gt;json&lt;/strong&gt; que&lt;strong&gt; haurem de guardar&lt;/strong&gt; a l'arrel del projecte. Després, com deia l'exemple, col·loquem el següent per a un accés correcte:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;FileInputStream serviceAccount = new FileInputStream(&lt;em&gt;nom_al_fitxer_json&lt;/em&gt;);

FirebaseOptions options = new FirebaseOptions.Builder()
		.setCredentials(GoogleCredentials.fromStream(serviceAccount))
		.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

FirebaseApp.initializeApp(options);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;No us oblideu de substituir el nom del fitxer json&lt;/strong&gt;. També heu de tenir en compte que &lt;strong&gt;la URL de la base de dades serà diferent per a cadascú de nosaltres&lt;/strong&gt;.&lt;/p&gt;
&lt;div id=&quot;ta162_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;Referència a la Base de Dades i a les dades concretes a les quals volem accedir&lt;/p&gt;
&lt;p&gt;Ens haurem de crear un objecte &lt;strong&gt;FirebaseDatabase&lt;/strong&gt;, que serà una referència a tota la Base de Dades:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;FirebaseDatabase database = FirebaseDatabase.&lt;span style=&quot;font-style: italic;&quot;&gt;getInstance&lt;/span&gt;();&lt;/pre&gt;
&lt;p&gt;A partir d'ella podríem fer referència a una parella clau-valor que estiga a l'arrel, com quan havíem creat &lt;strong&gt;a1 &lt;/strong&gt;( però recordeu que ara no existeix):&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference refA1 = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;a1&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;p&gt;observeu com no és cap impediment que ens toque definir-la com a &lt;strong&gt;final&lt;/strong&gt;, ja que aquesta referència no ha de canviar en cap moment després d'inicialitzar-la. Si que podem fer canviar el seu valor, però la referència sempre ha d'apuntar al mateix lloc.&lt;/p&gt;
&lt;p&gt;També podríem fer referència a una parella clau-valor que no estiga en l'arrel de la Base de Dades. Senzillament posaríem la ruta des de l'arrel. Per exemple, per a accedir al nom del primer empleat de l'empresa que tenim guardat, ho faríem així:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference empleat1 = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;empresa/empleat/0/nom&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;p&gt;En els casos anteriors hem optat per agafar parelles clau-valor, bé a l'arrel o més cap a dins de l'estructura JSON. Però en definitiva és una parella clau-valor.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;També podem optar per agafar l'estructura JSON i treballar amb ella, com vam fer en el Tema 3, quan vam treballar amb l'estructura JSON.&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference empresa = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;empresa&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;p&gt;D'aquesta manera, en la qual agafem tota l'estructura, tindrem dues maneres de treballar posteriorment per a accedir més avall en l'estructura:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Passar-lo a objectes i arrays de JSON, i treballar com vam fer en el Tema 3. Molt còmode, sobretot quan es tracta d'operacions de lectura&lt;/li&gt;
&lt;li&gt;Treballar directament amb mètodes de Firebase que ens permeten accedir bé a tots els fills d'una estructura, bé a un fill en concret&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ho mostrarem en els exemples posteriors.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div id=&quot;ta163_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta164_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5392"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="168_85.281"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="31">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="28"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_3_3_3_1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_3_3_3_1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="696223cc43f7a9c2b284e5e26eefad42"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="29"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5396"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="168_85.282"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="32">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="28"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_2_1_1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_2_1_1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="254720187b887d1069d79d15a6d73e69"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="29"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5423"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="168_85.283"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="33">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="28"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_2_1_2.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_2_1_2.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="1f40c2ee9c34df625f74de39b41cf65b"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="29"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                        </list>
                        <string role="key" value="idevice"></string>
                        <reference key="29"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="284"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="30"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="168"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="30"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="31"></reference>
                     <reference key="32"></reference>
                     <reference key="33"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="52"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.2%20RD%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.2.2.1%20RD-Java%3A%20Connexi%C3%B3%20des%20de%20Java"></string>
                 <string role="key" value="parent"></string>
                 <reference key="27"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="36">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.2.2 RD-Java: Accés a les dades"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="34">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="35">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="185_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="34"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Guardar dades&lt;/p&gt;
&lt;p&gt;Disposem del mètode &lt;strong&gt;setValue()&lt;/strong&gt; de la referència a la dada a la que volem accedir. Accepta 2 paràmetres:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El primer és el valor que volem introduir.&lt;/li&gt;
&lt;li&gt;El segon és un listener per a poder sincronitzar. Ens farà falta sincronitzar únicament en els programes mode text senzills que fem. Quan fem els gràfics no ens farà falta, i posarem &lt;strong&gt;null&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si per exemple vulguérem guardar en la variable &lt;strong&gt;a1&lt;/strong&gt;, de forma senzilla ho faríem així (ens funcionaria en els gràfics):&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #660e7a;&quot;&gt;refA1&lt;/span&gt;.setValue(&lt;span style=&quot;color: #660e7a;&quot;&gt;&quot;Valor per a a1&quot;&lt;/span&gt;, null);&lt;/pre&gt;
&lt;p&gt;En l'operació de guardar si la parella clau-valor on es va a guardar existia, doncs modificarà el valor. I si no existia, la crearà.&lt;/p&gt;
&lt;p&gt;En el cas que vulguem guardar no en l'arrel, sinó més avall en l'estructura JSON, disposem del mètode &lt;strong&gt;child()&lt;/strong&gt;, que ens permet anar a un determinat fill, a l'estil de la segona manera descrita en el subpunt anterior. Per exemple si vulguérem canviar l'edat del primer empleat, l'estructura per a arribar seria:&lt;strong&gt; empresa --&amp;gt; empleat --&amp;gt; 0 --&amp;gt; edat&lt;/strong&gt;&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;background-color: #e4e4ff;&quot;&gt;empresa&lt;/span&gt;.child(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;empleat&quot;&lt;/span&gt;).child(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;0&quot;&lt;/span&gt;).child(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;edat&quot;&lt;/span&gt;).setValue(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;33&quot;&lt;/span&gt;, null);&lt;/pre&gt;
&lt;p&gt;Si no existia abans qualsevol dels nodes de l'estructura, el crearà. Fins i tot, si no existira abans de la sentència anterior &lt;strong&gt;empresa&lt;/strong&gt;, doncs crearia &lt;strong&gt;empresa&lt;/strong&gt;, i dins d'ell &lt;strong&gt;empleat&lt;/strong&gt;, i dins d'ell &lt;strong&gt;0&lt;/strong&gt;, i dins d'ell &lt;strong&gt;edat&lt;/strong&gt;, amb el valor 33.&lt;/p&gt;
&lt;p&gt;També podríem guardar tot un objecte, i es convertirà en estructura JSON, però ens ho deixem per a més avant.&lt;/p&gt;
&lt;p&gt;Però com havíem dit abans, s'ha de sincronitzar amb Firebase, des del programa Java ens hem d'esperar a aquesta sincronització, si no no ens funcionarà. En el segon paràmetre ens posem un &lt;strong&gt;listener&lt;/strong&gt;. Aquest exemple ja està complet:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.FileInputStream;
import java.io.IOException;
import java.util.concurrent.CountDownLatch;

import com.google.auth.oauth2.GoogleCredentials;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;

public class ProvaFirebaseGuardar {

	public static void main(String[] args) throws InterruptedException, IOException {
		FileInputStream serviceAccount = new FileInputStream(&quot;&lt;strong&gt;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&lt;/strong&gt;&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://acces-a-dades-&lt;strong&gt;6e5a6&lt;/strong&gt;.firebaseio.com&quot;).build();

		FirebaseApp.initializeApp(options);

		final DatabaseReference empresa = FirebaseDatabase.getInstance().getReference(&quot;empresa&quot;);

		CountDownLatch done = new CountDownLatch(1);
		empresa.child(&quot;empleat&quot;).child(&quot;0&quot;).child(&quot;edat&quot;).setValue(&quot;33&quot;, new DatabaseReference.CompletionListener() {
			@Override
			public void onComplete(DatabaseError de, DatabaseReference dr) {
				done.countDown();
			}
		});
		done.await();
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Recordeu que heu de canviar el &lt;strong&gt;nom del fitxer json&lt;/strong&gt; i la &lt;strong&gt;URL&lt;/strong&gt; per les vostres.&lt;/p&gt;
&lt;p&gt;I aquest és el resultat d'executar-lo. A la dreta podem veure com s'està modificant la dada que preteníem:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_3_3.1.png&quot; alt=&quot;&quot; width=&quot;1440&quot; height=&quot;900&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Però com comentàvem, en el cas de les aplicacions gràfiques resulta més senzill, ja que no haurem d'esperar expressament a la sincronització, sinó que l'aplicació es queda en marxa, i per tant no hi haurà problema.&lt;/p&gt;
&lt;p&gt;Ho practicarem en un exemple nou, on arribarem a construir un Xat, i ens servirà per a practicar totes les coses que us volem mostrar en Realtme Database de Firebase.&lt;/p&gt;
&lt;p&gt;Aquest és l'esquelet del programa:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileInputStream;
import java.io.IOException;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import com.google.auth.oauth2.GoogleCredentials;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.database.ChildEventListener;
import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.database.ValueEventListener;

public class Pantalla_CrearXat extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;
	JLabel etUltimMissatge= new JLabel(&quot;Últim missatge: &quot;);
	JLabel ultimMissatge= new JLabel();
	
	JLabel etiqueta = new JLabel(&quot;Missatges:&quot;);
	JTextArea area = new JTextArea();

	JLabel etIntroduccioMissatge = new JLabel(&quot;Introdueix missatge:&quot;);
	JButton enviar = new JButton(&quot;Enviar&quot;);
	JTextField missatge = new JTextField(15);

	// en iniciar posem un contenidor per als elements anteriors
	public void iniciar() throws IOException {
		JFrame pantPrincipal = this;
		this.setBounds(100, 100, 450, 300);
		this.setLayout(new BorderLayout());
		// contenidor per als elements
		//Hi haurà títol. Panell de dalt: últim missatge. Panell de baix: per a introduir missatge. Panell central: tot el xat
		
		JPanel panell1 = new JPanel(new FlowLayout());
		panell1.add(etUltimMissatge);
		panell1.add(ultimMissatge);
		getContentPane().add(panell1, BorderLayout.NORTH);

		JPanel panell2 = new JPanel(new BorderLayout());
		panell2.add(etiqueta, BorderLayout.NORTH);
		area.setForeground(Color.blue);
		JScrollPane scroll = new JScrollPane(area);
		panell2.add(scroll, BorderLayout.CENTER);
		getContentPane().add(panell2, BorderLayout.CENTER);
		
		JPanel panell3 = new JPanel(new FlowLayout());
		panell3.add(etIntroduccioMissatge);
		panell3.add(missatge);
		panell3.add(enviar);
		getContentPane().add(panell3, BorderLayout.SOUTH);

		setVisible(true);
		enviar.addActionListener(this);

		FileInputStream serviceAccount = new FileInputStream(&quot;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

		FirebaseApp.initializeApp(options);

		// Exemple de listener de lectura única addListenerForSingleValue()
		// Per a posar el títol. Sobre nomXat
		
		// Exemple de listener de lectura contínua addValueEventListener()
		// Per a posar l'últim missatge registrat. Sobre a1
		
		// Exemple de listener d'una llista addChildEventListener()
		// Per a posar tota la llista de missatges. Sobre xat

	}

	@Override


public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades sense haver d'esperar per ser una aplicació gràfica
			// Per a guardar dades. Sobre a1, i despŕes sobre la llista xat
&lt;br /&gt;		}
	}

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&quot;ta164_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p&gt;Recordeu que heu de canviar el &lt;strong&gt;nom del fitxer json&lt;/strong&gt; i la &lt;strong&gt;URL&lt;/strong&gt; per les vostres. Ho podeu copiar de l'exemple anterior&lt;/p&gt;
&lt;p&gt;I aquest és el programa principal:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.IOException;

public class CrearXat {

    public static void main(String[] args) throws IOException {
        final Pantalla_CrearXat finestra = new Pantalla_CrearXat();
        finestra.iniciar();
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Observeu que ja tenim col·locades en l'anterior programa les dades de connexió:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		FileInputStream serviceAccount = new FileInputStream(&quot;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

		FirebaseApp.initializeApp(options);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I torne a insistir en què heu de &lt;strong&gt;canviar la referència al fitxer JSON i la URL&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Per a guardar les dades, en aquest exemple de moment guardarem en la clau de Firebase &lt;strong&gt;a1&lt;/strong&gt; en el moment de apretar el botó de baix d'&lt;strong&gt;Enviar&lt;/strong&gt;. No farà falta muntar cap listener per veure si ja hem acabat, ja que el programa continua en marxa.&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades sense haver d'esperar per ser una aplicació gràfica
			// Per a guardar dades. Sobre a1, i despŕes sobre la llista xat
			final DatabaseReference refA1 = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);
			refA1.setValue(missatge.getText(), null);
		}
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Observeu que ara queda molt senzilla la sentència de guardar, i no ha fet falta ficar cap listener en el segon paràmetre, sinó &lt;strong&gt;null&lt;/strong&gt;, per estar en una aplicació gràfica:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;&lt;strong&gt;refA1.setValue(missatge.getText(), null);&lt;/strong&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;El resultat seria aquest, on es veu la modificació de la dada que volíem:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_2.png&quot; alt=&quot;&quot; width=&quot;1329&quot; height=&quot;738&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5404"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="180_185_2.59"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="37">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="34"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3.1.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3.1.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="d98764db55aeef003a6bd918042a51db"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="35"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5418"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="180_185_2.60"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="38">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="34"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_2.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_2.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="8ec7af30ccfb77e0dd97c5a7b74886fe"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="35"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="35"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="61"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="36"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="180"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="36"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="37"></reference>
                     <reference key="38"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="39">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="40">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="187_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="39"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Recuperar dades&lt;/p&gt;
&lt;p&gt;La lectura de dades és més complicada que l'escriptura. És en bona part per culpa de la &quot;sincronització&quot; de les dades que obtenim. Per això no existeix un mètode tan senzill com el &lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;strong&gt;getValue()&lt;/strong&gt;&lt;/span&gt;. La lectura s'ha de muntar sempre amb &lt;strong&gt; Listeners&lt;/strong&gt;, que es queden escoltant si hi ha alguna actualització de la dada registrada. Recordeu que és de la dada registrada, no de tota la Base de Dades.&lt;/p&gt;
&lt;p&gt;Podem muntar dos tipus de Listeners, però el seu funcionament serà similar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Els que només escolten per a llegir les dades al principi, i no esperaran per a posteriors canvis en les dades (i per tant no consumiran tants recursos): &lt;strong&gt;addListenerForSingleValueEvent()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Els que es queden escoltant tota l'estona: &lt;strong&gt;addValueEventListener()&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En ambdos casos obtenim com a paràmetre un &lt;strong&gt;Data&lt;/strong&gt;&lt;strong&gt;Snapshot&lt;/strong&gt; (còpia) de la dada registrada. I d'aquest tipus, &lt;strong&gt;DataSnapshot&lt;/strong&gt;, sí que tenim el mètode &lt;strong&gt;getValue()&lt;/strong&gt; per a accedir a la dada. Ambdós tipus de Listeners tenen un tractament absolutament similar, únicament amb la diferència abans esmentada que el segon està sempre escoltant, i el primer només escolta una vegada al principi.&lt;/p&gt;
&lt;p&gt;El mètode &lt;strong&gt;getValue()&lt;/strong&gt; admet un paràmetre que serà la classe del tipus que volem obtenir. Podem posar les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;String.class&lt;/strong&gt;, i aleshores el que obtenim s'interpretarà com un String&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Double.class&lt;/strong&gt;, i s'interpretarà com un número real de doble precisió&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Boolean.class&lt;/strong&gt;, i s'interptretaràcom un valor booleà&lt;/li&gt;
&lt;li&gt;També es poden posar classes per a obtenir tot un objecte (Map) i per a una llista (List). Fins i tot es podria arribar a posar una classe definida per nosaltres. Però amb els anteriors nosaltres en tindrem prou&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;addListenerForSingleValue()&lt;/h2&gt;
&lt;p&gt;En aquest primer exemple anem a agafar una única vegada la dada que ens interessa, i per tant  utilitzarem &lt;strong&gt;addListenerForSingleValueEvent()&lt;/strong&gt;. Ens servirà per a posar el títol de l'aplicació, i ho farem consultant la clau &lt;strong&gt;nomXat &lt;/strong&gt;que haurà d'estar creada prèviament des del mateix entorn de Firebase.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_2_2_2_3.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;1328&quot; height=&quot;737&quot; /&gt;&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;/pre&gt;
&lt;p&gt;Modificarem el fragment de programa marcat pel comentari, i el que fem és esperar per a llegir només una vegada.&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener de lectura única addListenerForSingleValue()
		// Per a posar el títol. Sobre nomXat
		final DatabaseReference nomXat = FirebaseDatabase.getInstance().getReference(&quot;nomXat&quot;);

		nomXat.addListenerForSingleValueEvent(new ValueEventListener() {
			@Override
			public void onDataChange(DataSnapshot dataSnapshot) {
				pantPrincipal.setTitle(dataSnapshot.getValue(String.class));
			}

			@Override
			public void onCancelled(DatabaseError error) {
			}
		});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aquest és el resultat, i quan l'executeu observareu que tarda un poc en mostrar el títol. És perquè ho està llegint de Firebase.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_2_2_2_4.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;450&quot; height=&quot;300&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;addValueEventListener()&lt;/h2&gt;
&lt;p&gt;Anem a veure ara un exemple per a l'altre mètode, el &lt;strong&gt;addValueEventListener()&lt;/strong&gt;, que és el que es queda escoltant tota la estona&lt;/p&gt;
&lt;p&gt;Concretarem el que farem és escoltar  tota la estona per si es produeix algun canvi en la clau &lt;strong&gt;a1&lt;/strong&gt;. Si es produeix aquest canvi, modificarà el valor del JLabel &lt;strong&gt;ultimMissatge &lt;/strong&gt;que està dalt.&lt;/p&gt;
&lt;p&gt;També afegirem el missatge al JTextArea, per a que tinga apariència de xat, encara que després ho modificarem per a millorar-ho. Ho hem de col·locar on està marcat pel comentari&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener de lectura contínua addValueEventListener()
		// Per a posar l'últim missatge registrat. Sobre a1
		final DatabaseReference ultim = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);

		ultim.addValueEventListener(new ValueEventListener() {
			@Override
			public void onDataChange(DataSnapshot dataSnapshot) {
				ultimMissatge.setText(dataSnapshot.getValue(String.class));
				area.append(dataSnapshot.getValue(String.class) + &quot;\n&quot;);  // aquesta línia després la llevarem
			}

			@Override
			public void onCancelled(DatabaseError error) {
			}
		});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;L'execució serà com la de la pantalla de dalt a l'esquerra. Però si es produeix algun canvi (com es mostra en la pantalla de la dreta), aquest canvi es reflectirà automàticament tant en el JLabel de dalt com en el TextArea, tal i com es mostra en la imatge de baix a l'esquerra:&lt;/p&gt;
&lt;table style=&quot;width: 100%;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_2_2_2_6.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;300&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_2_2_2_8.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;300&quot; /&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;td&gt;&lt;img src=&quot;resources/T7_2_2_2_2_7.png&quot; alt=&quot;&quot; width=&quot;1319&quot; height=&quot;733&quot; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Com veieu ha estat molt fàcil construir una espècie de xat. Ara millorarem aquest xat.&lt;/p&gt;
&lt;p&gt;Això sí, una vegada està en marxa el programeta del xat, per més que canviem &lt;strong&gt;nomXat&lt;/strong&gt;, que es traslladava al títol de la finestra, aquest títol ja &lt;strong&gt;no canviarà&lt;/strong&gt; perquè recordem que es feia una única lectura&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_8_5.png&quot; alt=&quot;&quot; width=&quot;1025&quot; height=&quot;800&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5366"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.177"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="41">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_6.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_6.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="6ba60e73684cf1748f9fee8d509514b1"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5382"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.178"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="42">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_7.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_7.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="b59fdbc11babc86ebe58a4bdd4e541ea"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5403"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.179"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="43">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_8.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_8.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="a3215dcc0649adc637e2415d53f1799f"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5410"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.180"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="44">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_8_5.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_8_5.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="7378c6842569e29c2560c8f0861cab93"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5412"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.181"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="45">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_3.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_3.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="b5c7f0a5f4ce6b105be633f3211dde64"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5427"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="185_187_2.182"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="46">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="39"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_4.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_4.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="fde357eb0df7ca1c99444373564374f9"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="40"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="40"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="183"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="36"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="185"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="36"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="41"></reference>
                     <reference key="42"></reference>
                     <reference key="43"></reference>
                     <reference key="44"></reference>
                     <reference key="45"></reference>
                     <reference key="46"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="47">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="48">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="187_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="47"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Tractament de llistes&lt;/p&gt;
&lt;p&gt;Per a explicar millor el tractament de llistes, crearem una altra referència a una clau que representarà una llista de missatges. Cada missatge constarà d'un nom i un contingut, i així vuerem també el tractament d'objectes.&lt;/p&gt;
&lt;p&gt;El primer que ens haurem de definir és la referència a aquesta nova clau, que l'anomenarem &lt;strong&gt;xat&lt;/strong&gt; (no està creada encara en la Base de Dades).&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;xat&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;p&gt;Anar afegint elements a la llista, ho podem fer a mà, posant nosaltres l'índex, ja que hem vist que la manera de representar en Firebase una llista són fills únicament amb clau, que seria el subíndex.&lt;/p&gt;
&lt;p&gt;Per tant una manera d'afegir el primer missatge del xat, seria amb l'índex 0. Posem aquest codi quan apretem el botó (no hem llevat de moment el fet de guardar en &lt;strong&gt;a1&lt;/strong&gt;, per a que mentre fem les proves es veja tot el xat):&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades sense haver d'esperar per ser una aplicació gràfica
			// Per a guardar dades. Sobre a1, i despŕes sobre la llista xat
			final DatabaseReference refA1 = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);
			refA1.setValue(missatge.getText(), null);
			final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;); 
			xat.child(&quot;0&quot;).child(&quot;nom&quot;).setValue(&quot;Usuari1&quot;,null); 
			xat.child(&quot;0&quot;).child(&quot;contingut&quot;).setValue(missatge.getText(),null);
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Quan apretem s'actualitzarà la Base de Dades d'aquesta manera:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_9.png&quot; alt=&quot;&quot; width=&quot;587&quot; height=&quot;377&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Però aquesta manera d'introduir en la llista acaba per ser molt poc pràctica. Si ara anàrem a introduir un segon missatge (nom i contingut) li hauríem de posar com a índex 1. No és viable.&lt;/p&gt;
&lt;p&gt;Podríem dur 2 polítiques per a gestionar els índex:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Podríem portar un comptador per a saber quin índex toca inserir en cada moment, cosa també molt poc pràctica perquè si l'aplicació està instal·lada en més d'un dispositiu, podria haver col·lisió en el número d'índex.&lt;/li&gt;
&lt;li&gt;Podríem mirar quin és l'últim índex introduït, per a incrementar-lo en una unitat. Però açò suposa llegir de la Base de Dades, i com hem vist abans suposarà muntar un Listener, segurament dels d'un únic ús. Per tant se'ns complic la cosa. Es pot fer, però no és còmode.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per a estalviar-nos aquesta feina, Firebase ens proporciona un métode per a afegir un nou element a una llista, el mètode &lt;strong&gt;push()&lt;/strong&gt;. Introdueix un nou element a la llista, i li posa com a índex un numero generat de manera que no es repetirà mai. L'única preocupació que hem de tenir és guardar aquest índex (amb &lt;strong&gt;getKey()&lt;/strong&gt;), per a poder posar-lo com a clau.&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades sense haver d'esperar per ser una aplicació gràfica
			// Per a guardar dades. Sobre a1, i despŕes sobre la llista xat
			final DatabaseReference refA1 = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);
			refA1.setValue(missatge.getText(), null);
			final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);
			String clau = xat.push().getKey(); 
			xat.child(clau).child(&quot;nom&quot;).setValue(&quot;Usuari1&quot;,null); 
			xat.child(clau).child(&quot;contingut&quot;).setValue(missatge.getText(),null);
		}
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I el resultat és aquest:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_10.png&quot; alt=&quot;&quot; width=&quot;552&quot; height=&quot;441&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Com veiem és una cadena molt llarga que no és repetirà mai.&lt;/p&gt;
&lt;p&gt;Anem a fer una tercera inserció d'un missatge, però ara ho completarem més, i solucionarem de pas algun problemeta que podíem haver tingut.&lt;/p&gt;
&lt;p&gt;Crearem una classe anomenada &lt;strong&gt;Missatge&lt;/strong&gt;, que inclourà les propietats &lt;strong&gt;nom&lt;/strong&gt; i &lt;strong&gt;contingut&lt;/strong&gt;. Crearem un objecte &lt;strong&gt;Missatge &lt;/strong&gt;amb uns nous valors, i veurem que el podem guardar perfectament. Per a aquest exemple segurament no valdria la pena l'esforç, però es pot veure la utilitat per a objectes més complexos.&lt;/p&gt;
&lt;p&gt;Primer definim la classe. El millor és que el guardem com una classe nova, és a dir com a &lt;strong&gt;Missatge.java &lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public class &lt;/span&gt;Missatge{&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(){&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(String nom,String cont){&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;=nom;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;=cont;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;
&lt;p&gt;Millor tenir també els &lt;strong&gt;getters&lt;/strong&gt; i &lt;strong&gt;setters&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Per a guardar, col·locaríem aquestes sentències entre les accions del clic del botó, com en les altres ocasions. Observeu com ara ni tan sols ens fa falta guardar en una variable el &lt;strong&gt;getKey()&lt;/strong&gt;, ja que es fa tot només en una operació:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			final DatabaseReference refA1 = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);
			refA1.setValue(missatge.getText(), null);
			final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);
			Missatge m = new Missatge(&quot;Usuari1&quot;,missatge.getText());
			xat.push().setValue(m,null);
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;El resultat seria el mateix que en l'ocasió anterior:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_11.png&quot; alt=&quot;&quot; width=&quot;604&quot; height=&quot;525&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ara només ens falta el tractament de lectura de les llistes.&lt;/p&gt;
&lt;h2&gt;addChildEventListener()&lt;/h2&gt;
&lt;p&gt;Podríem muntar un Listener com en les altres ocasions, però ara disposarem d'uns altres Listeners que se'ns acoplen millor ja que s'activen quan hi ha modificacions en algun element de la llista. En l'exemple només utilitzarem el de creació d'un nou element, però com veurem també podríem utilitzar els moments de supressió o modificació d'elements.&lt;/p&gt;
&lt;p&gt;Es tracta del Listener &lt;strong&gt;ChildEventListener&lt;/strong&gt;, i hem d'utilitzar el mètode &lt;strong&gt;addChildEventListener()&lt;/strong&gt; sobre la llista. Voldrà la implementació dels mètodes: &lt;strong&gt;onChildAdded()&lt;/strong&gt;, &lt;strong&gt;onChildChanged()&lt;/strong&gt;, &lt;strong&gt;onChildRemoved()&lt;/strong&gt; i &lt;strong&gt;onChildMoved()&lt;/strong&gt;. Però com comentàvem ara només utilitzarem la de creació d'un nou element, i senzillament el mostrarem en el TextView.&lt;/p&gt;
&lt;p&gt;Al &lt;strong&gt;dataSnapshot&lt;/strong&gt; arriba únicament l'element introduït, modificat o esborrat, no tota la llista. Per tant és molt còmode. També arriba una referència a l'element anterior com a segon paràmetre, per si hem de fer algun tractament. Açò ens substituirà l'escriptura que féiem abans del TextArea (a mi m'havia quedat en la línia 101). Per tant llevem aquesta línia:&lt;/p&gt;
&lt;div style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;code&gt;				area.append(dataSnapshot.getValue(String.class) + &quot;\n&quot;);  // aquesta línia després la llevarem&lt;/code&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I posem el següent on queda marcat pel comentari.Així ens quedarà un xat més &quot;professional&quot;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener d'una llista addChildEventListener()
		// Per a posar tota la llista de missatges. Sobre xat
		final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);

		xat.addChildEventListener(new ChildEventListener() {
			@Override
			public void onChildAdded(DataSnapshot dataSnapshot, String s) {
				area.append(dataSnapshot.child(&quot;nom&quot;).getValue(String.class) + &quot;: &quot;
						+ dataSnapshot.child(&quot;contingut&quot;).getValue(String.class) + &quot;\n&quot;);
			}

			@Override
			public void onChildChanged(DataSnapshot dataSnapshot, String s) {
			}

			@Override
			public void onChildRemoved(DataSnapshot dataSnapshot) {
			}

			@Override
			public void onChildMoved(DataSnapshot dataSnapshot, String s) {
			}

			@Override
			public void onCancelled(DatabaseError databaseError) {
			}
		});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;br /&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Si executem aquest programa, tenint només en el clic del botó l'addició d'un element a la llista i aquest Listener anterior, veurem que inicialment ens apareixeran tots els elements de la llista. Això és perquè considera que inicialment s'afegeix cadascun dels elements de la llista, i en el mateix ordre en que estan definits. En aquest imatge hem aprofitat per afegir un quart missatge:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_2_2_12.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;300&quot; /&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5399"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="186_187_2.116"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="49">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="47"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_9.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_9.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="10467746282449a0178badbd93fc516b"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="48"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5406"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="186_187_2.117"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="50">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="47"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_11.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_11.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="5f485b0593f6f27f7c343c69bad76342"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="48"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5407"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="186_187_2.118"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="51">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="47"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_12.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_12.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="82b8eda4bc36b0627045a36301512080"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="48"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5424"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="186_187_2.119"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="52">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="47"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_2_2_10.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_2_2_10.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="598ce642a14205b633de94e9ead37352"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="48"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="48"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="120"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="36"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="186"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="36"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="49"></reference>
                     <reference key="50"></reference>
                     <reference key="51"></reference>
                     <reference key="52"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="51"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.2%20RD%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.2.2.2%20RD-Java%3A%20Acc%C3%A9s%20a%20les%20dades"></string>
                 <string role="key" value="parent"></string>
                 <reference key="27"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="55">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.2.3 RD-Java: Tot l'exemple"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="53">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="54">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="53"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tot l'exemple&lt;/p&gt;
&lt;p&gt;Anem a posar tot l'exemple que arreplega tot l'anterior.&lt;/p&gt;
&lt;p&gt;Primer la classe &lt;strong&gt;Missatge.java&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public class Missatge{
    public String nom;
    public String contingut;

    public Missatge(){
    }

    public Missatge(String nom,String cont){
        this.nom=nom;
        this.contingut=cont;
    }

	public String getNom() {
		return nom;
	}

	public void setNom(String nom) {
		this.nom = nom;
	}

	public String getContingut() {
		return contingut;
	}

	public void setContingut(String contingut) {
		this.contingut = contingut;
	}
    
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ara el programa:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileInputStream;
import java.io.IOException;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import com.google.auth.oauth2.GoogleCredentials;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.database.ChildEventListener;
import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.database.ValueEventListener;

public class Pantalla_CrearXat extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;
	JLabel etUltimMissatge= new JLabel(&quot;Últim missatge: &quot;);
	JLabel ultimMissatge= new JLabel();
	
	JLabel etiqueta = new JLabel(&quot;Missatges:&quot;);
	JTextArea area = new JTextArea();

	JLabel etIntroduccioMissatge = new JLabel(&quot;Introdueix missatge:&quot;);
	JButton enviar = new JButton(&quot;Enviar&quot;);
	JTextField missatge = new JTextField(15);

	// en iniciar posem un contenidor per als elements anteriors
	public void iniciar() throws IOException {
		JFrame pantPrincipal = this;
		this.setBounds(100, 100, 450, 300);
		this.setLayout(new BorderLayout());
		// contenidor per als elements
		//Hi haurà títol. Panell de dalt: últim missatge. Panell de baix: per a introduir missatge. Panell central: tot el xat
		
		JPanel panell1 = new JPanel(new FlowLayout());
		panell1.add(etUltimMissatge);
		panell1.add(ultimMissatge);
		getContentPane().add(panell1, BorderLayout.NORTH);

		JPanel panell2 = new JPanel(new BorderLayout());
		panell2.add(etiqueta, BorderLayout.NORTH);
		area.setForeground(Color.blue);
		JScrollPane scroll = new JScrollPane(area);
		panell2.add(scroll, BorderLayout.CENTER);
		getContentPane().add(panell2, BorderLayout.CENTER);
		
		JPanel panell3 = new JPanel(new FlowLayout());
		panell3.add(etIntroduccioMissatge);
		panell3.add(missatge);
		panell3.add(enviar);
		getContentPane().add(panell3, BorderLayout.SOUTH);

		setVisible(true);
		enviar.addActionListener(this);

		FileInputStream serviceAccount = new FileInputStream(&quot;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

		FirebaseApp.initializeApp(options);

		// Exemple de listener de lectura única addListenerForSingleValue()
		// Per a posar el títol. Sobre nomXat
		final DatabaseReference nomXat = FirebaseDatabase.getInstance().getReference(&quot;nomXat&quot;);

		nomXat.addListenerForSingleValueEvent(new ValueEventListener() {
			@Override
			public void onDataChange(DataSnapshot dataSnapshot) {
				pantPrincipal.setTitle(dataSnapshot.getValue(String.class));
			}

			@Override
			public void onCancelled(DatabaseError error) {
			}
		});
		
		// Exemple de listener de lectura contínua addValueEventListener()
		// Per a posar l'últim missatge registrat. Sobre a1
		final DatabaseReference ultim = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);

		ultim.addValueEventListener(new ValueEventListener() {
			@Override
			public void onDataChange(DataSnapshot dataSnapshot) {
				ultimMissatge.setText(dataSnapshot.getValue(String.class));
			}

			@Override
			public void onCancelled(DatabaseError error) {
			}
		});
		
		// Exemple de listener d'una llista addChildEventListener()
		// Per a posar tota la llista de missatges. Sobre xat
		final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);

		xat.addChildEventListener(new ChildEventListener() {
			@Override
			public void onChildAdded(DataSnapshot dataSnapshot, String s) {
				area.append(dataSnapshot.child(&quot;nom&quot;).getValue(String.class) + &quot;: &quot;
						+ dataSnapshot.child(&quot;contingut&quot;).getValue(String.class) + &quot;\n&quot;);
			}

			@Override
			public void onChildChanged(DataSnapshot dataSnapshot, String s) {
			}

			@Override
			public void onChildRemoved(DataSnapshot dataSnapshot) {
			}

			@Override
			public void onChildMoved(DataSnapshot dataSnapshot, String s) {
			}

			@Override
			public void onCancelled(DatabaseError databaseError) {
			}
		});

	}

	@Override




	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades sense haver d'esperar per ser una aplicació gràfica
			// Per a guardar dades. Sobre a1, i despŕes sobre la llista xat
			final DatabaseReference refA1 = FirebaseDatabase.getInstance().getReference(&quot;a1&quot;);
			refA1.setValue(missatge.getText(), null);
			final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);
			Missatge m = new Missatge(&quot;Usuari1&quot;,missatge.getText());
			xat.push().setValue(m,null);
		}
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I per últim el programa principal:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.IOException;

public class CrearXat {

    public static void main(String[] args) throws IOException {
        final Pantalla_CrearXat finestra = new Pantalla_CrearXat();
        finestra.iniciar();
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="54"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="55"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="169"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="55"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="53"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.2%20RD%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.2.2.3%20RD-Java%3A%20Tot%20l%27exemple"></string>
                 <string role="key" value="parent"></string>
                 <reference key="27"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
              </list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="58">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.2.3 RD: Utilització des d'Android"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="56">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="57">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="56"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;En el mòdul d'Accés a Dades ens estem plantejant sempre accedir a les dades des de Java. Tanmateix, és en Android on moltes vegades tindrà més aplicació, com és el cas d'accés a Firebase. Per això ho inclourem en aquest tema, en compte de deixar-lo per a un annex.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="57"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="58"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="175"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="58"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="43"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.3%20RD%3A%20Utilitzaci%C3%B3%20des%20d%27Android"></string>
              <string role="key" value="parent"></string>
              <reference key="19"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list>
               <instance class="exe.engine.node.Node" reference="61">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.3.1 RD-Android: Connexió des d'Android"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="59">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="60">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="59"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;L'accés és extraordinàriament fàcil gràcies als assistents que ens proporciona el propi Android Studio.&lt;/p&gt;
&lt;p&gt;Per a poder provar-lo ens crearem un projecte d'Android anomenat per exemple &lt;strong&gt;Tema7_1_FirebaseRD_Java&lt;/strong&gt; i/o &lt;strong&gt;Tema7_1_FirebaseRD_Kotlin&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Al final de tot teniu un vídeo que repassa tots els passos per a poder connectar des de la nostra aplicació d'Android. A continuació els repassem i expliquem un a un. Són els que ens marca l'assistent, que haurem d'invocar sobre el nostre projecte ja creat, i que es crida des de  &lt;strong&gt;Tools --&amp;gt; Firebase --&amp;gt; Realtime Database&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;Observeu que quasi quasi tot és idèntic, encara que utilitzem Java o Kotlin. Només farem la diferenciació en l'exemple, on estarà ja tot el codi.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Connectar l'aplicació a Firebase&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_1.png&quot; alt=&quot;&quot; width=&quot;1115&quot; height=&quot;697&quot; /&gt;&lt;/p&gt;
&lt;p&gt;En apretar el botó de&lt;strong&gt; Connect to Firebase&lt;/strong&gt;, si no estàvem connectats amb el compte de Google al Firebase se'ns obrirà finestra d'un navegador per a connectar. Podria donar-se el cas que ens diguera que Android Studio vol accedir a les dades de la Base de Dades. Òbviament ho haurem de permetre:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_2.png&quot; alt=&quot;&quot; width=&quot;402&quot; height=&quot;725&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Una vegada autenticats en Firebase, des de l'entorn d'Android Studio ens ofereix la possibilitat de crear una aplicació nova (una Base de Dades nova) o utilitzar alguna de les que ja tenim. Utilitzarem la que ens ha servit de prova fins el moment:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_3.png&quot; alt=&quot;&quot; width=&quot;679&quot; height=&quot;453&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Quan haja connectat substituirà el botó &lt;strong&gt;Connect to Firebase&lt;/strong&gt;, per una etiqueta que dirà &lt;strong&gt;connected&lt;/strong&gt;, en verd.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Afegir la Base de Dades a la nostra aplicació&lt;/p&gt;
&lt;p&gt;En aquest segon pas, quan apretem el botó &lt;strong&gt;Add the Realtime Database in your app&lt;/strong&gt;, ens dirà els canvis que farà per a incorporar les coses necessàries per a poder connectar.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_4.png&quot; alt=&quot;&quot; width=&quot;642&quot; height=&quot;450&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Com veieu es tracta d'incorporar les llibreries necessàries de Firebase. En el vídeo del final es mostren imatges amb les dades incorporades.&lt;/p&gt;
&lt;p&gt;Igual que abans, substituirà el botó &lt;strong&gt;Add the Realtime Database in your app&lt;/strong&gt;, per una etiqueta que dirà &lt;strong&gt;Dependencies set up correctly&lt;/strong&gt;, en verd. És una bona guia per saber en quin punt estem.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Permetre l'accés als usuaris, si es precís canviant les regles d'accés a la Base de Dades&lt;/p&gt;
&lt;p&gt;En versions anteriors de Firebase, per defecte les Bases de Dades (aplicacions) de Firebase estaven configurades per a que es connecten únicament usuaris autenticats. Això serà molt convenient en el futur, quan des del mòdul PMDM proveu l'autenticació d'usuaris. Però en l'última versió ens pregunta quan fem el primer accés si volem que es connecten usuaris autenticats, o si permetem que es connecte tot el món.&lt;/p&gt;
&lt;p&gt;Sempre ho podrem modificar, i això es fa des de la Consola de Firebase de la Base de Dades, en la pestanya &lt;strong&gt;Rules&lt;/strong&gt;. En el mòdul d'Accés a Dades permetrem l'accés a tot el món posant les dues propietats a true. Sabreu que ho heu posat de forma correcta quan els dos &lt;em&gt;trues&lt;/em&gt; us apareguen en roig&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_5.png&quot; alt=&quot;&quot; width=&quot;1112&quot; height=&quot;722&quot; /&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Copiar les sentències per a escriure i per a llegir (millor dit per a detectar els canvis en temps real)&lt;/p&gt;
&lt;p&gt;Ens diu un exemple de les sentències a copiar per a poder guardar una informació a la Base de Dades i també per a detectar un canvi en la Base de Dades i poder obtenir el nou valor. Encara que tinguem un projecte en Kotlin, les sentències d'exemple seran de Java, però que en copiar-les les traduiria a Kotlin. No fem diferenciació per tant entre Java i Kotlin en aquest moment.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_6.png&quot; alt=&quot;&quot; width=&quot;1270&quot; height=&quot;820&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5363"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.510"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="62">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_3.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_3.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="ffe95e5633fe844b2b39114d9ed77a34"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5377"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.511"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="63">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="c90f2c61eb3cf62115eb5b851b12c708"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5387"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.512"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="64">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_2.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_2.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="41ba16c9f3d5edc61a47e4f385d1b94d"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5389"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.513"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="65">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_4.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_4.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="3db6c1c42a7ff805e2fed912dd3d2ffb"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5401"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.514"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="66">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_5.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_5.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="d9fb10c28302cc6f0ca8867b6a5cb8fa"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5402"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="155_85.515"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="67">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="59"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_1_6.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_6.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="486f9fd63aa60df4c1a5232b303eb515"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="60"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                        </list>
                        <string role="key" value="idevice"></string>
                        <reference key="60"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="516"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="61"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="155"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="61"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="62"></reference>
                     <reference key="63"></reference>
                     <reference key="64"></reference>
                     <reference key="65"></reference>
                     <reference key="66"></reference>
                     <reference key="67"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="68">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="69">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="185_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="68"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Exemple&lt;/p&gt;
&lt;p&gt;A partir de l'anterior, anem a modificar-lo lleugerament, col·locant un &lt;strong&gt;EditText&lt;/strong&gt; on es puga escriure i enviar una informació a la Base de Dades, o quan es modifica en la Base de Dades poder reflectir-lo.&lt;/p&gt;
&lt;p&gt;Primer, a banda de connectar, haurem de &quot;registrar&quot; el que volem tant modificar com detectar que s'ha modificat. En aquest cas només serà una parella clau-valor, que anomenarem &lt;strong&gt;refA1&lt;/strong&gt;, que es referirà a la parella clau-valor &lt;strong&gt;a1&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Per a enviar utilitzem un botó, i senzillament quan s'aprete s'envia la informació: mofdifiquem el valor de &lt;strong&gt;refA1&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Per a rebre la informació hem &quot;d'escoltar&quot; si hi ha canvis, muntant un &lt;strong&gt;addValueEventListener&lt;/strong&gt; sobre &lt;strong&gt;refA1&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest seria el &lt;strong&gt;ActivityMain.xml&lt;/strong&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xml version&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;1.0&quot; &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;encoding&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;?&amp;gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res/android&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res-auto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/tools&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:context&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;.MainActivity&quot;&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_centerHorizontal&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_centerHorizontal&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_marginTop&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;53dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;Enviar&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;p&gt;I aquest seria el programa principal en Java:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 15,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.support.v7.app.AppCompatActivity;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.os.Bundle;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.util.Log;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.view.View;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.widget.Button;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.widget.EditText;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DataSnapshot;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DatabaseError;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DatabaseReference;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.FirebaseDatabase;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.ValueEventListener;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public class &lt;/span&gt;MainActivity &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;extends &lt;/span&gt;AppCompatActivity {&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #808000;&quot;&gt;@Override&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808000;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;protected void &lt;/span&gt;onCreate(Bundle savedInstanceState) {&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;br /&gt;        setContentView(R.layout.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;activity_main&lt;/span&gt;);&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;EditText editText = (EditText)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;text&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;        FirebaseDatabase database = FirebaseDatabase.&lt;span style=&quot;font-style: italic;&quot;&gt;getInstance&lt;/span&gt;();&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference refA1 = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Missatge&quot;&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;Button boto = (Button)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;boto&lt;/span&gt;);&lt;br /&gt;        boto.setText(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Enviar&quot;&lt;/span&gt;);&lt;br /&gt;        boto.setOnClickListener(&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;new &lt;/span&gt;View.OnClickListener() {&lt;br /&gt;            &lt;span style=&quot;color: #808000;&quot;&gt;@Override&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808000;&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public void &lt;/span&gt;onClick(View view) {&lt;br /&gt;                &lt;span style=&quot;color: #660e7a;&quot;&gt;refA1&lt;/span&gt;.setValue(&lt;span style=&quot;color: #660e7a;&quot;&gt;editText&lt;/span&gt;.getText().toString());&lt;br /&gt;                &lt;span style=&quot;color: #660e7a;&quot;&gt;editText&lt;/span&gt;.setText(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;&quot;&lt;/span&gt;);&lt;br /&gt;            }&lt;br /&gt;        });&lt;br /&gt;&lt;br /&gt;        refA1.addValueEventListener(&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;new &lt;/span&gt;ValueEventListener() {&lt;br /&gt;            &lt;span style=&quot;color: #808000;&quot;&gt;@Override&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808000;&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public void &lt;/span&gt;onDataChange(DataSnapshot dataSnapshot) {&lt;br /&gt;                &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// This method is called once with the initial value and again&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                // whenever data at this location is updated.&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                &lt;/span&gt;String value = dataSnapshot.getValue(String.&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;class&lt;/span&gt;);&lt;br /&gt;                &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;//Log.d(TAG, &quot;Value is: &quot; + value);&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #660e7a;&quot;&gt;editText&lt;/span&gt;.setText(value);&lt;br /&gt;            }&lt;br /&gt;&lt;br /&gt;            &lt;span style=&quot;color: #808000;&quot;&gt;@Override&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808000;&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public void &lt;/span&gt;onCancelled(DatabaseError error) {&lt;br /&gt;                &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Failed to read value&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                //Log.w(TAG, &quot;Failed to read value.&quot;, error.toException());&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;            &lt;/span&gt;}&lt;br /&gt;        });&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;p&gt;I aquest és el programa principal per al projecte en Kotlin.&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;androidx.appcompat.app.AppCompatActivity&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.os.Bundle&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;kotlinx.android.synthetic.main.activity_main.*&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.FirebaseDatabase&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DatabaseError&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DataSnapshot&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.ValueEventListener&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;class &lt;/span&gt;MainActivity : AppCompatActivity() {&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;override fun &lt;/span&gt;onCreate(savedInstanceState: Bundle?) {&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState)&lt;br /&gt;        setContentView(R.layout.&lt;span style=&quot;color: #660e7a; font-style: italic;&quot;&gt;activity_main&lt;/span&gt;)&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;val &lt;/span&gt;refA1 = FirebaseDatabase.getInstance().getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Missatge&quot;&lt;/span&gt;)&lt;br /&gt;&lt;br /&gt;        boto.&lt;span style=&quot;color: #660e7a; font-style: italic;&quot;&gt;text &lt;/span&gt;= &lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Enviar&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;boto.setOnClickListener &lt;span style=&quot;font-weight: bold;&quot;&gt;{&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;            &lt;/span&gt;refA1.setValue(text.&lt;span style=&quot;color: #660e7a; font-style: italic;&quot;&gt;text&lt;/span&gt;.toString())&lt;br /&gt;            text.setText(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;br /&gt;        &lt;span style=&quot;font-weight: bold;&quot;&gt;}&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;        &lt;/span&gt;refA1.addValueEventListener(&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;object &lt;/span&gt;: ValueEventListener {&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;override fun &lt;/span&gt;onDataChange(dataSnapshot: DataSnapshot) {&lt;br /&gt;                &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// This method is called once with the initial value and again&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                // whenever data at this location is updated.&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;val &lt;/span&gt;value = dataSnapshot.getValue(String::&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;class&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-style: italic;&quot;&gt;java&lt;/span&gt;)&lt;br /&gt;                text.setText(value)&lt;br /&gt;            }&lt;br /&gt;&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;override fun &lt;/span&gt;onCancelled(error: DatabaseError) {&lt;br /&gt;                &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Failed to read value&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;                //Log.w(TAG, &quot;Failed to read value.&quot;, error.toException())&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;            &lt;/span&gt;}&lt;br /&gt;        })&lt;br /&gt;&lt;br /&gt;    }&lt;br /&gt;    &lt;br /&gt;}&lt;/pre&gt;
&lt;p&gt;En el següent vídeo es veu tot el procés des del principi per al projecte Kotlin, encara que la clau valor utilitzada es diu &lt;strong&gt;message&lt;/strong&gt; en compte de &lt;strong&gt;a1&lt;/strong&gt;, i la referència &lt;strong&gt;myRef&lt;/strong&gt; en compte de &lt;strong&gt;refA1&lt;/strong&gt;:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object width=&quot;1024&quot; height=&quot;785&quot; type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T7_Accedir_Firebase_bo_ret.swf&quot; data-mce-fragment=&quot;1&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T7_Accedir_Firebase_bo_ret.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5373"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="179_185_2.32"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="70">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="68"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_Accedir_Firebase_bo_ret.swf"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_Accedir_Firebase_bo_ret.swf"></string>
                              <string role="key" value="checksum"></string>
                              <string value="5bd1d0692d1c790aade0d012a52a6bb3"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="69"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="69"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="33"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="61"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="179"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="61"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="70"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="40"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.3%20RD%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.2.3.1%20RD-Android%3A%20Connexi%C3%B3%20des%20d%27Android"></string>
                 <string role="key" value="parent"></string>
                 <reference key="58"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="73">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.3.2 RD-Android: Accés a les dades"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="71">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="72">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="71"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;Una vegada vist un exemple, en el qual hem guardat dades i també les hem recuperades i hem vist els canvis en temps real, anem a veure més exemples de com accedir a les dades.&lt;/p&gt;
&lt;p&gt;En l'exemple anterior hem accedit a una parella clau-valor situada en l'arrel de la Base de Dades.&lt;/p&gt;
&lt;p&gt;Anem a veure alguns exemples de com accedir dins de l'estructura JSON guardada en Firebase. Com el que voldrem serà mostrar més informació, incorporarem un &lt;strong&gt;TextView &lt;/strong&gt;per a mostrar més coses còmodament, i deixem el EditText i el Button per a poder introduir informacions.&lt;/p&gt;
&lt;p&gt;Aquesta serà ara l'estructura del &lt;strong&gt;activity_main.xml&lt;/strong&gt;:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xml version&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;1.0&quot; &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;encoding&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;?&amp;gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res/android&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res-auto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/tools&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:context&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;.MainActivity&quot;&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/ultim&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;382dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;39dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/area&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/ultim&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintVertical_bias&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0.261&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;317dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;47dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_centerHorizontal&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintHorizontal_bias&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0.0&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/ultim&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintVertical_bias&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;1.0&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_centerHorizontal&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;Enviar&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintHorizontal_bias&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0.993&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;p&gt;Així les parts que tindrem, i que ens servirà per a mostrar cadascuna de les coses que volem, de forma similar que en Eclipse seran:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El títol de l'aplicació, que el modificarem amb un &lt;strong&gt;addListenerForSingleValueEvent()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;El TextView de dalt, anomenat &lt;strong&gt;ultim&lt;/strong&gt;, que el modifiquem per mig d'un &lt;strong&gt;addValueEventListener()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;El TextView central que ocupa quasi tota la pantalla, anomenat &lt;strong&gt;area&lt;/strong&gt;, que el modificarem amb la modificació de la llista &lt;strong&gt;addChildEventListener()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;El EditText de baix, anomenat &lt;strong&gt;text&lt;/strong&gt;, i el botó, que servirà per a afegir un nou element del xat&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest és l'esquelet del progama:&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;androidx.appcompat.app.AppCompatActivity;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.os.Bundle;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.view.View;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.widget.Button;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.widget.EditText;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;android.widget.TextView;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DataSnapshot;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DatabaseError;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.DatabaseReference;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.FirebaseDatabase;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.ValueEventListener;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;import &lt;/span&gt;com.google.firebase.database.ChildEventListener;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public class &lt;/span&gt;MainActivity &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;extends &lt;/span&gt;AppCompatActivity {&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #808000;&quot;&gt;@Override&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808000;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;protected void &lt;/span&gt;onCreate(Bundle savedInstanceState) {&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;super&lt;/span&gt;.onCreate(savedInstanceState);&lt;br /&gt;        setContentView(R.layout.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;activity_main&lt;/span&gt;);&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;TextView ultim = (TextView)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;ultim&lt;/span&gt;);&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;TextView area = (TextView)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;area&lt;/span&gt;);&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;EditText text = (EditText)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;text&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;Button boto = (Button)findViewById(R.id.&lt;span style=&quot;color: #660e7a; font-weight: bold; font-style: italic;&quot;&gt;boto&lt;/span&gt;);&lt;br /&gt;        boto.setText(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Enviar&quot;&lt;/span&gt;);&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Referències a la Base de Dades i a les variables a1, nomXat i xat&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Exemple de listener de lectura única addListenerForSingleValueEvent()&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;        // Per a posar el títol. Sobre nomXat&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Exemple de listener de lectura contínua addValueEventListener()&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;        // Per a posar l'últim missatge registrat. Sobre a1&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;        &lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;// Exemple de listener d'una llista addChildEventListener()&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;        // Per a posar tota la llista de missatges. Sobre xat&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;
&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle&lt;br /&gt;
import kotlinx.android.synthetic.main.activity_main.*&lt;br /&gt;
import com.google.firebase.database.FirebaseDatabase
import com.google.firebase.database.DatabaseError
import com.google.firebase.database.DataSnapshot
import com.google.firebase.database.ValueEventListener

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        boto.text = &quot;Enviar&quot;
        
        // Referències a la Base de Dades i a les variables a1, nomXat i xat

        // Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat
	
        // Exemple de listener de lectura única addListenerForSingleValueEvent()
        // Per a posar el títol. Sobre nomXat
	
        // Exemple de listener de lectura contínua addValueEventListener()
        // Per a posar l'últim missatge registrat. Sobre a1
	
        // Exemple de listener d'una llista addChildEventListener()
        // Per a posar tota la llista de missatges. Sobre xat

    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="72"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="73"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="161"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="73"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="74">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="75">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="74"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Referència a la Base de Dades i a les dades concretes a les quals volem accedir&lt;/p&gt;
&lt;p&gt;Podem fer referència de forma individual a cadascuna de les &quot;variables&quot; guardades, és a dir a cadascuna de les parelles clau-valor. En l'exemple anterior havíem utilitzat aquest:&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;FirebaseDatabase database = FirebaseDatabase.&lt;span style=&quot;font-style: italic;&quot;&gt;getInstance&lt;/span&gt;();&lt;/pre&gt;
&lt;p&gt;I per a les parelles clau-valor que utilitzarem en l'exemple:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference refA1 = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;a1&quot;&lt;/span&gt;);&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference nomXat = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;nomXat&quot;&lt;/span&gt;);&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;final &lt;/span&gt;DatabaseReference xat = database.getReference(&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;xat&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;p&gt;observeu com no és cap impediment que ens toque definir-les com a &lt;strong&gt;final&lt;/strong&gt;, ja que aquesta referència no ha de canviar en cap moment després d'inicialitzar-la. Si que podem fer canviar el seu valor, però la referència sempre ha d'apuntar al mateix lloc.&lt;/p&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;p&gt;L'equivalent en Kotlin serà:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;val database = FirebaseDatabase.getInstance()
val refA1 = database.getReference(&quot;a1&quot;)
val nomXat = database.getReference(&quot;nomXat&quot;)
val xat = database.getReference(&quot;xat&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="75"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="73"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="162"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="73"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="76">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="77">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="76"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Guardar dades&lt;/p&gt;
&lt;p&gt;L'operació de guardar és més senzilla que la de recuperar. Disposem del mètode &lt;strong&gt;setValue()&lt;/strong&gt; de la referència a la dada a la que volem accedir. En l'exemple de la pregunta anterior guardàvem la dada d'aquesta manera:&lt;/p&gt;
&lt;p&gt;Per a &lt;strong&gt;JAVA&lt;/strong&gt;:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #660e7a;&quot;&gt;refA1&lt;/span&gt;.setValue(&lt;span style=&quot;color: #660e7a;&quot;&gt;text&lt;/span&gt;.getText().toString());&lt;/pre&gt;
&lt;p&gt;Per a &lt;strong&gt;KOTLIN&lt;/strong&gt;:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;refA1.setValue(text.&lt;span style=&quot;color: #660e7a; font-style: italic;&quot;&gt;text&lt;/span&gt;.toString())&lt;/pre&gt;
&lt;p&gt;En l'operació de guardar si la parella clau-valor on es va a guardar existia, doncs modificarà el valor. I si no existia, la crearà.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;En el nostre exemple guardarem en el moment d'apretar el botó. Inicialment ho farem sobre &lt;strong&gt;a1&lt;/strong&gt;, encara que quan vegem les llistes ho canviarem&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de guardar dades. Primes sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                refA1.setValue(text.getText().toString());
                text.setText(&quot;&quot;);
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de guardar dades. Primes sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener {
            refA1.setValue(text.text.toString())
            text.setText(&quot;&quot;)
        }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="77"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="73"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="163"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="73"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="78">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="79">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="78"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Recuperar dades&lt;/p&gt;
&lt;p&gt;Recordem que podem muntar dos tipus de Listeners, però el seu funcionament serà similar&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Els que escolten només una vegada al principi: &lt;strong&gt;addListenerForSingleValueEvent()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Els que es queden escoltant tota l'estona: &lt;strong&gt;addValueEventListener()&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En ambdós casos obtenim com a paràmetre un &lt;strong&gt;Data&lt;/strong&gt;&lt;strong&gt;Snapshot&lt;/strong&gt; (còpia) de la dada registrada. I d'aquest tipus, &lt;strong&gt;DataSnapshot&lt;/strong&gt;, sí que tenim el mètode &lt;strong&gt;getValue()&lt;/strong&gt; per a accedir a la dada. Ambdós tipus de Listeners tenen un tractament absolutament similar, únicament amb la diferència abans esmentada que el primer està sempre escoltant, i el segon només escolta una vegada al principi.&lt;/p&gt;
&lt;p&gt;El mètode &lt;strong&gt;getValue()&lt;/strong&gt; admet un paràmetre que serà la classe del tipus que volem obtenir. Podem posar les següents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;String.class&lt;/strong&gt;, i aleshores el que obtenim s'interpretarà com un String&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Double.class&lt;/strong&gt;, i s'interpretarà com un número real de doble precisió&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Boolean.class&lt;/strong&gt;, i s'interptretarà com un valor booleà.&lt;/li&gt;
&lt;li&gt;També es poden posar classes per a obtenir tot un objecte (Map) i per a una llista (List). Fins i tot es podria arribar a posar una classe definida per nosaltres. Però amb els anteriors nosaltres en tindrem prou&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mirem la manera d'utilitzar una i altra. Ho apliquem a dues referències diferents, per a que pugueu comprovar que una sempre té efecte, mentre que l'altra només té efecte la primera vegada, i si després es modifiquen les dades, l'aplicació no s'enterarà.&lt;/p&gt;
&lt;h2&gt;addListenerForSingleValueEvent()&lt;/h2&gt;
&lt;p&gt;En aquest primer exemple anem a agafar una única vegada la dada que ens interessa, i per tant  utilitzarem &lt;strong&gt;addListenerForSingleValueEvent()&lt;/strong&gt;. Ens servirà per a posar el títol de l'aplicació, i ho farem consultant la clau &lt;strong&gt;nomXat&lt;/strong&gt;, que la tindrem creada des de la pregunta 2.2.2.2 de la part de Java:&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura única addListenerForSingleValueEvent()
        // Per a posar el títol. Sobre nomXat
        nomXat.addListenerForSingleValueEvent(new ValueEventListener() {
            @Override
            public void onDataChange(DataSnapshot dataSnapshot) {
                String value = dataSnapshot.getValue(String.class);
                setTitle(value);
            }

            @Override
            public void onCancelled(DatabaseError error) {
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;h3&gt;KOTLIN&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura única addListenerForSingleValue()
        // Per a posar el títol. Sobre nomXat
        nomXat.addListenerForSingleValueEvent(object : ValueEventListener {
            override fun onDataChange(dataSnapshot: DataSnapshot) {
                val value = dataSnapshot.getValue(String::class.java)
                setTitle(value)
            }

            override fun onCancelled(error: DatabaseError) {
            }
        })
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;addValueEventListener()&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;És la que sempre està escoltant. Per tant qualsevol modificació en la Base de Dades es veurà reflectit, és a dir, canviarà el contingut del&lt;strong&gt; TextView ultim&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener de lectura contínua addValueEventListener()
		// Per a posar l'últim missatge registrat. Sobre a1
        refA1.addValueEventListener(new ValueEventListener() {
            @Override
            public void onDataChange(DataSnapshot dataSnapshot) {
                String value = dataSnapshot.getValue(String.class);
                ultim.setText(value);
            }

            @Override
            public void onCancelled(DatabaseError error) {
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener de lectura contínua addValueEventListener()
		// Per a posar l'últim missatge registrat. Sobre a1
        refA1.addValueEventListener(object : ValueEventListener {
            override fun onDataChange(dataSnapshot: DataSnapshot) {
                val value = dataSnapshot.getValue(String::class.java)
                ultim.setText(value)
            }

            override fun onCancelled(error: DatabaseError) {
            }
        })
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="79"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="73"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="164"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="73"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="80">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="81">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="80"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tractament de llistes&lt;/p&gt;
&lt;p&gt;Ja vam veure en la pregunta 2.2.2.2 de la part de Java que la manera més pràtica d'inserir elements en una llista, per a no haver de dur un manteniment dels índex, era amb el mètode &lt;strong&gt;push()&lt;/strong&gt;, i que per a no tenir efectes no desitjats era millor posar tot l'element d'una vegada. Així, si hem de posar el nom de l'usuari que farà l'entrada del xat i el contingut del missatge, millor crear un objecte que ho continga tot, i col·locar en la llista aquest objecte.&lt;/p&gt;
&lt;p&gt;Crearem per tant una classe anomenada &lt;strong&gt;Missatge&lt;/strong&gt;, que inclourà les propietats &lt;strong&gt;nom&lt;/strong&gt; i &lt;strong&gt;contingut&lt;/strong&gt;. Crearem un objecte &lt;strong&gt;Missatge &lt;/strong&gt;amb uns nous valors, i veurem que el podem guardar perfectament.&lt;/p&gt;
&lt;p&gt;Primer definim la classe. El millor és que el guardem com una classe nova, és a dir com a &lt;strong&gt;Missatge.java &lt;/strong&gt;o &lt;strong&gt;Missatge.kt&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public class &lt;/span&gt;Missatge{&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(){&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(String nom,String cont){&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;=nom;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;=cont;&lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;
&lt;p&gt;Haurem de tenir també els &lt;strong&gt;getters&lt;/strong&gt; i &lt;strong&gt;setters&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;class Missatge(val nom: String, val contingut: String) {}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Per a &lt;strong&gt;guardar&lt;/strong&gt;, col·locaríem aquestes sentències entre les accions del OnClik del botó, substituint les sentències que modificaven &lt;strong&gt;a1&lt;/strong&gt;, perquè ara afegirem a la llista &lt;strong&gt;xat&lt;/strong&gt; :&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                refA1.setValue(text.getText().toString());

                Missatge m = new Missatge(&quot;Usuari1&quot;,text.getText().toString());
                xat.push().setValue(m);

                text.setText(&quot;&quot;);
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;h3&gt;KOTLIN&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener {
            refA1.setValue(text.text.toString())
            xat.push().setValue(Missatge(&quot;Usuari1&quot;,text.text.toString()))
            text.setText(&quot;&quot;)
        }	
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Ara només ens falta el tractament de &lt;strong&gt;lectura&lt;/strong&gt; de les llistes.&lt;/p&gt;
&lt;p&gt;Utilitzarem el Listener &lt;strong&gt;ChildEventListener&lt;/strong&gt;, i hem d'utilitzar el mètode &lt;strong&gt;addChildEventListener()&lt;/strong&gt; sobre la llista. Voldrà la implementació dels mètodes: &lt;strong&gt;onChildAdded()&lt;/strong&gt;, &lt;strong&gt;onChildChanged()&lt;/strong&gt;, &lt;strong&gt;onChildRemoved()&lt;/strong&gt; i &lt;strong&gt;onChildMoved()&lt;/strong&gt;, però nosaltres només utilitzarem &lt;strong&gt;onChildAdded()&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Al &lt;strong&gt;dataSnapshot&lt;/strong&gt; arriba únicament l'element introduït, modificat o esborrat, no tota la llista. Per tant és molt còmode. També arriba una referència a l'element anterior com a segon paràmetre, per si hem de fer algun tractament, cosa que en aquest exemple no ens fa falta:&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener d'una llista addChildEventListener()
		// Per a posar tota la llista de missatges. Sobre xat
		xat.addChildEventListener(new ChildEventListener() {
		    @Override
		    public void onChildAdded(DataSnapshot dataSnapshot, String s) {
		        area.append(dataSnapshot.child(&quot;nom&quot;).getValue(String.class) + &quot;: &quot; + dataSnapshot.child(&quot;contingut&quot;).getValue(String.class) + &quot;\n&quot;);
		    }
		    @Override
		    public void onChildChanged(DataSnapshot dataSnapshot, String s) {
		    }
		    @Override
		    public void onChildRemoved(DataSnapshot dataSnapshot) {
		    }
		    @Override
		    public void onChildMoved(DataSnapshot dataSnapshot, String s) {
		    }
		    @Override
		    public void onCancelled(DatabaseError databaseError) {
		    }
		});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3&gt;KOTLIN&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener d'una llista addChildEventListener()
        // Per a posar tota la llista de missatges. Sobre xat
        xat.addChildEventListener(object : ChildEventListener {
            override fun onChildAdded(dataSnapshot: DataSnapshot, s: String?) {
                area.append(
                    dataSnapshot.child(&quot;nom&quot;).getValue(String::class.java) + &quot;: &quot; + dataSnapshot.child(&quot;contingut&quot;).getValue(String::class.java) + &quot;\n&quot;                    );
            }
            override fun onChildChanged(dataSnapshot: DataSnapshot, s: String?) {
            }
            override fun onChildRemoved(dataSnapshot: DataSnapshot) {
            }
            override fun onChildMoved(dataSnapshot: DataSnapshot, s: String?) {
            }
            override fun onCancelled(databaseError: DatabaseError) {
            }
        })
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Aquest seria el resultat:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_2_3_2_5.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;403&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5370"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="165_85.237"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="82">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="80"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_2_3_2_5.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_2_3_2_5.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="c04f479c174630e409fb181e5a8915f5"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="81"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                        </list>
                        <string role="key" value="idevice"></string>
                        <reference key="81"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="238"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="73"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="165"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="73"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="82"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="41"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.3%20RD%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.2.3.2%20RD-Android%3A%20Acc%C3%A9s%20a%20les%20dades"></string>
                 <string role="key" value="parent"></string>
                 <reference key="58"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="85">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.2.3.3 RD-Android: Tot l'exemple"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="83">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="84">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="83"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tot l'exemple&lt;/p&gt;
&lt;p&gt;Anem a posar tot l'exemple que arreplega tot l'anterior. Quedarà un poc embolicat, però intentarem explicar després cada eixida per quina causa és.&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;p&gt;Primer la classe &lt;strong&gt;Missatge.java&lt;/strong&gt;:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public class &lt;/span&gt;Missatge{&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String &lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;;&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(){&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;Missatge(String nom,String cont){&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;=nom;&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;=cont;&lt;br /&gt;        }&lt;br /&gt;&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String getNom(){&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;return this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;;&lt;br /&gt;        }&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public &lt;/span&gt;String getContingut(){&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;return this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;;&lt;br /&gt;        }&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public void &lt;/span&gt;setNom(String nom){&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;nom&lt;/span&gt;=nom;&lt;br /&gt;        }&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;public void &lt;/span&gt;setContingut(String contingut){&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;contingut&lt;/span&gt;=contingut;&lt;br /&gt;        }&lt;br /&gt;    }&lt;/pre&gt;
&lt;p&gt;I aquest el programa:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;

import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.database.ValueEventListener;
import com.google.firebase.database.ChildEventListener;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        final TextView ultim = (TextView)findViewById(R.id.ultim);
        final TextView area = (TextView)findViewById(R.id.area);
        final EditText text = (EditText)findViewById(R.id.text);

        final Button boto = (Button)findViewById(R.id.boto);
        boto.setText(&quot;Enviar&quot;);

        // Referències a la Base de Dades i a les variables a1, nomXat i xat
        FirebaseDatabase database = FirebaseDatabase.getInstance();
        final DatabaseReference refA1 = database.getReference(&quot;a1&quot;);
        final DatabaseReference nomXat = database.getReference(&quot;nomXat&quot;);
        final DatabaseReference xat = database.getReference(&quot;xat&quot;);

        // Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                refA1.setValue(text.getText().toString());

                Missatge m = new Missatge(&quot;Usuari1&quot;,text.getText().toString());
                xat.push().setValue(m);

                text.setText(&quot;&quot;);
            }
        });

        // Exemple de listener de lectura única addListenerForSingleValueEvent()
        // Per a posar el títol. Sobre nomXat
        nomXat.addListenerForSingleValueEvent(new ValueEventListener() {
            @Override
            public void onDataChange(DataSnapshot dataSnapshot) {
                String value = dataSnapshot.getValue(String.class);
                setTitle(value);
            }

            @Override
            public void onCancelled(DatabaseError error) {
            }
        });

        // Exemple de listener de lectura contínua addValueEventListener()
        // Per a posar l'últim missatge registrat. Sobre a1
        refA1.addValueEventListener(new ValueEventListener() {
            @Override
            public void onDataChange(DataSnapshot dataSnapshot) {
                String value = dataSnapshot.getValue(String.class);
                ultim.setText(value);
            }

            @Override
            public void onCancelled(DatabaseError error) {
            }
        });

        // Exemple de listener d'una llista addChildEventListener()
        // Per a posar tota la llista de missatges. Sobre xat
        xat.addChildEventListener(new ChildEventListener() {
            @Override
            public void onChildAdded(DataSnapshot dataSnapshot, String s) {
                area.append(dataSnapshot.child(&quot;nom&quot;).getValue(String.class) + &quot;: &quot; + dataSnapshot.child(&quot;contingut&quot;).getValue(String.class) + &quot;\n&quot;);
            }
            @Override
            public void onChildChanged(DataSnapshot dataSnapshot, String s) {
            }
            @Override
            public void onChildRemoved(DataSnapshot dataSnapshot) {
            }
            @Override
            public void onChildMoved(DataSnapshot dataSnapshot, String s) {
            }
            @Override
            public void onCancelled(DatabaseError databaseError) {
            }
        });

    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="84"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="96"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="85"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="167"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="85"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="86">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="87">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="207_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="86"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;p&gt;La classe &lt;strong&gt;Missatge&lt;/strong&gt; queda molt senzilla:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre class=&quot;  language-java&quot;&gt;&lt;code class=&quot;  language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Missatge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val nom&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; val contingut&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I el programa seria aquest:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import com.google.firebase.database.*
import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        boto.text = &quot;Enviar&quot;

        // Referències a la Base de Dades i a les variables a1, nomXat i xat
        val database = FirebaseDatabase.getInstance()
        val refA1 = database.getReference(&quot;a1&quot;)
        val nomXat = database.getReference(&quot;nomXat&quot;)
        val xat = database.getReference(&quot;xat&quot;)

        // Exemple de guardar dades. Primer sobre a1, i despŕes sobre la llista xat
        boto.setOnClickListener {
            refA1.setValue(text.text.toString())
            xat.push().setValue(Missatge(&quot;Usuari1&quot;, text.text.toString()))
            text.setText(&quot;&quot;)
        }
        // Exemple de listener de lectura única addListenerForSingleValue()
        // Per a posar el títol. Sobre nomXat
        nomXat.addListenerForSingleValueEvent(object : ValueEventListener {
            override fun onDataChange(dataSnapshot: DataSnapshot) {
                val value = dataSnapshot.getValue(String::class.java)
                setTitle(value)
            }

            override fun onCancelled(error: DatabaseError) {
            }
        })

        // Exemple de listener de lectura contínua addValueEventListener()
        // Per a posar l'últim missatge registrat. Sobre a1
        refA1.addValueEventListener(object : ValueEventListener {
            override fun onDataChange(dataSnapshot: DataSnapshot) {
                val value = dataSnapshot.getValue(String::class.java)
                ultim.setText(value)
            }

            override fun onCancelled(error: DatabaseError) {
            }
        })

        // Exemple de listener d'una llista addChildEventListener()
        // Per a posar tota la llista de missatges. Sobre xat
        xat.addChildEventListener(object : ChildEventListener {
            override fun onChildAdded(dataSnapshot: DataSnapshot, s: String?) {
                area.append(
                    dataSnapshot.child(&quot;nom&quot;).getValue(String::class.java) + &quot;: &quot; + dataSnapshot.child(&quot;contingut&quot;).getValue(String::class.java) + &quot;\n&quot;                    );
            }
            override fun onChildChanged(dataSnapshot: DataSnapshot, s: String?) {
            }
            override fun onChildRemoved(dataSnapshot: DataSnapshot) {
            }
            override fun onChildMoved(dataSnapshot: DataSnapshot, s: String?) {
            }
            override fun onCancelled(databaseError: DatabaseError) {
            }
        })

    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="87"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="85"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="200"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="85"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="88">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="89">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="208_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="88"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;Tant en el cas de Java com de Kotlin, el resultat seria aquest:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_3_1.png&quot; alt=&quot;&quot; width=&quot;403&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5375"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="201_208_2.13"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="90">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="88"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_3_3_1.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_3_3_1.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="8401631852e99b3dae9bc2e4ea3011fb"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="89"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="89"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="14"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="85"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="201"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="85"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="90"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="58"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.2%20Realtime%20Database%20%28RD%29:2.2.3%20RD%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.2.3.3%20RD-Android%3A%20Tot%20l%27exemple"></string>
                 <string role="key" value="parent"></string>
                 <reference key="58"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
              </list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="93">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="2.3 Cloud Firestore (CF)"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="91">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="92">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="91"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;&lt;strong&gt;Cloud Firestore&lt;/strong&gt; és l'evolució de Realtime Database, on ja podrem guardar més d'un document. Els documents aniran organitzats en col·leccions. Ja podem parlar d'una vertadera Base de Dades documental.&lt;/p&gt;
&lt;p&gt;Google recomana la utilització de Cloud Firestore en compte de Realtime Database. Potser fins i tot en un futur deixen de proveir aquesta última. Però no seria cap problema perquè tot el que podem guardar en Realtime Database ho podrem guardar en Cloud Firestore, sense que se'ns complique l'organització de les dades. I l'accés és igual de fàcil&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="92"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="93"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="206"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="93"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="55"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29"></string>
           <string role="key" value="parent"></string>
           <reference key="11"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="96">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.3.1 CF: Utilització des de l'entorn de Firebase"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="94">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="95">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="94"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Amb el &lt;strong&gt;Cloud Firestore&lt;/strong&gt; ja podrem guardar més d'un document, i aniran agrupats en &lt;strong&gt;col·leccions&lt;/strong&gt; de documents. En el següent vídeo anem a insistir en aquest aspecte dels documents, ja que és el més novedós.&lt;/p&gt;
&lt;p&gt;Hem de fer la consideració de que encara que treballem sobre la mateixa Base de Dades de Firebase, &lt;strong&gt;des de Cloud Firestore no podrem accedir a les dades de Realtime Database, i a l'inrevés&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object type=&quot;application/x-shockwave-flash&quot; data=&quot;resources/T7_Cloud_Firestore.swf&quot; width=&quot;1200&quot; height=&quot;820&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T7_Cloud_Firestore.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;Aquesta és l'estructura de dades que ens hem guardat en l'exemple:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_3_1_1.png&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;1238&quot; height=&quot;1026&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Observeu també que dins d'un document d'una col·lecció es pot començar una col·lecció i dins d'ella crear documents, etc. De manera que ho podem fer recursiu, i s'enriqueixen molt les possibilitats de disseny de la nostra Base de Dades. Anem a aprofundir en aquesta possibilitat de les subcol·leccions per a redissenyar les dades del nostre exemple del xat.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list>
                      <instance class="exe.engine.galleryidevice.GalleryImage">
                       <dictionary>
                        <string role="key" value="_caption"></string>
                        <instance class="exe.engine.field.TextField">
                         <dictionary>
                          <string role="key" value="_id"></string>
                          <int value="5365"></int>
                          <string role="key" value="_idevice"></string>
                          <none></none>
                          <string role="key" value="_instruc"></string>
                          <string value=""></string>
                          <string role="key" value="_name"></string>
                          <string value=""></string>
                          <string role="key" value="content"></string>
                          <string value=""></string>
                          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                          <int value="4"></int>
                         </dictionary>
                        </instance>
                        <string role="key" value="_id"></string>
                        <unicode value="207_85.75"></unicode>
                        <string role="key" value="_imageResource"></string>
                        <instance class="exe.engine.resource.Resource" reference="97">
                         <dictionary>
                          <string role="key" value="_idevice"></string>
                          <reference key="94"></reference>
                          <string role="key" value="_package"></string>
                          <reference key="2"></reference>
                          <string role="key" value="_storageName"></string>
                          <string value="T7_Cloud_Firestore.swf"></string>
                          <string role="key" value="_userName"></string>
                          <string value="/tmp/tmpLb7sM2/T7_Cloud_Firestore.swf"></string>
                          <string role="key" value="checksum"></string>
                          <string value="8b01abe1656b9e6fd2398b3126deb0c4"></string>
                          <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="warningMsg"></string>
                          <string value=""></string>
                         </dictionary>
                        </instance>
                        <string role="key" value="_parent"></string>
                        <reference key="95"></reference>
                        <string role="key" value="_thumbnailResource"></string>
                        <none></none>
                        <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                        <int value="3"></int>
                        <string role="key" value="makeThumbnail"></string>
                        <bool value="0"></bool>
                       </dictionary>
                      </instance>
                      <instance class="exe.engine.galleryidevice.GalleryImage">
                       <dictionary>
                        <string role="key" value="_caption"></string>
                        <instance class="exe.engine.field.TextField">
                         <dictionary>
                          <string role="key" value="_id"></string>
                          <int value="5395"></int>
                          <string role="key" value="_idevice"></string>
                          <none></none>
                          <string role="key" value="_instruc"></string>
                          <string value=""></string>
                          <string role="key" value="_name"></string>
                          <string value=""></string>
                          <string role="key" value="content"></string>
                          <string value=""></string>
                          <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                          <int value="4"></int>
                         </dictionary>
                        </instance>
                        <string role="key" value="_id"></string>
                        <unicode value="207_85.76"></unicode>
                        <string role="key" value="_imageResource"></string>
                        <instance class="exe.engine.resource.Resource" reference="98">
                         <dictionary>
                          <string role="key" value="_idevice"></string>
                          <reference key="94"></reference>
                          <string role="key" value="_package"></string>
                          <reference key="2"></reference>
                          <string role="key" value="_storageName"></string>
                          <string value="T7_2_3_1_1.png"></string>
                          <string role="key" value="_userName"></string>
                          <string value="/tmp/tmpLb7sM2/T7_2_3_1_1.png"></string>
                          <string role="key" value="checksum"></string>
                          <string value="9f7bdb3c1aafb6159180d36abe2045a6"></string>
                          <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                          <int value="2"></int>
                          <string role="key" value="warningMsg"></string>
                          <string value=""></string>
                         </dictionary>
                        </instance>
                        <string role="key" value="_parent"></string>
                        <reference key="95"></reference>
                        <string role="key" value="_thumbnailResource"></string>
                        <none></none>
                        <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                        <int value="3"></int>
                        <string role="key" value="makeThumbnail"></string>
                        <bool value="0"></bool>
                       </dictionary>
                      </instance>
                     </list>
                     <string role="key" value="idevice"></string>
                     <reference key="95"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="77"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="96"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="207"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="96"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list>
                  <reference key="97"></reference>
                  <reference key="98"></reference>
                 </list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.jsidevice.JsIdevice" reference="99">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="_attributes"></string>
                 <list>
                  <tuple>
                   <string value="title"></string>
                   <list>
                    <string value="Title"></string>
                    <int value="0"></int>
                    <int value="0"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="category"></string>
                   <list>
                    <string value="Category"></string>
                    <int value="0"></int>
                    <int value="1"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="css-class"></string>
                   <list>
                    <string value="CSS class"></string>
                    <int value="0"></int>
                    <int value="2"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="icon"></string>
                   <list>
                    <string value="Icon"></string>
                    <int value="0"></int>
                    <int value="3"></int>
                   </list>
                  </tuple>
                 </list>
                 <string role="key" value="_author"></string>
                 <string value=""></string>
                 <string role="key" value="_editionFolder"></string>
                 <string value="text/edition/"></string>
                 <string role="key" value="_editionResources"></string>
                 <list>
                  <string value="text.js"></string>
                 </list>
                 <string role="key" value="_exportFolder"></string>
                 <none></none>
                 <string role="key" value="_exportResources"></string>
                 <list></list>
                 <string role="key" value="_iDeviceDir"></string>
                 <string value="text"></string>
                 <string role="key" value="_purpose"></string>
                 <string value=""></string>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="_valid"></string>
                 <bool value="1"></bool>
                 <string role="key" value="class_"></string>
                 <unicode value="text"></unicode>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                 <int value="1"></int>
                 <string role="key" value="fields"></string>
                 <list>
                  <instance class="exe.engine.field.TextAreaField" reference="100">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <unicode value="208_2"></unicode>
                    <string role="key" value="_idevice"></string>
                    <reference key="99"></reference>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="anchor_names"></string>
                    <list></list>
                    <string role="key" value="anchors_linked_from_fields"></string>
                    <dictionary></dictionary>
                    <string role="key" value="content_w_resourcePaths"></string>
                    <unicode content="true" value=""></unicode>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                    <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                    <int value="3"></int>
                    <string role="key" value="htmlTag"></string>
                    <string value="div"></string>
                    <string role="key" value="images"></string>
                    <instance class="exe.engine.galleryidevice.GalleryImages">
                     <dictionary>
                      <string role="key" value=".listitems"></string>
                      <list></list>
                      <string role="key" value="idevice"></string>
                      <reference key="100"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="intlinks_to_anchors"></string>
                    <dictionary></dictionary>
                    <string role="key" value="nextImageId"></string>
                    <int value="0"></int>
                    <string role="key" value="parentNode"></string>
                    <reference key="96"></reference>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="icon"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="id"></string>
                 <unicode value="194"></unicode>
                 <string role="key" value="ideviceCategory"></string>
                 <unicode value="Text and Tasks"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="nextFieldId"></string>
                 <int value="3"></int>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parentNode"></string>
                 <reference key="96"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.jsidevice.JsIdevice" reference="101">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="_attributes"></string>
                 <list>
                  <tuple>
                   <string value="title"></string>
                   <list>
                    <string value="Title"></string>
                    <int value="0"></int>
                    <int value="0"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="category"></string>
                   <list>
                    <string value="Category"></string>
                    <int value="0"></int>
                    <int value="1"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="css-class"></string>
                   <list>
                    <string value="CSS class"></string>
                    <int value="0"></int>
                    <int value="2"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="icon"></string>
                   <list>
                    <string value="Icon"></string>
                    <int value="0"></int>
                    <int value="3"></int>
                   </list>
                  </tuple>
                 </list>
                 <string role="key" value="_author"></string>
                 <string value=""></string>
                 <string role="key" value="_editionFolder"></string>
                 <string value="text/edition/"></string>
                 <string role="key" value="_editionResources"></string>
                 <list>
                  <string value="text.js"></string>
                 </list>
                 <string role="key" value="_exportFolder"></string>
                 <none></none>
                 <string role="key" value="_exportResources"></string>
                 <list></list>
                 <string role="key" value="_iDeviceDir"></string>
                 <string value="text"></string>
                 <string role="key" value="_purpose"></string>
                 <string value=""></string>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="_valid"></string>
                 <bool value="1"></bool>
                 <string role="key" value="class_"></string>
                 <unicode value="text"></unicode>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                 <int value="1"></int>
                 <string role="key" value="fields"></string>
                 <list>
                  <instance class="exe.engine.field.TextAreaField" reference="102">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <unicode value="209_2"></unicode>
                    <string role="key" value="_idevice"></string>
                    <reference key="101"></reference>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="anchor_names"></string>
                    <list></list>
                    <string role="key" value="anchors_linked_from_fields"></string>
                    <dictionary></dictionary>
                    <string role="key" value="content_w_resourcePaths"></string>
                    <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Subcol·leccions&lt;/p&gt;
&lt;p&gt;Com es veia en l'última imatge, es poden crear subcol·leccions en un document, i aquestes col·leccions contenir a la seua vegada tots els documents que calga.&lt;/p&gt;
&lt;p&gt;Aleshores ens redissenyarem el xat construït en la part de &lt;strong&gt;Realtime Database&lt;/strong&gt;. En aquell moment vam posar tots els missatges del xat en un llista. Ens anava molt bé, perquè després posàvem un listener sobre la clau del xat que detectava tots els elements nous: el &lt;strong&gt;addChildEventListener()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Tanmateix en el &lt;strong&gt;Cloud Firestore&lt;/strong&gt; no tindrem el listener anterior. El que sí que disposarem és d'un listener que detecte els nous documents sobre una col·lecció. Aleshores anem a muntar cada missatge del xat com un nou document, que de moment només tindrà usuari i missatge.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;object width=&quot;1200&quot; height=&quot;820&quot; data=&quot;resources/T7_Cloud_Firestore_Subcoleccions.swf&quot; type=&quot;application/x-shockwave-flash&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;resources/T7_Cloud_Firestore_Subcoleccions.swf&quot; /&gt;&lt;/object&gt;&lt;/p&gt;
&lt;p&gt;Per tant, després de l'anterior tenim una col·lecció anomenada &lt;strong&gt;Xats&lt;/strong&gt;, dins de la qual hi ha un document anomenat &lt;strong&gt;XatProva&lt;/strong&gt;, dins del qual hi ha un camp anomenat &lt;strong&gt;nomXat &lt;/strong&gt;i una col·lecció anomenada &lt;strong&gt;missatges&lt;/strong&gt;, dins del qual hi ha dos documents, un d'ells amb nom &lt;strong&gt;0&lt;/strong&gt; i un altre amb nom generat per Cloud Firestore&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_1_2.png&quot; alt=&quot;&quot; width=&quot;1200&quot; height=&quot;800&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                    <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                    <int value="3"></int>
                    <string role="key" value="htmlTag"></string>
                    <string value="div"></string>
                    <string role="key" value="images"></string>
                    <instance class="exe.engine.galleryidevice.GalleryImages">
                     <dictionary>
                      <string role="key" value=".listitems"></string>
                      <list>
                       <instance class="exe.engine.galleryidevice.GalleryImage">
                        <dictionary>
                         <string role="key" value="_caption"></string>
                         <instance class="exe.engine.field.TextField">
                          <dictionary>
                           <string role="key" value="_id"></string>
                           <int value="5425"></int>
                           <string role="key" value="_idevice"></string>
                           <none></none>
                           <string role="key" value="_instruc"></string>
                           <string value=""></string>
                           <string role="key" value="_name"></string>
                           <string value=""></string>
                           <string role="key" value="content"></string>
                           <string value=""></string>
                           <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                           <int value="4"></int>
                          </dictionary>
                         </instance>
                         <string role="key" value="_id"></string>
                         <unicode value="195_209_2.22"></unicode>
                         <string role="key" value="_imageResource"></string>
                         <instance class="exe.engine.resource.Resource" reference="103">
                          <dictionary>
                           <string role="key" value="_idevice"></string>
                           <reference key="101"></reference>
                           <string role="key" value="_package"></string>
                           <reference key="2"></reference>
                           <string role="key" value="_storageName"></string>
                           <string value="T7_2_3_1_2.png"></string>
                           <string role="key" value="_userName"></string>
                           <string value="/tmp/tmpLb7sM2/T7_2_3_1_2.png"></string>
                           <string role="key" value="checksum"></string>
                           <string value="9fe63917194e36b16f19497a2584c621"></string>
                           <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                           <int value="2"></int>
                           <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                           <int value="2"></int>
                           <string role="key" value="warningMsg"></string>
                           <string value=""></string>
                          </dictionary>
                         </instance>
                         <string role="key" value="_parent"></string>
                         <reference key="102"></reference>
                         <string role="key" value="_thumbnailResource"></string>
                         <none></none>
                         <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                         <int value="3"></int>
                         <string role="key" value="makeThumbnail"></string>
                         <bool value="0"></bool>
                        </dictionary>
                       </instance>
                      </list>
                      <string role="key" value="idevice"></string>
                      <reference key="102"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="intlinks_to_anchors"></string>
                    <dictionary></dictionary>
                    <string role="key" value="nextImageId"></string>
                    <int value="23"></int>
                    <string role="key" value="parentNode"></string>
                    <reference key="96"></reference>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="icon"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="id"></string>
                 <unicode value="195"></unicode>
                 <string role="key" value="ideviceCategory"></string>
                 <unicode value="Text and Tasks"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="nextFieldId"></string>
                 <int value="3"></int>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parentNode"></string>
                 <reference key="96"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list>
                  <reference key="103"></reference>
                 </list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="56"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.1%20CF%3A%20Utilitzaci%C3%B3%20des%20de%20l%27entorn%20de%20Firebase"></string>
              <string role="key" value="parent"></string>
              <reference key="93"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="106">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.3.2 CF: Utilització des de Java"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="104">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="105">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="104"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Exemple&lt;/p&gt;
&lt;p&gt;Practicarem tot el que ve a continuació sobre un programa gràfic.&lt;/p&gt;
&lt;p&gt;Aquest és el seu esquelet:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileInputStream;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.ExecutionException;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import com.google.api.core.ApiFuture;
import com.google.auth.oauth2.GoogleCredentials;
import com.google.cloud.firestore.DocumentChange;
import com.google.cloud.firestore.DocumentReference;
import com.google.cloud.firestore.DocumentSnapshot;
import com.google.cloud.firestore.EventListener;
import com.google.cloud.firestore.Firestore;
import com.google.cloud.firestore.FirestoreException;
import com.google.cloud.firestore.QuerySnapshot;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.cloud.FirestoreClient;
import com.google.firebase.database.annotations.Nullable;

public class Pantalla_CrearXatCloud extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;

	JLabel etUsuari = new JLabel(&quot;Nom Usuari:&quot;);
	JTextField usuari = new JTextField(25);

	JLabel etUltimMissatge = new JLabel(&quot;Últim missatge: &quot;);
	JLabel ultimMissatge = new JLabel();

	JLabel etiqueta = new JLabel(&quot;Missatges:&quot;);
	JTextArea area = new JTextArea();

	JLabel etIntroduccioMissatge = new JLabel(&quot;Introdueix missatge:&quot;);
	JButton enviar = new JButton(&quot;Enviar&quot;);
	JTextField missatge = new JTextField(15);

	// en iniciar posem un contenidor per als elements anteriors
	public void iniciar() throws IOException, InterruptedException, ExecutionException {

		this.setBounds(100, 100, 450, 300);
		this.setLayout(new BorderLayout());
		// contenidor per als elements
		// Hi haurà títol. Panell de dalt: últim missatge. Panell de baix: per a
		// introduir missatge. Panell central: tot el xat

		JPanel panell11 = new JPanel(new FlowLayout());
		panell11.add(etUsuari);
		panell11.add(usuari);
		JPanel panell12 = new JPanel(new FlowLayout());
		panell12.add(etUltimMissatge);
		panell12.add(ultimMissatge);
		JPanel panell1 = new JPanel(new GridLayout(3, 1));
		panell1.add(panell11);
		panell1.add(panell12);
		getContentPane().add(panell1, BorderLayout.NORTH);

		JPanel panell2 = new JPanel(new BorderLayout());
		panell2.add(etiqueta, BorderLayout.NORTH);
		area.setForeground(Color.blue);
		JScrollPane scroll = new JScrollPane(area);
		panell2.add(scroll, BorderLayout.CENTER);
		getContentPane().add(panell2, BorderLayout.CENTER);

		JPanel panell3 = new JPanel(new FlowLayout());
		panell3.add(etIntroduccioMissatge);
		panell3.add(missatge);
		panell3.add(enviar);
		getContentPane().add(panell3, BorderLayout.SOUTH);

		setVisible(true);
		enviar.addActionListener(this);

		FileInputStream serviceAccount = new FileInputStream(
				&quot;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

		FirebaseApp.initializeApp(options);

		// Exemple de lectura única: senzillament sobre un ApiFuture i sobre ell get()
		// Per a posar el títol. Sobre /Xats/XatProva/nomXat

		// Exemple de listener de lectura contínua addSnapshotListener()
		// Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge

		// Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
		// Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
			// Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1

		}
	}

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I aquest és el programa principal que crida l'anterior:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.IOException;

public class CrearXatCloud {

    public static void main(String[] args) throws IOException {
        final Pantalla_CrearXatCloud finestra = new Pantalla_CrearXatCloud();
        finestra.iniciar();
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="105"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="106"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="208"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="106"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="57"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.2%20CF%3A%20Utilitzaci%C3%B3%20des%20de%20Java"></string>
              <string role="key" value="parent"></string>
              <reference key="93"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list>
               <instance class="exe.engine.node.Node" reference="109">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.2.1 CF-Java: Connexió des de Java"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="107">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="108">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="107"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Drivers necessaris&lt;/p&gt;
&lt;p&gt;Els drivers necessaris són els mateixos que vam baixar-nos per al cas de &lt;strong&gt;Realtime Database&lt;/strong&gt;. Millor dit, estan inclosos en la llibreria que ens vam muntar, per tant aquesta feina la vam fer en el punt &lt;strong&gt;2.2.2.1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="108"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="109"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="202"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="109"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="110">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="111">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="110"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Configuració&lt;/p&gt;
&lt;p&gt;Exactament el mateix que en el cas de &lt;strong&gt;Realtime Database&lt;/strong&gt;. Observeu que és lògic, perquè és la manera d'accedir al projecte, i el projecte és el mateix. Per tant, tornem a fer referència al punt &lt;strong&gt;2.2.2.1&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Recordeu que ens vam baixar un fitxer &lt;strong&gt;json&lt;/strong&gt; amb la clau privada que vam guardar a l'arrel del projecte (i del qual és molt convenient guardar còpia). Després, com deia l'exemple, col·loquem el següent per a un accés correcte:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;FileInputStream serviceAccount = new FileInputStream(&lt;em&gt;nom_al_fitxer_json&lt;/em&gt;);

FirebaseOptions options = new FirebaseOptions.Builder()
		.setCredentials(GoogleCredentials.fromStream(serviceAccount))
		.setDatabaseUrl(&quot;https://acces-a-dades-6e5a6.firebaseio.com&quot;).build();

FirebaseApp.initializeApp(options);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;No us oblideu de substituir el nom del fitxer json&lt;/strong&gt;. També heu de tenir en compte que &lt;strong&gt;la URL de la base de dades serà diferent per a cadascú de nosaltres&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Ara serà lleugerament més que en el cas de &lt;strong&gt;Realtime Database &lt;/strong&gt;vist en el punt &lt;strong&gt;2.2.2.1&lt;/strong&gt;., ja que no caldrà especificar la URL de la Base de Dades, amb la referència al fitxer json serà suficient.&lt;/p&gt;
&lt;p&gt;Recordeu que ens vam baixar un fitxer &lt;strong&gt;json&lt;/strong&gt; amb la clau privada que vam guardar a l'arrel del projecte (i del qual és molt convenient guardar còpia). Després, com deia l'exemple, col·loquem el següent per a un accés correcte, on no posem el &lt;strong&gt;.setDatebaseURL()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;codi&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;FileInputStream serviceAccount = new FileInputStream(&lt;em&gt;nom_al_fitxer_json&lt;/em&gt;);

FirebaseOptions options = new FirebaseOptions.Builder()
		.setCredentials(GoogleCredentials.fromStream(serviceAccount))
		.build();

FirebaseApp.initializeApp(options);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;No us oblideu de substituir el nom del fitxer json&lt;/strong&gt;.&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="111"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="109"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="203"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="109"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="112">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="113">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="112"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Referència a la Base de Dades i a les dades concretes a les quals volem accedir&lt;/p&gt;
&lt;p&gt;Ara la referència a la Base de Dades de &lt;strong&gt;Cloud Firestore&lt;/strong&gt; canviarà:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;Firestore database = FirestoreClient.getFirestore();&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Com que la informació està organitzada en col·leccions i dins d'ella en documents, podrem accedir primer a les col·leccions i dins d'elles a documents. A continuació teniu la referència pas a pas:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;CollectionReference col = database.collection(&quot;Xats&quot;);
DocumentReference docXatProva = col.document(&quot;XatProva&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Encara que evidentment ho podíem haver fet en una única línia:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;No ens plantejarem accedir a un element de dins d'un document, sinó que de moment accedirem a tot el conjunt del document.&lt;/p&gt;
&lt;p&gt;Recordeu que &lt;strong&gt;Realtime Database&lt;/strong&gt;, com era un únic document JSON, allà anava tot i obligatòriament havíem de poder tenir una referència a un únic element. Com en &lt;strong&gt;Cloud Firestore&lt;/strong&gt; ho podem organitzar en col·leccions i documents, cadascun d'ells el podem dissenyar millor i que continga únicament les dades estrictes. Aleshores ens anirà bé accedir a tot el document.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="113"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="109"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="204"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="109"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="59"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.2%20CF%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.3.2.1%20CF-Java%3A%20Connexi%C3%B3%20des%20de%20Java"></string>
                 <string role="key" value="parent"></string>
                 <reference key="106"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="116">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.2.2 CF-Java: Accés a les dades"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="114">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="115">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="114"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Guardar dades&lt;/p&gt;
&lt;p&gt;Com acabem de comentar, accedim a tot un document dins d'una col·lecció.&lt;/p&gt;
&lt;p&gt;Per a guardar dades, ens podem plantejar 3 operacions d'escriptura sobre el document:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Sobreescriure'l tot: ho farem amb el mètode &lt;strong&gt;set()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Esborrar-lo tot: amb el mètode &lt;strong&gt;delete()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Modificar-lo: amb el mètode &lt;strong&gt;update()&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excepte per esborrar, per a les altres operacions ens fa falta saber l'estructura del document. Per això tant mètode &lt;strong&gt;set()&lt;/strong&gt; com el mètode &lt;strong&gt;update()&lt;/strong&gt; accepten com a paràmetre no una única dada, sinó una estructura que puga arribar a reflectir el document. Acceptaran com a paràmetre un &lt;strong&gt;Map&amp;lt;String, Object&amp;gt;&lt;/strong&gt;, on podrem col·locar les claus i els valors de tots els membres del document. Cada valor pot ser dels tipus que vam practicar en el punt anterior: string, number, boolean, array, map, ...&lt;/p&gt;
&lt;p&gt;La manera de col·locar un element en una estructura &lt;strong&gt;Map&amp;lt;&amp;gt;&lt;/strong&gt; és amb el mètode &lt;strong&gt;put()&lt;/strong&gt;, que acceptarà dos paràmetres: la clau i el valor.&lt;/p&gt;
&lt;p&gt;En el següent exemple. quan s'apreta el botó d'enviar (baix a la dreta) es guardarà el contingut del quadre de text &lt;strong&gt;usuari&lt;/strong&gt; que està dalt i el de &lt;strong&gt;missatge&lt;/strong&gt; que està baix. Però observeu que estem utilitzant el mètode &lt;strong&gt;set()&lt;/strong&gt; i per tant matxacaríem el que ja teníem contruït (el nom del xat i la subcol·lecció de missatges). &lt;strong&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;Per tant US ACONSELLE QUE NO EXECUTEU EL QUE VE A CONTINUACIÓ&lt;/span&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
            // Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1
            Firestore database = FirestoreClient.getFirestore();
			DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;,usuari.getText());
			dades.put(&quot;ultimMissatge&quot;,missatge.getText());
			
			docXatProva.set(dades);
			
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aquest seria el resultat, creant-se el document amb les 2 clau-valor, i havent matxacat el que hi havia&lt;img src=&quot;resources/T7_2_3_2_1.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;1464&quot; height=&quot;899&quot; /&gt;&lt;/p&gt;
&lt;p&gt;En realitat els mètodes &lt;strong&gt;set()&lt;/strong&gt;, &lt;strong&gt;delete()&lt;/strong&gt; i &lt;strong&gt;update()&lt;/strong&gt; tornen un valor, que és un &lt;strong&gt;ApiFuture&amp;lt;WriteResult&amp;gt;&lt;/strong&gt;, que permet averiguar com ha anat l'actualització de les dades. D'aquest &lt;strong&gt;ApiFuture&amp;lt;&amp;gt; &lt;/strong&gt; podem obtenir el moment en què s'ha confirmat l'actualització, però tranctant-lo perquè pot donar error.&lt;/p&gt;
&lt;p&gt;Ampliem l'exemple anterior en què utilitzàvem el &lt;strong&gt;set()&lt;/strong&gt; per a comprovar el que comentem, senzillament mostrant el moment en què s'ha actualitzat. &lt;strong&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;US ACONSELLE QUE NO EXECUTEU EL QUE VE A CONTINUACIÓ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
            // Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1
            Firestore database = FirestoreClient.getFirestore();
			DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;,usuari.getText());
			dades.put(&quot;ultimMissatge&quot;,missatge.getText());		
			
			ApiFuture&amp;lt;WriteResult&amp;gt; result = docXatProva.set(dades);
			try {
				System.out.println(&quot;Update time : &quot; + result.get().getUpdateTime());
			} catch (InterruptedException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			} catch (ExecutionException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
			
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Si veiem la consola d'eixida d'Eclipse veurem en negre al final com ha imprés el moment de la confirmació.&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_2_3_2_2.png&quot; alt=&quot;&quot; width=&quot;1388&quot; height=&quot;322&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Aprofitem per comentar els avisos que ens han arribat. A les 4 primeres línies no els donarem importància. A partir de la quarta ens avisa ens falta alguna cosa que properament podria causar que fallara el grograma, i és el tractament de les dates. En el nostre exemple no cal que ens preocupem, perquè no guardem dates, i en els exercicis les guardem com un &lt;strong&gt;long&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;En els exemples anterior, en cas d'haver-se executat hauran matxacat el document &lt;strong&gt;XatProva &lt;/strong&gt; i això era per haver utilitzat el mètode &lt;strong&gt;set() &lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Anem a canviar-lo pel mètode &lt;strong&gt;update()&lt;/strong&gt;, en què senzillament afegirà (i si és necessari matxacarà) les dades que proporcionem, però mantindrà les altres. &lt;strong&gt;AQUEST EXEMPLE SÍ QUE EL PODEU FER&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;
public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
            // Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1
            Firestore database = FirestoreClient.getFirestore();
			DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;,usuari.getText());
			dades.put(&quot;ultimMissatge&quot;,missatge.getText());
			
			docXatProva.update(dades);
			
		}
	}&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;conservarem tant el camp &lt;strong&gt;nomXat&lt;/strong&gt; com la col·lecció &lt;strong&gt;missatges&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;pre class=&quot;&quot; translate=&quot;no&quot; dir=&quot;ltr&quot; is-upgraded=&quot;&quot;&gt;&lt;span class=&quot;typ&quot;&gt;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5405"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="205_85.54"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="117">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="114"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_3_2_1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_3_2_1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="dd94ace98b647d954464fba7556122f5"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="115"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5420"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="205_85.55"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="118">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="114"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_3_2_2.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_3_2_2.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="12a628a2d12eec5241a38ba2772a7a42"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="115"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                        </list>
                        <string role="key" value="idevice"></string>
                        <reference key="115"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="56"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="116"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="205"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="116"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="117"></reference>
                     <reference key="118"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="119">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="120">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="119"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Recuperar dades&lt;/p&gt;
&lt;p&gt;Com en el cas del Realtime Database, ens plantegem dos casos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una única lectura&lt;/li&gt;
&lt;li&gt;Un listener que es quede escoltant per si hi ha canvis&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Com comprovarem, queda més senzilla la lectura única en el cas de Cloud Firestore.&lt;/p&gt;
&lt;h2&gt;Lectura única&lt;/h2&gt;
&lt;p&gt;Per a fer una lectura única utilitzarem el mètode &lt;strong&gt;get()&lt;/strong&gt; sobre una referència al document que volem llegir. El resultat ens ve en un &lt;strong&gt;ApiFuture&amp;lt;DocumentSnapshot&amp;gt;&lt;/strong&gt;, que com es veu és una còpia de les dades en una interface &lt;strong&gt;ApiFutute&lt;/strong&gt;, indicant que la tindrem disponible en un futur. Sobre l'anterior farem &lt;strong&gt;get()&lt;/strong&gt; per a obtenir aquesta còpia (serà un objecte). I sobre ella podrem fer:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getData()&lt;/strong&gt; per a obtenir tot el document en un &lt;strong&gt;Map&amp;lt;String,Object&amp;gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getId()&lt;/strong&gt; per a obtenir el nom del document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;get(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir directament el valor d'una clau del document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getString(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau en forma de string&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getDouble(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau en forma de double&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'exemple d'única lectura el farem per a posar el títol de l'aplicació, com en l'exemple del Realtime Database. Prèviament, des de la consola de Firebase ja havíem creat la parella clau-valor: &lt;strong&gt;nomXat: Xat Cloud&lt;/strong&gt; &lt;strong&gt;Firestore&lt;/strong&gt;, dins del document &lt;strong&gt;XatProva&lt;/strong&gt;. Si pels exemples anteriors (els que havia marcat en roig que no us aconsellava fer) heu perdut aquesta parella, és el moment de crear-la de nou:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_1.1.png&quot; alt=&quot;&quot; width=&quot;1282&quot; height=&quot;454&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ara sí que haurem d'anar amb compte en el moment de guardar les dades. Si utilitzem el mètode &lt;strong&gt;set()&lt;/strong&gt; matxacarem el document anterior (amb el nom del xat). Per tant, a partir d'ara ens convindrà utilitzar el mètode &lt;strong&gt;update()&lt;/strong&gt;. Ho tornarem a especificar en el moment de fer aquesta escriptura.&lt;/p&gt;
&lt;p&gt;I aquestes seran les sentències per a posar el títol de l'aplicació:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de lectura única: senzillament sobre un ApiFuture i sobre ell get()
		// Per a posar el títol. Sobre /Xats/XatProva/nomXat
		Firestore database = FirestoreClient.getFirestore();
		DocumentReference docRef = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);
		ApiFuture&amp;lt;DocumentSnapshot&amp;gt; future = docRef.get();
		String nomXat = future.get().getString(&quot;nomXat&quot;);
		this.setTitle(nomXat);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I ací tenim el resultat:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_2.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;h2&gt;Listener que es queda escoltant: addSnapshotListener()&lt;/h2&gt;
&lt;p&gt;De forma paral·lela al Realtime Database, si volem rebre una notificació de quan hi haja un canvi en el document que ens interessa, sobRe una referència a aquest document ens muntarem un listener, en aquest cas amb el mètode &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;. Al mètode &lt;strong&gt;onEvent()&lt;/strong&gt; que s'ha de sobreescriure arribarà un paràmetre de tipus &lt;strong&gt;DocumentSnapshot&lt;/strong&gt;, que serà una còpia del document. Com en el cas anterior podrem fer sobre ell un &lt;strong&gt;getData()&lt;/strong&gt; per a obtenir tot el document, &lt;strong&gt;getString(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau com un string, etc.&lt;/p&gt;
&lt;p&gt;En el nostre exemple, de moment l'utilitzem tant per a posar l'últim missatge com per a anar omplit l'àrea central amb el xat. Però com havíem comentat abans, hem de cuidar de no matxacar tot el document per a noo perdre el títol del xat. Per tant, l'acció que farem en apretar el botó per a enviar el missatge no serà &lt;strong&gt;set()&lt;/strong&gt; sinó &lt;strong&gt;update(). &lt;/strong&gt;Per si de cas havíeu fet els exemples que us havia aconsellat que no féreu, ací teniu una altra vegada el codi correcte:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
			// Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1
			Firestore database = FirestoreClient.getFirestore();
			DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;,usuari.getText());
			dades.put(&quot;ultimMissatge&quot;,missatge.getText());		
			
			docXatProva.update(dades);
			
		}
	}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I ara sí el &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		// Exemple de listener de lectura contínua addSnapshotListener()
		// Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
		docRef.addSnapshotListener(new EventListener&amp;lt;DocumentSnapshot&amp;gt;() {
		  @Override
		  public void onEvent(@Nullable DocumentSnapshot snapshot,
		                      @Nullable FirestoreException e) {
		    if (e != null) {
		      System.err.println(&quot;Listen failed: &quot; + e);
		      return;
		    }

		    if (snapshot != null &amp;amp;&amp;amp; snapshot.exists()) {
		      ultimMissatge.setText(snapshot.getString(&quot;ultimMissatge&quot;));
		      area.append(snapshot.getString(&quot;ultimUsuari&quot;) + &quot;: &quot; + snapshot.getString(&quot;ultimMissatge&quot;) + &quot;\n&quot;);
		    } else {
		      System.out.print(&quot;Current data: null&quot;);
		    }
		  }
		});
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;En aquest exemple tenim el tractament de possibles errors, com que no s'accedeix al document, o aquest és nul.&lt;/p&gt;
&lt;p&gt;Observeu com la primera lectura també la fa, del que hi haja guardat en un principi. En la imatge es mostra el moment d'afegir un segon missatge:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_3.1.png&quot; alt=&quot;&quot; width=&quot;1279&quot; height=&quot;664&quot; /&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5393"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="192_85.65"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="121">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="119"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_3_2_2_1.1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_1.1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="ec38636b843f72e6d9fc89278da368fc"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="120"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5409"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="192_85.66"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="122">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="119"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_3_2_2_3.1.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_3.1.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="65ee0fa59875bfa7c17311ea4edaef4c"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="120"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                         <instance class="exe.engine.galleryidevice.GalleryImage">
                          <dictionary>
                           <string role="key" value="_caption"></string>
                           <instance class="exe.engine.field.TextField">
                            <dictionary>
                             <string role="key" value="_id"></string>
                             <int value="5426"></int>
                             <string role="key" value="_idevice"></string>
                             <none></none>
                             <string role="key" value="_instruc"></string>
                             <string value=""></string>
                             <string role="key" value="_name"></string>
                             <string value=""></string>
                             <string role="key" value="content"></string>
                             <string value=""></string>
                             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                             <int value="4"></int>
                            </dictionary>
                           </instance>
                           <string role="key" value="_id"></string>
                           <unicode value="192_85.67"></unicode>
                           <string role="key" value="_imageResource"></string>
                           <instance class="exe.engine.resource.Resource" reference="123">
                            <dictionary>
                             <string role="key" value="_idevice"></string>
                             <reference key="119"></reference>
                             <string role="key" value="_package"></string>
                             <reference key="2"></reference>
                             <string role="key" value="_storageName"></string>
                             <string value="T7_2_3_2_2_2.png"></string>
                             <string role="key" value="_userName"></string>
                             <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_2.png"></string>
                             <string role="key" value="checksum"></string>
                             <string value="e7330f3da2f07b47e2dc2287d19ced41"></string>
                             <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                             <int value="2"></int>
                             <string role="key" value="warningMsg"></string>
                             <string value=""></string>
                            </dictionary>
                           </instance>
                           <string role="key" value="_parent"></string>
                           <reference key="120"></reference>
                           <string role="key" value="_thumbnailResource"></string>
                           <none></none>
                           <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                           <int value="3"></int>
                           <string role="key" value="makeThumbnail"></string>
                           <bool value="0"></bool>
                          </dictionary>
                         </instance>
                        </list>
                        <string role="key" value="idevice"></string>
                        <reference key="120"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="68"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="116"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="192"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="116"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="121"></reference>
                     <reference key="122"></reference>
                     <reference key="123"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="124">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="125">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="207_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="124"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Guardar documents&lt;/p&gt;
&lt;p&gt;Ja havíem comentat en la pregunta 2.3.1 que per l'estructura de les dades a la qual ens convida &lt;strong&gt;Cloud Firestore&lt;/strong&gt;, en compte de guardar els missatges (i l'usuari) en una llista, ho faríem en documents dins d'una subcol·lecció.&lt;/p&gt;
&lt;p&gt;Per tant ens és necessària l'operació d'afegir un document a una col·lecció. Això en un principi ho aconseguiríem amb el mètode &lt;strong&gt;set()&lt;/strong&gt; sobre un document nou de la col·lecció:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;nomCol&quot;).document(&quot;nomDoc&quot;).set(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;però això ens obligaria a posar un nom a cada document. Ja havíem vist que Cloud Firestore era capaç de generar un nom de document que no es puga repetir. Des de Java s'aconsegueix amb el mètode &lt;strong&gt;add()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;nomCol&quot;).add(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;però que en el nostre cas, per ser una subcol·lecció és un poc més llarg&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).add(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;L'estructura de les dades la podem fer amb un &lt;strong&gt;Map&amp;lt;String,Object&amp;gt;&lt;/strong&gt;, i posar-li en el nostre cas l'usuari i el missatge. D'aquesta manera ens quedaria ara el procediment en apretar el botó d'enviar el missatge, on a banda del que teníem abans per a modificar &lt;strong&gt;ultimMissatge&lt;/strong&gt; i &lt;strong&gt;ultimUsuari&lt;/strong&gt;, ara afegirem el document nou.&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
			// Per a guardar dades. Sobre /Xats/XatProva i després sobre /Xats/Xat1
			Firestore database = FirestoreClient.getFirestore();
			DocumentReference docXatProva = database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;, usuari.getText());
			dades.put(&quot;ultimMissatge&quot;, missatge.getText());

			docXatProva.update(dades);

			Map&amp;lt;String, Object&amp;gt; dades2 = new HashMap&amp;lt;&amp;gt;();
			dades2.put(&quot;nom&quot;, usuari.getText());
			dades2.put(&quot;contingut&quot;, missatge.getText());

			database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).add(dades2);

		}
	}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I aquest és el resultat:&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_4.png&quot; alt=&quot;&quot; width=&quot;1283&quot; height=&quot;668&quot; /&gt;&lt;/p&gt;
&lt;p&gt;On podem veure com el contingut del nou document és el que volíem:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_5.png&quot; alt=&quot;&quot; width=&quot;1271&quot; height=&quot;660&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5378"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="193_207_2.34"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="126">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="124"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_2_2_5.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_5.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="98f85d76201f6365e517bc89eb594d8f"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="125"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5414"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="193_207_2.35"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="127">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="124"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_2_2_4.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_4.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="37d0fece31c79993bc62c60f1ef2db3d"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="125"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="125"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="36"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="116"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="193"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="116"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="126"></reference>
                     <reference key="127"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="128">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="129">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="207_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="128"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Recuperar documents modificats&lt;/p&gt;
&lt;p&gt;Ja només ens queda detectar els canvis en els documents de la col·lecció, per a afegir a l'àrea central els documents afegits. També és un &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;, però ara l'apliquem a una col·lecció (no a un document). El resultat és que d'una forma molt còmoda podrem detectar els documents afegits, els modificats i fins i tot els esborrats.&lt;/p&gt;
&lt;p&gt;En el nostre exemple només ens interessa el cas de &lt;strong&gt;document afegit&lt;/strong&gt;, que serà un nou missatge en el xat, i el que farem serà afegir a &lt;strong&gt;area&lt;/strong&gt; (el JTextArea on visualitzem tota a conversa). Per tant ens &lt;strong&gt;sobrarà&lt;/strong&gt; la línia 120 &lt;strong&gt;area.append(...)&lt;/strong&gt;, en la qual afegíem a &lt;strong&gt;area&lt;/strong&gt; depenent del canvi en &lt;strong&gt;ultimMissatge&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ací tenim el fragment de programa que ens ho permetrà. Hem deixat els casos de &lt;strong&gt;document modificat&lt;/strong&gt; i &lt;strong&gt;document esborrat&lt;/strong&gt; per a una millor documentació, encara que en el nostre exemple no ho utilitzem.&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;		database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).addSnapshotListener(new EventListener&amp;lt;QuerySnapshot&amp;gt;() {
			@Override
			public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirestoreException e) {
				if (e != null) {
					System.err.println(&quot;Listen failed: &quot; + e);
					return;
				}

				for (DocumentChange dc : snapshots.getDocumentChanges()) {
					switch (dc.getType()) {
					case ADDED:
						area.append(dc.getDocument().getString(&quot;nom&quot;) + &quot;: &quot; + dc.getDocument().getString(&quot;contingut&quot;) + &quot;\n&quot;);
						break;
					case MODIFIED:
						System.out.println(&quot;Missatge modificat: &quot; + dc.getDocument().getData());
						break;
					case REMOVED:
						System.out.println(&quot;Missatge esborrat: &quot; + dc.getDocument().getData());
						break;
					default:
						break;
					}
				}
			}
		});&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;&lt;querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I en aquesta imatge es veu com en un principi es veuen els 3 documents que ja existien (2 creats en la pregunta 2.3.1, i 1 immediatament abans). També s'afegeix un altre missatge per veure que es visualitza perfectament&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_2_6.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;És de destacar que ara la còpia de les daddes, el snapshot, és en realitat un &lt;strong&gt;QuerySnapshot&lt;/strong&gt;. I és que nosaltres no hem fet cap consulta sobre els documents de la col·lecció, però és possible fer-la. Per exemple es podria seleccionar per mig d'una query tots els documents en què l'usuari és un determinat. Aleshores detectaríem els documents afegits, modificats o esborrats d'aquest usuari. Ho faríem en el moment de declarar el &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).whereEqualTo(&quot;usuari&quot;, &quot;Usuari3&quot;).addSnapshotListener(new EventListener&amp;lt;QuerySnapshot&amp;gt;&lt;querysnapshot&gt;&lt;querysnapshot&gt;() {
&lt;/querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;O també podríem ordenar els documents per algun camp. Açò en realitat seria necessari per a poder ordenar els missatges, ja que el nom del document auto-generat per Cloud Firestore no és consecutiu, sinó aleatori, i per tant perfectament un document nou tinga un nom anterior a alguns dels existents. Ho arreglaríem fàcilment posant un camp més amb la data i ordenant per aquest camp amb &lt;strong&gt;orderBy()&lt;/strong&gt; (que aniria en el lloc del &lt;strong&gt;whereEqualTo()&lt;/strong&gt; de la sentència anterior).&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5428"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="196_207_2.17"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="130">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="128"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_2_2_6.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_2_2_6.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="e989c5e8f34bde9511cca377fa3194bf"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="129"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="129"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="18"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="116"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="196"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="116"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="130"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="60"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.2%20CF%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.3.2.2%20CF-Java%3A%20Acc%C3%A9s%20a%20les%20dades"></string>
                 <string role="key" value="parent"></string>
                 <reference key="106"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="133">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.2.3 CF-Java: Tot l'exemple"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="131">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="132">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="208_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="131"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value=""></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="132"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="133"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="197"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="133"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="134">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="135">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="209_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="134"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;Anem a posar tot l'exemple del xat complet, això sí, amb algunes modificacions i millores:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tindrem la classe &lt;strong&gt;Missatge&lt;/strong&gt; amb les propietat &lt;strong&gt;nom&lt;/strong&gt; i &lt;strong&gt;contingut&lt;/strong&gt; (expressament diferents dels noms utilitzats en l'exemple anterior per poder comprovar que aquestes modificacions funcionen i milloren l'exemple). Posarem també la &lt;strong&gt;data&lt;/strong&gt; (com un long) per a poder ordenar els missatges cronològicament&lt;/li&gt;
&lt;li&gt;Llevem les coses que no s'utilitzen estrictament en aquest exemple&lt;/li&gt;
&lt;li&gt;No definirem la referència a la Base de Dades en cada utilització. Únicament una vegada al principi, després de la connexió.&lt;/li&gt;
&lt;li&gt;Posem un &lt;strong&gt;JComboBox&lt;/strong&gt; per a poder triar entre més d'un xat. Per a no modificar les coses ja fetes, posarem la creació dels listeners en un mètode anomenat &lt;strong&gt;inicialitzar()&lt;/strong&gt;, ja que ara els listeners dependran del xat triat. I haurem d'anar amb compte també de parar els listeners, ja creats. És a dir, si primer triem un xat, tindrem els listeners que apunten a ell. Si després triem un altre xat i creem els listeners una altra vegada per a que apunten al lloc correcte, els tindrem per duplicat. Hauríem de parar els primers listeners&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Aquest és la classe &lt;strong&gt;Missatge&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public class Missatge{
    public String nom;
    public long data;
    public String contingut;

    public Missatge(){
    }

    public Missatge(String nom,String cont){
        this.nom=nom;
        this.contingut=cont;
    }

	public Missatge(String nom, long data, String contingut) {
		super();
		this.nom = nom;
		this.data = data;
		this.contingut = contingut;
	}

	public String getNom() {
		return nom;
	}

	public void setNom(String nom) {
		this.nom = nom;
	}


	public long getData() {
		return data;
	}

	public void setData(long data) {
		this.data = data;
	}
	
	public String getContingut() {
		return contingut;
	}

	public void setContingut(String contingut) {
		this.contingut = contingut;
	}
    
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Aquest és el programa&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileInputStream;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ExecutionException;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import com.google.api.core.ApiFuture;
import com.google.auth.oauth2.GoogleCredentials;
import com.google.cloud.firestore.DocumentChange;
import com.google.cloud.firestore.DocumentReference;
import com.google.cloud.firestore.DocumentSnapshot;
import com.google.cloud.firestore.EventListener;
import com.google.cloud.firestore.Firestore;
import com.google.cloud.firestore.FirestoreException;
import com.google.cloud.firestore.ListenerRegistration;
import com.google.cloud.firestore.QueryDocumentSnapshot;
import com.google.cloud.firestore.QuerySnapshot;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.cloud.FirestoreClient;
import com.google.firebase.database.annotations.Nullable;

public class Pantalla_CrearXatCloud extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;
	JLabel etComboXats = new JLabel(&quot;Llista de tots els xats disponibles:&quot;);
	JComboBox comboXats = new JComboBox();

	JLabel etUsuari = new JLabel(&quot;Nom Usuari:&quot;);
	JTextField usuari = new JTextField(25);

	JLabel etUltimMissatge = new JLabel(&quot;Últim missatge: &quot;);
	JLabel ultimMissatge = new JLabel();

	JLabel etiqueta = new JLabel(&quot;Missatges:&quot;);
	JTextArea area = new JTextArea();

	JLabel etIntroduccioMissatge = new JLabel(&quot;Introdueix missatge:&quot;);
	JButton enviar = new JButton(&quot;Enviar&quot;);
	JTextField missatge = new JTextField(15);

	Firestore database = null;
	DocumentReference docRef = null;

	ListenerRegistration listenerUltimMissatge = null;
	ListenerRegistration listenerMissatges = null;


	// en iniciar posem un contenidor per als elements anteriors
	public void iniciar() throws IOException, InterruptedException, ExecutionException {
		JFrame pantPrincipal = this;
		this.setBounds(100, 100, 450, 400);
		this.setLayout(new BorderLayout());
		// contenidor per als elements
		// Hi haurà títol. Panell de dalt: últim missatge. Panell de baix per a introduir missatge. Panell central: tot el xat

		JPanel panell10 = new JPanel(new FlowLayout());
		panell10.add(etComboXats);
		panell10.add(comboXats);
		JPanel panell11 = new JPanel(new FlowLayout());
		panell11.add(etUsuari);
		panell11.add(usuari);
		JPanel panell12 = new JPanel(new FlowLayout());
		panell12.add(etUltimMissatge);
		panell12.add(ultimMissatge);
		JPanel panell1 = new JPanel(new GridLayout(3, 1));
		panell1.add(panell10);
		panell1.add(panell11);
		panell1.add(panell12);
		getContentPane().add(panell1, BorderLayout.NORTH);

		JPanel panell2 = new JPanel(new BorderLayout());
		panell2.add(etiqueta, BorderLayout.NORTH);
		area.setForeground(Color.blue);
		JScrollPane scroll = new JScrollPane(area);
		panell2.add(scroll, BorderLayout.CENTER);
		getContentPane().add(panell2, BorderLayout.CENTER);

		JPanel panell3 = new JPanel(new FlowLayout());
		panell3.add(etIntroduccioMissatge);
		panell3.add(missatge);
		panell3.add(enviar);
		getContentPane().add(panell3, BorderLayout.SOUTH);

		setVisible(true);
		comboXats.addActionListener(this);
		enviar.addActionListener(this);

		FileInputStream serviceAccount = new FileInputStream(
				&quot;acces-a-dades-6e5a6-firebase-adminsdk-ei7uc-8f5d926921.json&quot;);

		GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount);
		FirebaseOptions options = new FirebaseOptions.Builder().setCredentials(credentials).build();
		FirebaseApp.initializeApp(options);

		database = FirestoreClient.getFirestore();

		// Exemple de llegir tots els documents d'una col·lecció
		// Per a triar el xat
		List&amp;lt;QueryDocumentSnapshot&amp;gt; documents = database.collection(&quot;Xats&quot;).get().get().getDocuments();
		for (QueryDocumentSnapshot document : documents) {
			comboXats.addItem(document.getId());
		}
		comboXats.setSelectedIndex(0);

	}

	private void inicialitzar() throws InterruptedException, ExecutionException {
		// TODO Auto-generated method stub
		docRef = database.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString());
		area.setText(&quot;&quot;);

		// Exemple de lectura única: senzillament sobre un ApiFuture i sobre ell get()
		// Per a posar el títol. Sobre /Xats/XatProva/nomXat
		ApiFuture&amp;lt;DocumentSnapshot&amp;gt; future = docRef.get();
		String nomXat = future.get().getString(&quot;nomXat&quot;);
		this.setTitle(nomXat);

		// Exemple de listener de lectura contínua addSnapshotListener() sobre un document
		// Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
		// Si estava en marxa, el parem abans de tornar-lo a llançar
		if (listenerUltimMissatge != null)
			listenerUltimMissatge.remove();

		listenerUltimMissatge = docRef.addSnapshotListener(new EventListener&amp;lt;DocumentSnapshot&amp;gt;() {
			@Override
			public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirestoreException e) {
				ultimMissatge.setText(snapshot.getString(&quot;ultimMissatge&quot;));
			}
		});

		// Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
		// Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
		// Si estava en marxa, el parem abans de tornar-lo a llançar
		if (listenerMissatges != null)
			listenerMissatges.remove();

		listenerMissatges = database.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString()).collection(&quot;missatges&quot;)
				.orderBy(&quot;data&quot;).addSnapshotListener(new EventListener&amp;lt;QuerySnapshot&amp;gt;() {
					@Override
					public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirestoreException e) {

						for (DocumentChange dc : snapshots.getDocumentChanges()) {
							switch (dc.getType()) {
							case ADDED:
								SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm&quot;);
								String dataFormatejada = sdf.format(new Date(dc.getDocument().getLong(&quot;data&quot;)));
								area.append(dc.getDocument().getString(&quot;nom&quot;) + &quot; (&quot; + dataFormatejada + &quot;): &quot;
										+ dc.getDocument().getString(&quot;contingut&quot;) + &quot;\n&quot;);
								break;
							}
						}
					}
				});

	}

	@Override
	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == enviar) {
			// Exemple de guardar dades en Cloud Firestore
			// Per a guardar dades. Sobre /Xats/XatProva
			Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
			dades.put(&quot;ultimUsuari&quot;, usuari.getText());
			dades.put(&quot;ultimMissatge&quot;, missatge.getText());
			docRef.update(dades);

			Missatge m = new Missatge(usuari.getText(), (new Date()).getTime(), missatge.getText());
			database.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString()).collection(&quot;missatges&quot;).add(m);

		}

		if (e.getSource() == comboXats) {
			//database = FirestoreClient.getFirestore();
			try {
				inicialitzar();
			} catch (InterruptedException | ExecutionException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
		}
	}

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;querydocumentsnapshot&gt;&lt;documentsnapshot&gt;&lt;documentsnapshot&gt;&lt;querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/documentsnapshot&gt;&lt;/documentsnapshot&gt;&lt;/querydocumentsnapshot&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I aquest és el programa principal&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.IOException;
import java.util.concurrent.ExecutionException;

public class CrearXatCloud {

    public static void main(String[] args) throws IOException, InterruptedException, ExecutionException {
        final Pantalla_CrearXatCloud_def finestra = new Pantalla_CrearXatCloud_def();
        finestra.iniciar();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;br /&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I aquest és un exemple d'utilització. Es pot veure el JComboBox per a triar els diferents xats&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_2_3_1.png&quot; alt=&quot;&quot; width=&quot;450&quot; height=&quot;400&quot; /&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5383"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="198_209_2.15"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="136">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="134"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_2_3_1.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_2_3_1.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="32261605eb8914cd06ee1a0e03fbc781"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="135"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="135"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="16"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="133"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="198"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="133"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="136"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="61"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.2%20CF%3A%20Utilitzaci%C3%B3%20des%20de%20Java:2.3.2.3%20CF-Java%3A%20Tot%20l%27exemple"></string>
                 <string role="key" value="parent"></string>
                 <reference key="106"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
              </list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="139">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="2.3.3 CF: Utilització des d'Android"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.jsidevice.JsIdevice" reference="137">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="_attributes"></string>
                 <list>
                  <tuple>
                   <string value="title"></string>
                   <list>
                    <string value="Title"></string>
                    <int value="0"></int>
                    <int value="0"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="category"></string>
                   <list>
                    <string value="Category"></string>
                    <int value="0"></int>
                    <int value="1"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="css-class"></string>
                   <list>
                    <string value="CSS class"></string>
                    <int value="0"></int>
                    <int value="2"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="icon"></string>
                   <list>
                    <string value="Icon"></string>
                    <int value="0"></int>
                    <int value="3"></int>
                   </list>
                  </tuple>
                 </list>
                 <string role="key" value="_author"></string>
                 <string value=""></string>
                 <string role="key" value="_editionFolder"></string>
                 <string value="text/edition/"></string>
                 <string role="key" value="_editionResources"></string>
                 <list>
                  <string value="text.js"></string>
                 </list>
                 <string role="key" value="_exportFolder"></string>
                 <none></none>
                 <string role="key" value="_exportResources"></string>
                 <list></list>
                 <string role="key" value="_iDeviceDir"></string>
                 <string value="text"></string>
                 <string role="key" value="_purpose"></string>
                 <string value=""></string>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="_valid"></string>
                 <bool value="1"></bool>
                 <string role="key" value="class_"></string>
                 <unicode value="text"></unicode>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                 <int value="1"></int>
                 <string role="key" value="fields"></string>
                 <list>
                  <instance class="exe.engine.field.TextAreaField" reference="138">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <unicode value="207_2"></unicode>
                    <string role="key" value="_idevice"></string>
                    <reference key="137"></reference>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="anchor_names"></string>
                    <list></list>
                    <string role="key" value="anchors_linked_from_fields"></string>
                    <dictionary></dictionary>
                    <string role="key" value="content_w_resourcePaths"></string>
                    <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;De forma absolutament paral·lela a com quan vam veure el Realtime Database per a Android, ara toca el torn d'accedir al &lt;strong&gt;Cloud Firestore &lt;/strong&gt;de Firebase des d'Android. Com veurem, per a fer la connexió ens deixarem ajudar també per l'assistent.&lt;/p&gt;
&lt;p&gt;Com en el cas anterior, farem dues versions, per a Java i per a Kotlin. Aquestes dues versions tindran la mateixa pantalla, és a dir el &lt;strong&gt;activity_main.xml&lt;/strong&gt; serà idèntic.&lt;/p&gt;
&lt;p&gt;Els projectes s'anomenaran respectivament &lt;strong&gt;Tema7_1_FirebaseCF_Java&lt;/strong&gt; i &lt;strong&gt;Tema7_1_FirebaseCF_Kotlin&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;strong&gt;Nota important&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Tant en el cas de &lt;strong&gt;JAVA&lt;/strong&gt; com en el de &lt;strong&gt;KOTLIN&lt;/strong&gt;, per a accedir a &lt;strong&gt;Cloud Firestore&lt;/strong&gt; i que no ens falle el programa, haurem de posar en el &lt;strong&gt;build.gradle&lt;/strong&gt; de l'&lt;strong&gt;aplicació&lt;/strong&gt;, dins de &lt;strong&gt;android&lt;/strong&gt; i dins de &lt;strong&gt;defaultConfig&lt;/strong&gt; el següent:  &lt;strong&gt;multiDexEnabled true&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Si no ho fem així ens pot donar el següent error:&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;&lt;strong&gt;Cannot fit requested classes in a single dex file (# methods: 80444 &amp;gt; 65536)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;El activity_main.xml serà:&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&lt;!--?&lt;/span--&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xml version&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;1.0&quot; &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;encoding&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;utf-8&quot;&lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;?&amp;gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res/android&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/apk/res-auto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;http://schemas.android.com/tools&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:context&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;.MainActivity&quot;&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Spinner&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/comboXats&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/usuari&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/comboXats&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/ultim&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintHorizontal_bias&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0.0&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/usuari&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;317dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;44dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:ems&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;10&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;44dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;Button&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/area&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;0dp&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintBottom_toTopOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/text&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintEnd_toEndOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintStart_toStartOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_constraintTop_toBottomOf&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;=&quot;@+id/ultim&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;androidx.constraintlayout.widget.ConstraintLayout&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;p&gt;Els components que hem col·locat són:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un &lt;strong&gt;EditText&lt;/strong&gt; per al nom d'&lt;strong&gt;usuari&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Un &lt;strong&gt;TextView&lt;/strong&gt;, anomenat &lt;strong&gt;ultim&lt;/strong&gt;, per a visualitzar l'últim missatge, que es coordinarà amb &lt;strong&gt;/Xats/XatProva/ultimMissatge&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Un &lt;strong&gt;EditText&lt;/strong&gt; anomenat &lt;strong&gt;text&lt;/strong&gt;, on posarem els missatges que volem enviar&lt;/li&gt;
&lt;li&gt;Un &lt;strong&gt;Button&lt;/strong&gt;, anomenat &lt;strong&gt;boto&lt;/strong&gt;, que quan l'apretem és quan s'enviarà el missatge.&lt;/li&gt;
&lt;li&gt;Un &lt;strong&gt;TextView&lt;/strong&gt;, anomenat &lt;strong&gt;area&lt;/strong&gt;, on anirà tot el xat&lt;/li&gt;
&lt;li&gt;Un Spinner, per a poder seleccionar el xat entre uns quants xats&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I aquest seria l' &quot;esquelet&quot; del programa:&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.os.Bundle;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.TextView;

import com.google.android.gms.tasks.OnCompleteListener;
import com.google.android.gms.tasks.OnSuccessListener;
import com.google.android.gms.tasks.Task;
import com.google.firebase.firestore.DocumentChange;
import com.google.firebase.firestore.DocumentReference;
import com.google.firebase.firestore.DocumentSnapshot;
import com.google.firebase.firestore.EventListener;
import com.google.firebase.firestore.FirebaseFirestore;
import com.google.firebase.firestore.FirebaseFirestoreException;
import com.google.firebase.firestore.QuerySnapshot;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import javax.annotation.Nullable;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        final Spinner comboXats = (Spinner)findViewById(R.id.comboXats);
        final EditText usuari = (EditText)findViewById(R.id.usuari);
        final TextView ultim = (TextView)findViewById(R.id.ultim);
        final TextView area = (TextView)findViewById(R.id.area);
        final EditText text = (EditText)findViewById(R.id.text);
        final Button boto = (Button)findViewById(R.id.boto);

        boto.setText(&quot;Enviar&quot;);
        final Context pantPrincipal = this;

        // Referències a la Base de Dades i als documents

        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat

        // Exemple de lectura única: AddOnSuccessListener)
        // Per a posar el títol. Sobre /Xats/XatProva/nomXat

        // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
        // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimMissatge

        // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
        // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges

        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
        
    }

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                    <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                    <int value="3"></int>
                    <string role="key" value="htmlTag"></string>
                    <string value="div"></string>
                    <string role="key" value="images"></string>
                    <instance class="exe.engine.galleryidevice.GalleryImages">
                     <dictionary>
                      <string role="key" value=".listitems"></string>
                      <list></list>
                      <string role="key" value="idevice"></string>
                      <reference key="138"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="intlinks_to_anchors"></string>
                    <dictionary></dictionary>
                    <string role="key" value="nextImageId"></string>
                    <int value="0"></int>
                    <string role="key" value="parentNode"></string>
                    <reference key="139"></reference>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="icon"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="id"></string>
                 <unicode value="199"></unicode>
                 <string role="key" value="ideviceCategory"></string>
                 <unicode value="Text and Tasks"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="nextFieldId"></string>
                 <int value="3"></int>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parentNode"></string>
                 <reference key="139"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.jsidevice.JsIdevice" reference="140">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="_attributes"></string>
                 <list>
                  <tuple>
                   <string value="title"></string>
                   <list>
                    <string value="Title"></string>
                    <int value="0"></int>
                    <int value="0"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="category"></string>
                   <list>
                    <string value="Category"></string>
                    <int value="0"></int>
                    <int value="1"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="css-class"></string>
                   <list>
                    <string value="CSS class"></string>
                    <int value="0"></int>
                    <int value="2"></int>
                   </list>
                  </tuple>
                  <tuple>
                   <string value="icon"></string>
                   <list>
                    <string value="Icon"></string>
                    <int value="0"></int>
                    <int value="3"></int>
                   </list>
                  </tuple>
                 </list>
                 <string role="key" value="_author"></string>
                 <string value=""></string>
                 <string role="key" value="_editionFolder"></string>
                 <string value="text/edition/"></string>
                 <string role="key" value="_editionResources"></string>
                 <list>
                  <string value="text.js"></string>
                 </list>
                 <string role="key" value="_exportFolder"></string>
                 <none></none>
                 <string role="key" value="_exportResources"></string>
                 <list></list>
                 <string role="key" value="_iDeviceDir"></string>
                 <string value="text"></string>
                 <string role="key" value="_purpose"></string>
                 <string value=""></string>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="_valid"></string>
                 <bool value="1"></bool>
                 <string role="key" value="class_"></string>
                 <unicode value="text"></unicode>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                 <int value="1"></int>
                 <string role="key" value="fields"></string>
                 <list>
                  <instance class="exe.engine.field.TextAreaField" reference="141">
                   <dictionary>
                    <string role="key" value="_id"></string>
                    <unicode value="222_2"></unicode>
                    <string role="key" value="_idevice"></string>
                    <reference key="140"></reference>
                    <string role="key" value="_instruc"></string>
                    <string value=""></string>
                    <string role="key" value="_name"></string>
                    <string value=""></string>
                    <string role="key" value="anchor_names"></string>
                    <list></list>
                    <string role="key" value="anchors_linked_from_fields"></string>
                    <dictionary></dictionary>
                    <string role="key" value="content_w_resourcePaths"></string>
                    <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.widget.*
import com.google.firebase.firestore.*
import java.text.SimpleDateFormat
import java.util.*

import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {

        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        boto.text = &quot;Enviar&quot;
        val pantPrincipal = this

        // Referències a la Base de Dades i als documents

        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat

        // Exemple de lectura única: AddOnSuccessListener()
        // Per a posar el títol. Sobre /Xats/XatProva/nomXat

        // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
        // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimMissatge

        // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
        // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges

        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
    }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                    <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                    <int value="4"></int>
                    <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                    <int value="2"></int>
                    <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                    <int value="3"></int>
                    <string role="key" value="htmlTag"></string>
                    <string value="div"></string>
                    <string role="key" value="images"></string>
                    <instance class="exe.engine.galleryidevice.GalleryImages">
                     <dictionary>
                      <string role="key" value=".listitems"></string>
                      <list></list>
                      <string role="key" value="idevice"></string>
                      <reference key="141"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="intlinks_to_anchors"></string>
                    <dictionary></dictionary>
                    <string role="key" value="nextImageId"></string>
                    <int value="0"></int>
                    <string role="key" value="parentNode"></string>
                    <reference key="139"></reference>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="icon"></string>
                 <unicode value=""></unicode>
                 <string role="key" value="id"></string>
                 <unicode value="222"></unicode>
                 <string role="key" value="ideviceCategory"></string>
                 <unicode value="Text and Tasks"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="nextFieldId"></string>
                 <int value="3"></int>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parentNode"></string>
                 <reference key="139"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="62"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.3%20CF%3A%20Utilitzaci%C3%B3%20des%20d%27Android"></string>
              <string role="key" value="parent"></string>
              <reference key="93"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list>
               <instance class="exe.engine.node.Node" reference="144">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.3.1 CF-Android: Connexió"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="142">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="143">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="209_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="142"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;L'accés és extraordinàriament fàcil gràcies als assistents que ens proporciona el propi Android Studio.&lt;/p&gt;
&lt;p&gt;Al final de tot teniu un vídeo que repassa tots els passos per a poder connectar des de la nostra aplicació d'Android. A continuació els repassem i expliquem un a un. Són els que ens marca l'assistent, que haurem d'invocar sobre el nostre projecte ja creat, i que es crida des de  &lt;strong&gt;Tools --&amp;gt; Firebase --&amp;gt; Firestore&lt;/strong&gt; (està al final de tot)&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_1_1.png&quot; alt=&quot;&quot; width=&quot;1366&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Observeu que quasi quasi tot és idèntic, encara que utilitzem Java o Kotlin. Només farem la diferenciació en l'exemple, on estarà ja tot el codi.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Connectar l'aplicació a Firebase Cloud Firestore&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_1_2.png&quot; alt=&quot;&quot; width=&quot;1366&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;
&lt;p&gt;En apretar el botó de&lt;strong&gt; Connect to Firebase&lt;/strong&gt;, si no estàvem connectats amb el compte de Google al Firebase se'ns obrirà finestra d'un navegador per a connectar. Podria donar-se el cas que ens diguera que Android Studio vol accedir a les dades de la Base de Dades. Òbviament ho haurem de permetre:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_2.png&quot; alt=&quot;&quot; width=&quot;402&quot; height=&quot;725&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Una vegada autenticats en Firebase, des de l'entorn d'Android Studio ens ofereix la possibilitat de crear una aplicació nova (una Base de Dades nova) o utilitzar alguna de les que ja tenim. Utilitzarem la que ens ha servit de prova fins el moment:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_2_3_1_3.png&quot; alt=&quot;&quot; width=&quot;679&quot; height=&quot;453&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Quan haja connectat substituirà el botó &lt;strong&gt;Connect to Firebase&lt;/strong&gt;, per una etiqueta que dirà &lt;strong&gt;connected&lt;/strong&gt;, en verd.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Afegir la Base de Dades a la nostra aplicació&lt;/p&gt;
&lt;p&gt;En aquest segon pas, quan apretem el botó &lt;strong&gt;Add Cloud Firestore to your app&lt;/strong&gt;, ens dirà els canvis que farà per a incorporar les coses necessàries per a poder connectar.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_1_3.png&quot; alt=&quot;&quot; width=&quot;640&quot; height=&quot;463&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Com veieu es tracta d'incorporar les llibreries necessàries de Firebase. En el vídeo del final es mostren imatges amb les dades incorporades.&lt;/p&gt;
&lt;p&gt;Igual que abans, substituirà el botó &lt;strong&gt;Add the Realtime Database in your app&lt;/strong&gt;, per una etiqueta que dirà &lt;strong&gt;Dependencies set up correctly&lt;/strong&gt;, en verd. És una bona guia per saber en quin punt estem.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Permetre l'accés als usuaris, si es precís canviant les regles d'accés a la Base de Dades&lt;/p&gt;
&lt;p&gt;Com que Runtime Database i Cloud Firestore, encara que sembla que estan compartint la Base de Dades, en realitat no es pot accedir d'una a l'altra, igual ens passarà amb les &lt;strong&gt;regles d'accés&lt;/strong&gt; (&lt;strong&gt;Rules&lt;/strong&gt;). Per tant és convenient pegar-li una miradeta. Recordeu que és des de la&lt;strong&gt; consola de Firebase&lt;/strong&gt;, entrant al &lt;strong&gt;Cloud Firestore&lt;/strong&gt;, i anant a la pestanya &lt;strong&gt;Rules&lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_1_4.png&quot; alt=&quot;&quot; width=&quot;1071&quot; height=&quot;539&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Observeu que en aquest exemple he posat que es pot connectar qualsevol fins al 30-12-2020. Inicialment dóna un mes, però si no voleu tenir problemes, ho podeu allargar canviant la data.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Copiar les sentències per a escriure i per a llegir (millor dit per a detectar els canvis en temps real)&lt;/p&gt;
&lt;p&gt;Ens diu un exemple de les sentències a copiar per a poder poder fer referència a la Base de Dades, per a guardar una informació a la Base de Dades i també per a detectar un canvi en la Base de Dades i poder obtenir el nou valor. Encara que tinguem un projecte en Kotlin, les sentències d'exemple seran de Java, però que en copiar-les les traduiria a Kotlin. No fem diferenciació per tant entre Java i Kotlin en aquest moment.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_1_5.png&quot; alt=&quot;&quot; width=&quot;1366&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5364"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.68"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="145">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_3_1_3.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_3.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="ffe95e5633fe844b2b39114d9ed77a34"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5374"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.69"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="146">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_1_1.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_1_1.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="f51ffada702dded3426aa10501cf815a"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5379"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.70"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="147">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_1_3.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_1_3.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="4fadc7e8684def92f7d83072c03b1bad"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5380"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.71"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="148">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_1_5.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_1_5.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="993245330c32629aed3cea0aacbfbb6f"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5388"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.72"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="149">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_2_3_1_2.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_2_3_1_2.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="41ba16c9f3d5edc61a47e4f385d1b94d"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5390"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.73"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="150">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_1_2.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_1_2.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="4909d352768fe8f70beb772a9a671112"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5394"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="209_209_2.74"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="151">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="142"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_1_4.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_1_4.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="1ecab1bdd95ec807ed61231834fb9132"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="143"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="143"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="75"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="144"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="209"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="144"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="145"></reference>
                     <reference key="146"></reference>
                     <reference key="147"></reference>
                     <reference key="148"></reference>
                     <reference key="149"></reference>
                     <reference key="150"></reference>
                     <reference key="151"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="63"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.3%20CF%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.3.3.1%20CF-Android%3A%20Connexi%C3%B3"></string>
                 <string role="key" value="parent"></string>
                 <reference key="139"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="154">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.3.2 CF-Android: Accés a les dades"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="152">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="153">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="220_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="152"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Referència a la Base de Dades i a les dades concretes a les quals volem accedir&lt;/p&gt;
&lt;p&gt;Podrem fer referència, a bande de la Basede Dades, a cada col·lecció i/o a cada document de cada col·lecció&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Referències a la Base de Dades i als documents
        final FirebaseFirestore db = FirebaseFirestore.getInstance();
        final DocumentReference docRef = db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;observeu com no és cap impediment que ens toque definir-les com a &lt;strong&gt;final&lt;/strong&gt;, ja que aquesta referència no ha de canviar en cap moment després d'inicialitzar-la. Si que podem fer canviar el seu valor, però la referència sempre ha d'apuntar al mateix lloc.&lt;/p&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;p&gt;L'equivalent en Kotlin serà:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Referències a la Base de Dades i als documents
        val db = FirebaseFirestore.getInstance()
        val docRef = db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="153"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="154"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="213"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="154"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="155">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="156">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="221_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="155"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Guardar dades&lt;/p&gt;
&lt;p&gt;L'operació de guardar ara consistirà en actualitzar un document. Tindrem 3 maneres d'actualitzar-lo:&lt;/p&gt;
&lt;p&gt;Com acabem de comentar, accedim a tot un document dins d'una col·lecció.&lt;/p&gt;
&lt;p&gt;Per a guardar dades, ens podem plantejar 3 operacions d'escriptura sobre el document:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Sobreescriure'l tot: ho farem amb el mètode &lt;strong&gt;set()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Esborrar-lo tot: amb el mètode &lt;strong&gt;delete()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Modificar-lo: amb el mètode &lt;strong&gt;update()&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excepte per esborrar, per a les altres operacions ens fa falta saber l'estructura del document. Per això tant mètode &lt;strong&gt;set()&lt;/strong&gt; com el mètode &lt;strong&gt;update()&lt;/strong&gt; accepten com a paràmetre no una única dada, sinó una estructura que puga arribar a reflectir el document. Acceptaran com a paràmetre un &lt;strong&gt;Map&amp;lt;String, Object&amp;gt;&lt;/strong&gt;, on podrem col·locar les claus i els valors de tots els membres del document. Cada valor pot ser dels tipus que vam practicar en el punt anterior: string, number, boolean, array, map, ...&lt;/p&gt;
&lt;p&gt;La manera de col·locar un element en una estructura &lt;strong&gt;Map&amp;lt;&amp;gt;&lt;/strong&gt; és amb el mètode &lt;strong&gt;put()&lt;/strong&gt;, que acceptarà dos paràmetres: la clau i el valor.&lt;/p&gt;
&lt;p&gt;En el nostre exemple guardarem en el moment d'apretar el botó. Inicialment ho farem sobre &lt;strong&gt;/Xats/XatProva/ultimUsuari &lt;/strong&gt; i &lt;strong&gt;/Xats/XatProva/ultimMissatge&lt;/strong&gt;, encara que després ho canviarem&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
        boto.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
                dades.put(&quot;ultimUsuari&quot;, usuari.getText().toString());
                dades.put(&quot;ultimMissatge&quot;, text.getText().toString());
                docRef.update(dades);

                text.setText(&quot;&quot;);
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;&lt;code&gt;&lt;/code&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;code&gt;&lt;/code&gt;&lt;/h2&gt;
&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
        boto.setOnClickListener {
            val dades = HashMap&amp;lt;String, Any&amp;gt;()
            dades[&quot;ultimUsuari&quot;] = usuari.text.toString()
            dades[&quot;ultimMissatge&quot;] = text.text.toString()
            docRef.update(dades)

             text.setText(&quot;&quot;)
        }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="156"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="154"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="214"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="154"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="157">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="158">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="222_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="157"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Recuperar dades&lt;/p&gt;
&lt;p&gt;També ens plantejarem els dos casos que ja ens vam plantejar en Realtime Database:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una única lectura&lt;/li&gt;
&lt;li&gt;Un listener que es quede escoltant per si hi ha canvis&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;Listener de lectura única: addOnSuccessListener()&lt;/h2&gt;
&lt;p&gt;Ara des de Android, per a fer la lectura única també ens plantejarem un listener, que quedarà més sòlid i que podrem actuar quan estiguem segurs que la dada ha arribat.&lt;/p&gt;
&lt;p&gt;En realitat tenim més d'un listener per a comprovar com ha anat una lectura:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;addOnSuccessListener() &lt;/strong&gt;s'activarà quan la tasca de lectura finalitza de forma exitosa&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;addOnFailureListener() &lt;/strong&gt;s'activarà quan la tasca de lectura NO ha finalitzat bé&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;addOnCompleteListener()&lt;/strong&gt; s'activarà quan la tasca de lectura ha finalitzat, de forma exitosa o no. El més normal serà comprovar dins d'ell si ha anat bé&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per simplificar, en aquest moment només tractarem el primer dels 3, ja que ens assegura que la lectura ha anat bé. Quan això haja passat ( &lt;strong&gt;onSuccess()&lt;/strong&gt; ) podem utilitzar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;getData()&lt;/strong&gt; per a obtenir tot el document en un &lt;strong&gt;Map&amp;lt;String,Object&amp;gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getId()&lt;/strong&gt; per a obtenir el nom del document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;get(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir directament el valor d'una clau del document&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getString(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau en forma de string&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;getDouble(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau en forma de double&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'exemple d'única lectura el farem per a posar el títol de l'aplicació, com en l'exemple del Realtime Database.&lt;/p&gt;
&lt;p&gt;I aquestes seran les sentències per a posar el títol de l'aplicació:&lt;/p&gt;
&lt;h3&gt;JAVA&lt;code&gt;&lt;documentsnapshot&gt;&lt;/documentsnapshot&gt;&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de lectura única: AddOnSuccessListener()
        // Per a posar el títol. Sobre /Xats/XatProva/nomXat
        docRef.get().addOnSuccessListener(new OnSuccessListener&amp;lt;DocumentSnapshot&amp;gt;() {
            @Override
            public void onSuccess(DocumentSnapshot documentSnapshot) {
                String nomXat = documentSnapshot.getString(&quot;nomXat&quot;);
                setTitle(nomXat);
            }
        });
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;KOTLIN&lt;code&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de lectura única: AddOnSuccessListener()
        // Per a posar el títol. Sobre /Xats/XatProva/nomXat
        docRef.get().addOnSuccessListener { documentSnapshot -&amp;gt;
            setTitle(documentSnapshot.getString(&quot;nomXat&quot;))
        }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;
&lt;h2&gt;Listener que es queda escoltant: addSnapshotListener()&lt;/h2&gt;
&lt;p&gt;De forma paral·lela al Realtime Database, si volem rebre una notificació de quan hi haja un canvi en el document que ens interessa, sobre una referència a aquest document ens muntarem un listener, en aquest cas amb el mètode &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;. Al mètode &lt;strong&gt;onEvent()&lt;/strong&gt; que s'ha de sobreescriure arribarà un paràmetre de tipus &lt;strong&gt;DocumentSnapshot&lt;/strong&gt;, que serà una còpia del document. Com en el cas anterior podrem fer sobre ell un &lt;strong&gt;getData()&lt;/strong&gt; per a obtenir tot el document, &lt;strong&gt;getString(&lt;em&gt;nomClau&lt;/em&gt;) &lt;/strong&gt;per a obtenir el valor de la clau com un string, etc.&lt;/p&gt;
&lt;p&gt;En el nostre exemple, de moment l'utilitzem tant per a posar l'últim missatge com per a anar omplit l'àrea central amb el xat.&lt;/p&gt;
&lt;h3&gt;JAVA&lt;code&gt;&lt;documentsnapshot&gt;
&lt;/documentsnapshot&gt;&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
        // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        docRef.addSnapshotListener(new EventListener&lt;documentsnapshot&gt;() {
            @Override
            public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {
                ultim.setText(documentSnapshot.getString(&quot;ultimMissatge&quot;));
                area.append(documentSnapshot.getString(&quot;ultimUsuari&quot;) + &quot;: &quot; + documentSnapshot.getString(&quot;ultimMissatge&quot;) + &quot;\n&quot;);
            }

        });
&lt;/documentsnapshot&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;El més desitjable seria tractar els errors, cosa que no hem fet en aquest moment per simplicitat.&lt;/p&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
        // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimMissatge
         docRef.addSnapshotListener { documentSnapshot, e -&amp;gt;
             ultim.text = documentSnapshot!!.getString(&quot;ultimMissatge&quot;)
             area.append(&lt;documentsnapshot&gt;documentSnapshot!!.getString(&quot;ultimUsuari&quot;) + &quot;: &quot; &lt;/documentsnapshot&gt;documentSnapshot!!.getString(&quot;ultimMissatge&quot;) + &quot;\n&quot;)
         }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="158"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="154"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="215"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="154"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="159">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="160">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="223_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="159"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Guardar documents&lt;/p&gt;
&lt;p&gt;Ja sabem que l'estructura de col·leccions i documents, i que dins d'un document puc guardar col·leccions, en les quals hi haurà documents, ... amb una estructura que pot ser recursiva, convida a organitzar d'aquesta manera la informació: en compte d'utilitzar llistes (que també es pot però no són tan pràctiques), millor organitzar-ho en forma de subcol·leccions i documents. Anem a repetir el ja fet en el moment de Java, acoplant-lo a Android.&lt;/p&gt;
&lt;p&gt;Per tant ens és necessària l'operació d'afegir un document a una col·lecció. Això en un principi ho aconseguiríem amb el mètode &lt;strong&gt;set()&lt;/strong&gt; sobre un document nou de la col·lecció:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;nomCol&quot;).document(&quot;nomDoc&quot;).set(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;però això ens obligaria a posar un nom a cada document. Ja havíem vist que Cloud Firestore era capaç de generar un nom de document que no es puga repetir. Des de Java s'aconsegueix amb el mètode &lt;strong&gt;add()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;nomCol&quot;).add(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;però que en el nostre cas, per ser una subcol·lecció és un poc més llarg&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;database.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).add(dades);&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;L'estructura de les dades la podem fer amb un &lt;strong&gt;Map&amp;lt;string,object&amp;gt;&amp;lt;/string,object&amp;gt;&lt;/strong&gt;, i posar-li en el nostre cas l'usuari i el missatge. D'aquesta manera ens quedaria ara el procediment en apretar el botó d'enviar el missatge, on a banda del que teníem abans per a modificar &lt;strong&gt;ultimMissatge&lt;/strong&gt; i &lt;strong&gt;ultimUsuari&lt;/strong&gt;, ara afegirem el document nou.&lt;/p&gt;
&lt;h3&gt;JAVA&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
        boto.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
                dades.put(&quot;ultimUsuari&quot;, usuari.getText().toString());
                dades.put(&quot;ultimMissatge&quot;, text.getText().toString());
                docRef.update(dades);

                Missatge m = new Missatge(usuari.getText().toString(), text.getText().toString());
                db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).add(m);

                text.setText(&quot;&quot;);
            }
        });
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;&lt;code&gt;&lt;/code&gt;&lt;/h2&gt;
&lt;h3&gt;KOTLIN&lt;/h3&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Per a guardar dades
        // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
        // Després també com a documents en la col·lecció /Xats/XatProva/missatges
        boto.setOnClickListener {
            val dades = HashMap&amp;lt;String, Any&amp;gt;()
            dades[&quot;ultimUsuari&quot;] = usuari.text.toString()
            dades[&quot;ultimMissatge&quot;] = text.text.toString()
            docRef.update(dades)

            val m = Missatge(usuari.text.toString(), text.text.toString())
            db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).add(m)
            text.setText(&quot;&quot;)
        }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="160"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="2"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="154"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="216"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="154"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="161">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="162">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="224_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="161"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p class=&quot;titolet&quot;&gt;Recuperar documents modificats&lt;/p&gt;
&lt;p&gt;Ja només ens queda detectar els canvis en els documents de la col·lecció, per a afegir a l'àrea central els documents afegits. També és un &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;, però ara l'apliquem a una col·lecció (no a un document). El resultat és que d'una forma molt còmoda podrem detectar els documents afegits, els modificats i fins i tot els esborrats.&lt;/p&gt;
&lt;p&gt;Ací tenim el fragment de programa que ens ho permetrà. En aquest exemple només hem deixat el cas de &lt;strong&gt;document afegit&lt;/strong&gt;, i no hem posat els casos de &lt;strong&gt;document modificat&lt;/strong&gt; i &lt;strong&gt;document esborrat&lt;/strong&gt;, ja que en aquest exemple no ho utilitzem.&lt;/p&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
        // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
        db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).addSnapshotListener(new EventListener&lt;querysnapshot&gt;() {
            @Override
            public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirebaseFirestoreException e) {
                for (DocumentChange dc : snapshots.getDocumentChanges()) {
                    switch (dc.getType()) {
                        case ADDED:
                            area.append(dc.getDocument().getString(&quot;nom&quot;) + &quot;: &quot; + dc.getDocument().getString(&quot;contingut&quot;) + &quot;\n&quot;);
                            break;
                    }
                }
            }
        });
&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2&gt;KOTLIN&lt;code&gt;&lt;querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/h2&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
        // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
        db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).addSnapshotListener { snapshots, e -&amp;gt;
                for (dc in snapshots!!.documentChanges) {
                    when (dc.type) {
                        DocumentChange.Type.ADDED -&amp;gt; {
                            area.append( dc.document.getString(&quot;nom&quot;) + &quot;: &quot; + dc.document.getString(&quot;contingut&quot;) + &quot;\n&quot;)
                        }
                    }
                }
         }&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;És de destacar que ara la còpia de les dades, el snapshot, és en realitat un &lt;strong&gt;QuerySnapshot&lt;/strong&gt;. I és que nosaltres no hem fet cap consulta sobre els documents de la col·lecció, però és possible fer-la. Per exemple es podria seleccionar per mig d'una query tots els documents en què l'usuari és un determinat. Aleshores detectaríem els documents afegits, modificats o esborrats d'aquest usuari. Ho faríem en el moment de declarar el &lt;strong&gt;addSnapshotListener()&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;).collection(&quot;missatges&quot;).whereEqualTo(&quot;usuari&quot;, &quot;Usuari3&quot;).addSnapshotListener(new EventListener&lt;querysnapshot&gt;() {
&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;O també podríem ordenar els documents per algun camp. Açò en realitat seria necessari per a poder ordenar els missatges, ja que el nom del document auto-generat per Cloud Firestore no és consecutiu, sinó aleatori, i per tant perfectament un document nou tinga un nom anterior a alguns dels existents. Ho arreglaríem fàcilment posant un camp més amb la data i ordenant per aquest camp amb &lt;strong&gt;orderBy()&lt;/strong&gt; (que aniria en el lloc del &lt;strong&gt;whereEqualTo()&lt;/strong&gt; de la sentència anterior). Ho farem en l'exemple complet de la següent pregunta.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Un altre exemple. Anem a fer una lectura única de tots els documents de la col·lecció principal &lt;strong&gt;Xats&lt;/strong&gt;. Fins el moment hem treballat sempre sobre el document &lt;strong&gt;XatProva&lt;/strong&gt;, però ho anem a generalitzar per a accedir a més d'un xat.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;De moment ens aconformarem amb fer una lectura única de tots els documents del xat per a mostrar-los en un Spinner. Posteriorment, en l'exemple complet de la següent pregunta intentarem triar un xat o un altre per a que ens mostre els missatge de l'un o de l'altre.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Per a fer aquesta lectura única, ara utilitzarem un &lt;strong&gt;addOnCompletedListener()&lt;/strong&gt; en compte del &lt;strong&gt;addOnSuccessLitener()&lt;/strong&gt; de l'altra ocasió, i així veurem un poc la diferència de plantejament.&lt;/p&gt;
&lt;h3 style=&quot;text-align: justify;&quot;&gt;JAVA&lt;span style=&quot;color: #808080; font-style: italic;&quot;&gt;&lt;/span&gt;&lt;querysnapshot&gt;&lt;querysnapshot&gt;&lt;string&gt;&lt;string&gt;&lt;string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat
        db.collection(&quot;Xats&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;querysnapshot&gt;() {
            @Override
            public void onComplete(@NonNull Task&lt;querysnapshot&gt; task) {
                if (task.isSuccessful()) {
                    ArrayList&lt;string&gt; opcions = new ArrayList&amp;lt;&amp;gt;();
                    for (DocumentSnapshot document : task.getResult()) {
                        opcions.add(document.getId());
                    }
                    ArrayAdapter&lt;string&gt; adaptador = new ArrayAdapter&lt;string&gt;(pantPrincipal,android.R.layout.simple_spinner_item, opcions);
                    adaptador.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                    comboXats.setAdapter(adaptador);
                }
                else {
                }
            }
        });
&lt;/string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Observeu que dins del mètode &lt;strong&gt;onComplete()&lt;/strong&gt; (en compte del &lt;strong&gt;onSuccess()&lt;/strong&gt; ) mirem ara si s'ha completat satisfactòriament la tasca amb &lt;strong&gt;task.isSuccessful()&lt;/strong&gt;. Per simplicitat ara no fem res si no ha tingut èxit la lectura. Únicament tractem quan sí que ha tingut èxit, que aprofitem per a omplir el &lt;strong&gt;Spinner&lt;/strong&gt; a partir d'un &lt;strong&gt;ArrayAdapter&lt;/strong&gt;.&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h3 style=&quot;text-align: justify;&quot;&gt;KOTLIN&lt;/h3&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat
        db.collection(&quot;Xats&quot;).get().addOnCompleteListener { task -&amp;gt;
            if (task.isSuccessful) {
                val opcions = ArrayList&lt;string&gt;()
                for (document in task.result!!) {
                    opcions.add(document.id)
                }
                val adaptador = ArrayAdapter(pantPrincipal, android.R.layout.simple_spinner_item, opcions)
                adaptador.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
                comboXats.adapter = adaptador
            } else {
            }
        }
&lt;/string&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;En aquesta imatge es veu el resultat, on s'intenta explicar cadascuna de les coses:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_2_1(mod).png&quot; alt=&quot;&quot; width=&quot;700&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;De moment el Spinner no fa res quan seleccionem una opció.&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;Ho intentarem en l'exemple complet de la següent pregunta.&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5367"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="217_224_2.8"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="163">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="161"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_2_1(mod).png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_2_1(mod).png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="00d7bcef276ccb8619c2ad49c9b55ed8"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="162"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="162"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="9"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="154"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="217"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="154"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="163"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="65"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.3%20CF%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.3.3.2%20CF-Android%3A%20Acc%C3%A9s%20a%20les%20dades"></string>
                 <string role="key" value="parent"></string>
                 <reference key="139"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="166">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="2.3.3.3 CF-Android: Tot l'exemple"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="164">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="165">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="218_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="164"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value=""></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="165"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="166"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="218"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="166"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="167">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="168">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="219_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="167"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;Anem a posar tot l'exemple del xat complet, això sí, amb algunes modificacions i millores:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tindrem la classe &lt;strong&gt;Missatge&lt;/strong&gt; amb les propietat &lt;strong&gt;nom&lt;/strong&gt; i &lt;strong&gt;contingut&lt;/strong&gt; (expressament diferents dels noms utilitzats en l'exemple anterior per poder comprovar que aquestes modificacions funcionen i milloren l'exemple). Posarem també la &lt;strong&gt;data&lt;/strong&gt; (com un long) per a poder ordenar els missatges cronològicament&lt;/li&gt;
&lt;li&gt;Llevem les coses que no s'utilitzen estrictament en aquest exemple&lt;/li&gt;
&lt;li&gt;El &lt;strong&gt;Spinner&lt;/strong&gt; anomenat &lt;strong&gt;comboXats &lt;/strong&gt;ara ja funcionarà. Per a no modificar les coses ja fetes, posarem la creació dels listeners en un mètode anomenat &lt;strong&gt;inicialitzar() &lt;/strong&gt;que per a tocar el menys possible estarà dins del listener de detectar els canvis en el Spinner, ja que ara els altres listeners dependran del xat triat. I haurem d'anar amb compte també de parar els listeners, ja creats. És a dir, si primer triem un xat, tindrem els listeners que apunten a ell. Si després triem un altre xat i creem els listeners una altra vegada per a que apunten al lloc correcte, els tindrem per duplicat. Hauríem de parar els primers listeners&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;JAVA&lt;/h2&gt;
&lt;p&gt;Aquest és la classe &lt;strong&gt;Missatge&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;public class Missatge{
    public String nom;
    public long data;
    public String contingut;

    public Missatge(){
    }

    public Missatge(String nom,String cont){
        this.nom=nom;
        this.contingut=cont;
    }

	public Missatge(String nom, long data, String contingut) {
		super();
		this.nom = nom;
		this.data = data;
		this.contingut = contingut;
	}

	public String getNom() {
		return nom;
	}

	public void setNom(String nom) {
		this.nom = nom;
	}


	public long getData() {
		return data;
	}

	public void setData(long data) {
		this.data = data;
	}
	
	public String getContingut() {
		return contingut;
	}

	public void setContingut(String contingut) {
		this.contingut = contingut;
	}
    
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I aquest el programa:&lt;code&gt;&lt;querysnapshot&gt;&lt;querysnapshot&gt;&lt;string&gt;&lt;string&gt;&lt;string&gt;&lt;documentsnapshot&gt;&lt;documentsnapshot&gt;&lt;querysnapshot&gt;&lt;br /&gt;&lt;/querysnapshot&gt;&lt;/documentsnapshot&gt;&lt;/documentsnapshot&gt;&lt;/string&gt;&lt;/string&gt;&lt;/string&gt;&lt;/querysnapshot&gt;&lt;/querysnapshot&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.annotation.NonNull;
import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.TextView;

import com.google.android.gms.tasks.OnCompleteListener;
import com.google.android.gms.tasks.OnSuccessListener;
import com.google.android.gms.tasks.Task;
import com.google.firebase.firestore.DocumentChange;
import com.google.firebase.firestore.DocumentReference;
import com.google.firebase.firestore.DocumentSnapshot;
import com.google.firebase.firestore.EventListener;
import com.google.firebase.firestore.FirebaseFirestore;
import com.google.firebase.firestore.FirebaseFirestoreException;
import com.google.firebase.firestore.ListenerRegistration;
import com.google.firebase.firestore.QuerySnapshot;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;

import javax.annotation.Nullable;

public class MainActivity extends AppCompatActivity {
    FirebaseFirestore db;
    DocumentReference docRef;

    ListenerRegistration listenerUltimMissatge = null;
    ListenerRegistration listenerMissatges = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        final Spinner comboXats = (Spinner)findViewById(R.id.comboXats);
        final EditText usuari = (EditText)findViewById(R.id.usuari);
        final TextView ultim = (TextView)findViewById(R.id.ultim);
        final TextView area = (TextView)findViewById(R.id.area);
        final EditText text = (EditText)findViewById(R.id.text);
        final Button boto = (Button)findViewById(R.id.boto);

        boto.setText(&quot;Enviar&quot;);
        final Context pantPrincipal = this;

        // Referències a la Base de Dades i als documents
        db = FirebaseFirestore.getInstance();
        //docRef = db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat
        db.collection(&quot;Xats&quot;).get().addOnCompleteListener(new OnCompleteListener&amp;lt;QuerySnapshot&amp;gt;() {
            @Override
            public void onComplete(@NonNull Task&amp;lt;QuerySnapshot&amp;gt; task) {
                if (task.isSuccessful()) {
                    ArrayList&amp;lt;String&amp;gt; opcions = new ArrayList&amp;lt;&amp;gt;();
                    for (DocumentSnapshot document : task.getResult()) {
                        opcions.add(document.getId());
                    }
                    ArrayAdapter&amp;lt;String&amp;gt; adaptador = new ArrayAdapter&amp;lt;String&amp;gt;(pantPrincipal,android.R.layout.simple_spinner_item, opcions);
                    adaptador.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                    comboXats.setAdapter(adaptador);
                }
                else {
                }
            }
        });

        comboXats.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {

            @Override
            public void onItemSelected(AdapterView&amp;lt;?&amp;gt; arg0, View arg1,
                                       int arg2, long arg3) {
                // TODO Auto-generated method stub
                docRef=db.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString());
                area.setText(&quot;&quot;);
                inicialitzar();
            }

            private void inicialitzar() {
                // Exemple de lectura única: AddOnSuccessListener()
                // Per a posar el títol. Sobre /Xats/XatProva/nomXat
                docRef.get().addOnSuccessListener(new OnSuccessListener&amp;lt;DocumentSnapshot&amp;gt;() {
                    @Override
                    public void onSuccess(DocumentSnapshot documentSnapshot) {
                        String nomXat = documentSnapshot.getString(&quot;nomXat&quot;);
                        setTitle(nomXat);
                    }
                });

                // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
                // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimMissatge
                // Si estava en marxa, el parem abans de tornar-lo a llançar
                if (listenerUltimMissatge != null)
                    listenerUltimMissatge.remove();

                listenerUltimMissatge = docRef.addSnapshotListener(new EventListener&amp;lt;DocumentSnapshot&amp;gt;() {
                    @Override
                    public void onEvent(@Nullable DocumentSnapshot documentSnapshot, @Nullable FirebaseFirestoreException e) {
                        ultim.setText(documentSnapshot.getString(&quot;ultimMissatge&quot;));
                    }
                });

                // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
                // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
                // Si estava en marxa, el parem abans de tornar-lo a llançar
                if (listenerMissatges != null)
                    listenerMissatges.remove();

                listenerMissatges = db.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString()).collection(&quot;missatges&quot;)
                                        .orderBy(&quot;data&quot;).addSnapshotListener(new EventListener&amp;lt;QuerySnapshot&amp;gt;() {
                    @Override
                    public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirebaseFirestoreException e) {
                        for (DocumentChange dc : snapshots.getDocumentChanges()) {
                            switch (dc.getType()) {
                                case ADDED:
                                    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm&quot;);
                                    String dataFormatejada = sdf.format(new Date(dc.getDocument().getLong(&quot;data&quot;)));
                                    area.append(dc.getDocument().getString(&quot;nom&quot;) + &quot; (&quot; + dataFormatejada + &quot;): &quot;
                                            + dc.getDocument().getString(&quot;contingut&quot;) + &quot;\n&quot;);
                                    break;
                            }
                        }
                    }
                });

                // Per a guardar dades
                // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
                // Després també com a documents en la col·lecció /Xats/XatProva/missatges
                boto.setOnClickListener(new View.OnClickListener() {
                    @Override
                    public void onClick(View view) {
                        Map&amp;lt;String, Object&amp;gt; dades = new HashMap&amp;lt;&amp;gt;();
                        dades.put(&quot;ultimUsuari&quot;, usuari.getText().toString());
                        dades.put(&quot;ultimMissatge&quot;, text.getText().toString());
                        docRef.update(dades);

                        Missatge m = new Missatge(usuari.getText().toString(), (new Date()).getTime(), text.getText().toString());
                        db.collection(&quot;Xats&quot;).document(comboXats.getSelectedItem().toString()).collection(&quot;missatges&quot;).add(m);

                        text.setText(&quot;&quot;);
                    }
                });

            }

            @Override
            public void onNothingSelected(AdapterView&amp;lt;?&amp;gt; arg0) {
                // TODO Auto-generated method stub

            }
        });

    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="168"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="166"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="219"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="166"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="169">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="170">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="220_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="169"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;h2&gt;KOTLIN&lt;/h2&gt;
&lt;p&gt;Classe Missatge&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;class Missatge(val nom: String, val data: Long, val contingut: String) {}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I el programa:&lt;code&gt;&lt;string&gt;&lt;/string&gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.view.View
import android.widget.*
import com.google.firebase.firestore.*
import java.text.SimpleDateFormat
import java.util.*

import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() {

    var listenerUltimMissatge: ListenerRegistration? = null
    var listenerMissatges: ListenerRegistration? = null

    override fun onCreate(savedInstanceState: Bundle?) {

        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        boto.text = &quot;Enviar&quot;
        val pantPrincipal = this

        // Referències a la Base de Dades i als documents
        val db: FirebaseFirestore = FirebaseFirestore.getInstance()
        var docRef: DocumentReference = db.collection(&quot;Xats&quot;).document(&quot;XatProva&quot;);

        // Exemple de llegir tots els documents d'una col·lecció
        // Per a triar el xat
        db.collection(&quot;Xats&quot;).get().addOnCompleteListener { task -&amp;gt;
            if (task.isSuccessful) {
                val opcions = ArrayList&amp;lt;String&amp;gt;()
                for (document in task.result!!) {
                    opcions.add(document.id)
                }
                val adaptador =
                    ArrayAdapter(pantPrincipal, android.R.layout.simple_spinner_item, opcions)
                adaptador.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
                comboXats.adapter = adaptador
            } else {
            }
        }

        comboXats.onItemSelectedListener = object:AdapterView.OnItemSelectedListener {

            override fun onItemSelected(arg0:AdapterView&amp;lt;*&amp;gt;, arg1: View, arg2:Int, arg3:Long) {
                // TODO Auto-generated method stub
                docRef = db.collection(&quot;Xats&quot;).document(comboXats.selectedItem.toString())
                area.text = &quot;&quot;
                inicialitzar()
            }

            private fun inicialitzar() {
                // Exemple de lectura única: AddOnSuccessListener()
                // Per a posar el títol. Sobre /Xats/XatProva/nomXat
                docRef.get().addOnSuccessListener { documentSnapshot -&amp;gt;
                    val nomXat = documentSnapshot.getString(&quot;nomXat&quot;)
                    title = nomXat
                }

                // Exemple de listener de lectura contínua addSnapshotListener() sobre un document
                // Per a posar l'últim missatge registrat. Sobre /Xats/XatProva/ultimMissatge
                // Si estava en marxa, el parem abans de tornar-lo a llançar
                if (listenerUltimMissatge != null)
                    listenerUltimMissatge!!.remove()

                listenerUltimMissatge = docRef.addSnapshotListener { documentSnapshot, e -&amp;gt; ultim.text = documentSnapshot!!.getString(&quot;ultimMissatge&quot;) }

                // Exemple de listener de lectura contínua addSnapshotListener() sobre una col·lecció
                // Per a posar tota la llista de missatges. Sobre /Xats/XatProva/missatges
                // Si estava en marxa, el parem abans de tornar-lo a llançar
                if (listenerMissatges != null)
                    listenerMissatges!!.remove()

                listenerMissatges = db.collection(&quot;Xats&quot;).document(comboXats.selectedItem.toString()).collection(&quot;missatges&quot;)
                                        .orderBy(&quot;data&quot;).addSnapshotListener { snapshots, e -&amp;gt;
                    for (dc in snapshots!!.documentChanges) {
                        when (dc.type) {
                            DocumentChange.Type.ADDED -&amp;gt; {
                                val sdf = SimpleDateFormat(&quot;dd-MM-yyyy HH:mm&quot;)
                                val dataFormatejada = sdf.format(Date(dc.document.getLong(&quot;data&quot;)!!))
                                area.append(
                                    dc.document.getString(&quot;nom&quot;) + &quot; (&quot; + dataFormatejada + &quot;): &quot; + dc.document.getString(&quot;contingut&quot;) + &quot;\n&quot;
                                )
                            }
                        }
                    }
                }

                // Per a guardar dades
                // Primer sobre /Xats/XatProva/ultimUsuari i /Xats/XatProva/ultimMissatge
                // Després també com a documents en la col·lecció /Xats/XatProva/missatges
                boto.setOnClickListener {
                    val dades = HashMap&amp;lt;String, Any&amp;gt;()
                    dades[&quot;ultimUsuari&quot;] = usuari.text.toString()
                    dades[&quot;ultimMissatge&quot;] = text.text.toString()
                    docRef.update(dades)

                    val m = Missatge(usuari.text.toString(), (Date()).time, text.text.toString())
                    db.collection(&quot;Xats&quot;).document(comboXats.selectedItem.toString()).collection(&quot;missatges&quot;).add(m)

                    text.setText(&quot;&quot;)
                }

            }

            override fun onNothingSelected(arg0:AdapterView&amp;lt;*&amp;gt;) {
                // TODO Auto-generated method stub

            }
        }

    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;code&gt;&lt;string&gt;&lt;/string&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list></list>
                         <string role="key" value="idevice"></string>
                         <reference key="170"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="0"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="166"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="220"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="166"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.jsidevice.JsIdevice" reference="171">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="_attributes"></string>
                    <list>
                     <tuple>
                      <string value="title"></string>
                      <list>
                       <string value="Title"></string>
                       <int value="0"></int>
                       <int value="0"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="category"></string>
                      <list>
                       <string value="Category"></string>
                       <int value="0"></int>
                       <int value="1"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="css-class"></string>
                      <list>
                       <string value="CSS class"></string>
                       <int value="0"></int>
                       <int value="2"></int>
                      </list>
                     </tuple>
                     <tuple>
                      <string value="icon"></string>
                      <list>
                       <string value="Icon"></string>
                       <int value="0"></int>
                       <int value="3"></int>
                      </list>
                     </tuple>
                    </list>
                    <string role="key" value="_author"></string>
                    <string value=""></string>
                    <string role="key" value="_editionFolder"></string>
                    <string value="text/edition/"></string>
                    <string role="key" value="_editionResources"></string>
                    <list>
                     <string value="text.js"></string>
                    </list>
                    <string role="key" value="_exportFolder"></string>
                    <none></none>
                    <string role="key" value="_exportResources"></string>
                    <list></list>
                    <string role="key" value="_iDeviceDir"></string>
                    <string value="text"></string>
                    <string role="key" value="_purpose"></string>
                    <string value=""></string>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="_valid"></string>
                    <bool value="1"></bool>
                    <string role="key" value="class_"></string>
                    <unicode value="text"></unicode>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.jsidevice.JsIdevice.persistenceVersion"></string>
                    <int value="1"></int>
                    <string role="key" value="fields"></string>
                    <list>
                     <instance class="exe.engine.field.TextAreaField" reference="172">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <unicode value="221_2"></unicode>
                       <string role="key" value="_idevice"></string>
                       <reference key="171"></reference>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="anchor_names"></string>
                       <list></list>
                       <string role="key" value="anchors_linked_from_fields"></string>
                       <dictionary></dictionary>
                       <string role="key" value="content_w_resourcePaths"></string>
                       <unicode content="true" value="&lt;div class=&quot;exe-text&quot;&gt;&lt;p&gt;I el resultat tant en un cas com en l'altre és el de la imatge, en la qual es veu el contingut del xat &lt;strong&gt;Xat1&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T7_2_3_3_3_1.1.png&quot; alt=&quot;&quot; width=&quot;403&quot; height=&quot;720&quot; /&gt;&lt;/p&gt;&lt;/div&gt;"></unicode>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                       <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                       <int value="3"></int>
                       <string role="key" value="htmlTag"></string>
                       <string value="div"></string>
                       <string role="key" value="images"></string>
                       <instance class="exe.engine.galleryidevice.GalleryImages">
                        <dictionary>
                         <string role="key" value=".listitems"></string>
                         <list>
                          <instance class="exe.engine.galleryidevice.GalleryImage">
                           <dictionary>
                            <string role="key" value="_caption"></string>
                            <instance class="exe.engine.field.TextField">
                             <dictionary>
                              <string role="key" value="_id"></string>
                              <int value="5417"></int>
                              <string role="key" value="_idevice"></string>
                              <none></none>
                              <string role="key" value="_instruc"></string>
                              <string value=""></string>
                              <string role="key" value="_name"></string>
                              <string value=""></string>
                              <string role="key" value="content"></string>
                              <string value=""></string>
                              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                              <int value="4"></int>
                             </dictionary>
                            </instance>
                            <string role="key" value="_id"></string>
                            <unicode value="221_221_2.6"></unicode>
                            <string role="key" value="_imageResource"></string>
                            <instance class="exe.engine.resource.Resource" reference="173">
                             <dictionary>
                              <string role="key" value="_idevice"></string>
                              <reference key="171"></reference>
                              <string role="key" value="_package"></string>
                              <reference key="2"></reference>
                              <string role="key" value="_storageName"></string>
                              <string value="T7_2_3_3_3_1.1.png"></string>
                              <string role="key" value="_userName"></string>
                              <string value="/tmp/tmpLb7sM2/T7_2_3_3_3_1.1.png"></string>
                              <string role="key" value="checksum"></string>
                              <string value="0c67825f4282d219b2ae9db4650bebb3"></string>
                              <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                              <int value="2"></int>
                              <string role="key" value="warningMsg"></string>
                              <string value=""></string>
                             </dictionary>
                            </instance>
                            <string role="key" value="_parent"></string>
                            <reference key="172"></reference>
                            <string role="key" value="_thumbnailResource"></string>
                            <none></none>
                            <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                            <int value="3"></int>
                            <string role="key" value="makeThumbnail"></string>
                            <bool value="0"></bool>
                           </dictionary>
                          </instance>
                         </list>
                         <string role="key" value="idevice"></string>
                         <reference key="172"></reference>
                        </dictionary>
                       </instance>
                       <string role="key" value="intlinks_to_anchors"></string>
                       <dictionary></dictionary>
                       <string role="key" value="nextImageId"></string>
                       <int value="7"></int>
                       <string role="key" value="parentNode"></string>
                       <reference key="166"></reference>
                      </dictionary>
                     </instance>
                    </list>
                    <string role="key" value="icon"></string>
                    <unicode value=""></unicode>
                    <string role="key" value="id"></string>
                    <unicode value="221"></unicode>
                    <string role="key" value="ideviceCategory"></string>
                    <unicode value="Text and Tasks"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="nextFieldId"></string>
                    <int value="3"></int>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parentNode"></string>
                    <reference key="166"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list>
                     <reference key="173"></reference>
                    </list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="66"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:2%20-%20Firebase:2.3%20Cloud%20Firestore%20%28CF%29:2.3.3%20CF%3A%20Utilitzaci%C3%B3%20des%20d%27Android:2.3.3.3%20CF-Android%3A%20Tot%20l%27exemple"></string>
                 <string role="key" value="parent"></string>
                 <reference key="139"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
              </list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="176">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="3 - Bases de Dades Clau-Valor"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="174">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="175">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="174"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Segurament de tots els tipus de Bases de Dades NoSQL existents, la de més fàcil comprensió és la &lt;strong&gt;Base de Dades Clau-Valor&lt;/strong&gt;. En ella s'aniran guardant parelles clau-valor, és a dir, el nom d'una determinada propietat i el seu valor. La clau ha de ser única, és a dir, no es pot repetir ja que en cas contrari no es podria tornar a recuperar.&lt;/p&gt;
&lt;p&gt;Per tant no hi ha definició de taules ni cap altra estructura; es van guardant parelles clau-valor i prou. En el moment de recuperar la informació veurem que podrem obtenir el contingut d'una clau, o el de més d'una al mateix temps.&lt;/p&gt;
&lt;p&gt;L'exemple que veurem de Base de Dades Clau-Valor és &lt;strong&gt;Redis&lt;/strong&gt;, molt famosa per a seua potència i eficiència.&lt;/p&gt;
&lt;p&gt;La clau sempre és de tipus String, i com ja hem comentat no poden haver dues claus iguals. En Redis els valor poden ser de 5 tipus diferents:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Cadenes de caràcters (String)&lt;/strong&gt;. Per exemple: &lt;strong&gt;nom_1 --&amp;gt; Albert&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mapes (Hashes)&lt;/strong&gt; que vindria a ser un registre amb subcamps (sub-claus). Per exemple: &lt;strong&gt;empleat_1 --&amp;gt; [ nom=&quot;Albert&quot; , departament=&quot;10&quot; , sou=&quot;1000.0&quot; ]&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Llistes (Lists)&lt;/strong&gt; que són conjunts ordenats de valors. Per exemple: &lt;strong&gt;llista_1 --&amp;gt; { &quot;Primer&quot; , &quot;Segon&quot; , &quot;Tercer&quot; }&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Conjunts&lt;/strong&gt;&lt;strong&gt; (Sets)&lt;/strong&gt; són conjunts desordenats de valors. No importa el seu ordre, i de fet serà impredecible l'ordre amb el qual els torna Redis. Per exemple: &lt;strong&gt;colors --&amp;gt; { &quot;Blau&quot; , &quot;Verd&quot; , &quot;Roig&quot; }&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Conjunts Ordenats (Sorted Sets)&lt;/strong&gt;., que intenten reunir els avantatges dels conjunts, però que seran ordenats. Ja veurem la diferència entre llistes i conjunts ordenats.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Algunes característiques de Redis són:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;És una arquitectura client-servidor&lt;/li&gt;
&lt;li&gt;És extraordinàriament eficient quan es pot carregar tota en memòria, encara que si no pot carregar-la també funcionarà de forma molt ràpida. I a més manté una sincronització constant a disc per a fer les dades persistents. Aquesta tasca la fa en segon pla, de manera que no afecta al servei.&lt;/li&gt;
&lt;li&gt;Per a poder suportar ratios de lectura molt alts fa una replicació master/slave, és a dir que pot haver més d'un servidor, i un és el que actua de master i els altres són rèpliques del primer. El slave rep una copia inicial de la Base de Dades sencera. A mida que es van realitzant escriptures en el master, es van enviant a tots els slaves connectats. Els clients es poden connectar als distints servidors, bé siga al master o als slaves, sense haver de carregar sempre al master.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;.       &lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="175"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="176"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="2"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="176"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="2"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="179">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.1 - Instal·lació de Redis"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="177">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="178">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="177"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Redis està construït per a Linux. També funciona, però, des de Windows com veurem una miqueta més avant.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Instal·lació en Linux&lt;/p&gt;
&lt;p&gt;El lloc des d'on baixar-lo és la pàgina oficial:&lt;/p&gt;
&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://redis.io&quot;&gt;http://redis.io&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;En el moment de fer aquestos apunts, l'última versió estable és la &lt;strong&gt;4.0.6&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ens baixem el fitxer, el descomprimim, i després des d'una terminal ens situem en el direcori on s'ha descomprimit i fem &lt;strong&gt;make &lt;/strong&gt;per a generar els executables. Després de molts avisos, s'hauria d'haver instal·lat bé. Aquest seria el resum d'accions, fetes totes elles des d'una terminal (però no cal descomprimir des d'una terminal) i havent-nos situat prèviament en el lloc on està el fitxer baixat. També suposarem que el fitxer està col·locat en el lloc on volem que estiga instal·lat de forma definitiva. Recordeu que podeu descomprimir-lo de la manera que us resulte més còmoda:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;tar xzf redis-4.0.6.tar.gz&lt;br /&gt; &lt;br /&gt;cd redis-4.0.6&lt;br /&gt; &lt;br /&gt;make&lt;/p&gt;
&lt;p&gt;Amb açò s'haurien d'haver generat els executables, i ja hauria de funcionar.&lt;/p&gt;
&lt;p&gt;Per a posar en marxa el servidor, quasi que el més còmode serà obrir un terminal, situar-nos en el directori &lt;strong&gt;redis-4.0.6/src&lt;/strong&gt; i des d'ahi executar &lt;strong&gt;redis-server&lt;/strong&gt;. Hauria d'eixir una finestra similar a la següent, amb més o menys avisos (observeu que al principi de la imatge estan les ordres donades; i en la imatge està per a la versió 3.0.7, però per a la versió actual és completament equivalent).&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;  &lt;img src=&quot;resources/T8_2_1_1.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Entre altres coses diu que el servidor està en marxa esperant connexions al port 6379, que és el port per defecte de Redis. Aquesta finestra del terminal l'haurem de deixar en marxa. Quan vulguem detenir Redis, senzillament fem &lt;strong&gt;ctrl-c&lt;/strong&gt;, i detindrem l'execució de forma ordenada (guardant-se les dades no guardades)&lt;/p&gt;
&lt;p&gt;Podríem haver executat directament &lt;strong&gt;redis-server&lt;/strong&gt; fent-li doble-clic des d'un explorador d'arxius, per exemple, però aleshores no podríem parar-lo i en definitiva controlar-lo tan còmodament.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Per a fer una connexió des d'un client, també des d'un terminal (un altre) executem &lt;strong&gt;redis-cli&lt;/strong&gt;:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_2_1_2.png&quot; height=&quot;483&quot; width=&quot;724&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ja ha fet la connexió, concretament a localhost (127.0.0.1) i al port 6379, que havíem quedat que és el port per defecte.&lt;/p&gt;
&lt;p&gt;Comprovem que sí que funciona. Encara no hi ha dades, perquè l'acabem d'instal·lar. I recordeu que és una Base de Dades clau-valor. Per crear una entrada posarem &lt;strong&gt;set clau valor&lt;/strong&gt;. Per a obtenir-la posarem &lt;strong&gt;get clau&lt;/strong&gt;. En la imatge es pot comprovar:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_2_1_3.png&quot; height=&quot;485&quot; width=&quot;723&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Hem creat una clau anomenada &lt;strong&gt;clau_1&lt;/strong&gt; amb el valor &lt;strong&gt;primera&lt;/strong&gt;, com es pot comprovar en el moment d'obtenir-la amb &lt;strong&gt;get&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Si al programa &lt;strong&gt;redis-cli&lt;/strong&gt; no li posem paràmetres, intentarà fer una connexió local (localhost). Si volem connectar a un servidor situat en una altra adreça, li la posem amb el paràmetre &lt;strong&gt;-h adreça&lt;/strong&gt;, per exemple:&lt;/p&gt;
&lt;p class=&quot;codi&quot; style=&quot;text-align: left;&quot;&gt;redis-cli -h 192.168.1.26&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Ací tenim una imatge des d'una connexió externa, des d'un altre equip:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_2_1_4.png&quot; /&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Instal·lació en Windows de 64 bits&lt;/p&gt;
&lt;p&gt;Encara que Redis està construït per a Linux, hi ha versions per a Windows, preferiblement de 64 bits. També podrem trobar versions de 32 bits, però molt més antigues.&lt;/p&gt;
&lt;p&gt;El lloc on poder baixar els fitxers de Redis per a Windows de 64 bits és:&lt;/p&gt;
&lt;p&gt;&lt;a&gt;https://github.com/MSOpenTech/redis/releases&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_4.png&quot; height=&quot;606&quot; width=&quot;1044&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Ens baixem el zip, el descomprimim, i ja ho tindrem disponible (sense fer &lt;strong&gt;make&lt;/strong&gt; ni res). Observeu com en la carpeta resultat de descomprimir ja tenim els executables &lt;strong&gt;redis-server&lt;/strong&gt; i &lt;strong&gt;redis-cli&lt;/strong&gt; que són els que ens interessen:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_5.png&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Executem &lt;strong&gt;redis-server&lt;/strong&gt; directament i ja el tindrem en marxa:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_6.png&quot; height=&quot;343&quot; width=&quot;677&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Executem també el &lt;strong&gt;redis-cli&lt;/strong&gt; i el resultat serà el mateix que en Linux.&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot; style=&quot;text-align: left;&quot;&gt;Instal·lació en Windows de 32 bits&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;És un poc més complicada de trobar. I sobretot, és una versió prou més antiga. Podem descarregar-la de la següent adreça:&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;&lt;a href=&quot;https://github.com/rgl/redis/downloads&quot;&gt;https://github.com/rgl/redis/downloads&lt;/a&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;Aquesta sí que és d'instal·lació (no de descompressió únicament). La documentació suggereix que s'active com un servei. Per això, en la llista de programes de l'Inici no està el server, únicament el &lt;strong&gt;client&lt;/strong&gt;. Però el podem trobar en el directori on s'ha instal·lat: &lt;strong&gt;C:\Archivos de programa\Redis&lt;/strong&gt;. Trobarem tant &lt;strong&gt;redis-server.exe&lt;/strong&gt; com &lt;strong&gt;redis-cli.exe&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5369"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.995"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="180">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_5.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_5.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="af853a4c89b82f1e45b25af4c62b5af1"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5386"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.996"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="181">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_2_1_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_2_1_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="806a46335058d67ac87abc19be6b6a4d"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5408"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.997"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="182">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_2_1_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_2_1_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="0e986fe0598132cc919076e837fbfae4"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5411"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.998"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="183">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_2_1_3.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_2_1_3.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="4d3ca939d56543c32e2f841db8481efa"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5415"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.999"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="184">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_6.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_6.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="0828819989fb581b259817a1fe1ead8c"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5421"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.1000"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="185">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_2_1_4.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_2_1_4.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="a22f2a50b16a867d24090181876b1c82"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5422"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="3_85.1001"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="186">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="177"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_4.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_4.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="cad3faf79a8cd73da073f2ec3a88bc24"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="178"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="178"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="1002"></int>
                <string role="key" value="parentNode"></string>
                <reference key="179"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="3"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="179"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="180"></reference>
               <reference key="181"></reference>
               <reference key="182"></reference>
               <reference key="183"></reference>
               <reference key="184"></reference>
               <reference key="185"></reference>
               <reference key="186"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="3"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.1%20-%20Instal%C2%B7laci%C3%B3%20de%20Redis"></string>
           <string role="key" value="parent"></string>
           <reference key="176"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="189">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.2 - Utilització de Redis"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="187">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="188">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="187"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Anam a veure la utilització de Redis, Ens connectarem com a clients i intentarem fer operacions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Les primeres seran les més senzilles, utilitzant únicament el tipus de dades &lt;strong&gt;String&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Posteriorment mirarem com treballar amb les claus: buscar-ne una, veure si existeix, buscar unes quantes, ...&lt;/li&gt;
&lt;li&gt;Després ja anirem a pels tipus de dades més complicats:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hash&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;List&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Set&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Sorted Set&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="188"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="189"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="6"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="189"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="4"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis"></string>
           <string role="key" value="parent"></string>
           <reference key="176"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="192">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.1 - Strings"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="190">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="191">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="190"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;És el tipus de dades més senzill, més bàsic. Serà una cadena de caràcters de tipus &lt;em&gt;&lt;strong&gt;binary&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt; safe&lt;/strong&gt; en la qual normalment guardarem les habituals cadenes de caràcters, però que també podríem guardar imatges o objectes serialitzats de Java. La grandària màxima és de 512Mb.&lt;/p&gt;
&lt;p&gt;Ara veurem els comandos més habituals que afecten a aquest tipus. Com a norma general, hem de ser conscients que els comandos no són sensibles a majúscules o minúscules, però les claus i els valors sí que ho són. És a dir, el comando &lt;strong&gt;get&lt;/strong&gt; també es pot escriure &lt;strong&gt;GET&lt;/strong&gt; o &lt;strong&gt;Get&lt;/strong&gt;. Però la clau &lt;strong&gt;Hola&lt;/strong&gt; és diferent de la clau &lt;strong&gt;hola&lt;/strong&gt;.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;GET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;get clau&lt;/p&gt;
&lt;p&gt;Torna el valor de la clau especificada, sempre que siga de tipus &lt;strong&gt;String&lt;/strong&gt;. Si la clau és d'un altre tipus, donarà error. I si la clau no existeix, tornarà el valor especial &lt;strong&gt;&lt;em&gt;nil&lt;/em&gt;&lt;/strong&gt; .&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; get clau_1&lt;br /&gt;&quot;primera&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; get clau_2&lt;br /&gt;(nil)&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="191"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="7"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="193">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="194">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="193"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;set clau valor&lt;/p&gt;
&lt;p&gt;Assigna a la clau especificada com a primer paràmetre el valor especificat com a segon paràmetre. Si el valor consta de més d'una paraula, haurà d'anar entre cometes dobles.&lt;/p&gt;
&lt;p&gt;Redis sempre guardarà el valor com a string, encara que nosaltres pensem que li passam un valor enter o real.&lt;/p&gt;
&lt;p&gt;I una altra característica és que si la clau existeix ja, matxacarà el seu contingut, com era de esperar.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set clau_2 segona&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; set text &quot;Un text amb més d'una paraula&quot;&lt;br /&gt;OK&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set quatre 4&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; get quatre&lt;br /&gt;&quot;4&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; set pi 3.14159265359&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; get pi&lt;br /&gt;&quot;3.14159265359&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;em&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;Si poseu algun accent, en tornar el valor (fent get) us semblarà que no s'ha guardat bé. Sí que s'haurà guardat bé, el que passa és que posteriorment no es visualitza bé en fer el get. Es pot comprovar entrant en el client amb l'opció &lt;em&gt;&lt;strong&gt;raw&lt;/strong&gt;&lt;/em&gt; , és a dir &lt;strong&gt;redis-cli --raw&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;El comando &lt;strong&gt;SET&lt;/strong&gt; té una opció molt interessant, que servirà per a donar un temps de vida a la clau, transcorregut el qual desapareix la clau (amb el seu valor clar). Açò s'anomena &lt;em&gt;&lt;strong&gt;temps d'expiració&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt; &lt;/strong&gt;i s'aconsegueix amb el paràmetre&lt;strong&gt; EX&lt;/strong&gt; del comando&lt;strong&gt; SET &lt;/strong&gt;seguit del número de segons que volem que dure la clau.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemple&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set clau_3 tercera ex 10&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; get clau_3&lt;br /&gt;&quot;tercera&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; get clau_3&lt;br /&gt;(nil)&lt;/p&gt;
&lt;p&gt;Primer sí que existeix, però al cap de 10 segons ha deixat d'existir.&lt;/p&gt;
&lt;p&gt;De forma equivalent es pot expressar el temps en milisegons, amb el paràmetre &lt;strong&gt;PX&lt;/strong&gt; en compte de &lt;strong&gt;EX&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Havíem comentat al principi, que si en el moment de fer el &lt;strong&gt;SET &lt;/strong&gt;la clau ja existia, es reemplaçarà el seu contingut. Podem modificar aquest comportament amb el paràmetre &lt;strong&gt;NX&lt;/strong&gt; (Not eXists): si no existia la clau, la crearà amb el valor, però si ja existia, la deixarà com estava. Ens ho indicarà dient OK en cas de crear-la i NIL en cas de no crear-la perquà ja existia.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set clau_4 quarta nx&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; set clau_1 quarta nx&lt;br /&gt;(nil)&lt;br /&gt;127.0.0.1:6379&amp;gt; get clau_4&lt;br /&gt;&quot;quarta&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; get clau_1&lt;br /&gt;&quot;primera&quot;&lt;/p&gt;
&lt;p&gt;I de forma inversa, si posem el paràmetre &lt;strong&gt;XX&lt;/strong&gt;, si ja existeix la clau, reemplaçarà el valor, però si no existia, no farà res.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="194"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="8"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="195">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="196">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="195"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SETEX&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;setex clau segons valor&lt;/p&gt;
&lt;p&gt;Funciona igual que el &lt;strong&gt;SET&lt;/strong&gt; amb el paràmetre &lt;strong&gt;EX&lt;/strong&gt;: crearà la clau amb el valor, però tindrà una existència dels segons indicats.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="196"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="9"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="197">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="198">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="197"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta9_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;PSETEX&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;psetex clau milisegons valor&lt;/p&gt;
&lt;p&gt;Funciona igual que l'anterior, però el que especifiquem són els milisegons d'existència.&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="198"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="10"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="199">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="200">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="199"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;MGET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;mget clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Torna una llista de valors, els de les claus indicades.&lt;/p&gt;
&lt;p&gt;Exemple&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set mes1 gener&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; set mes2 febrer&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; set mes3 març&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; mget mes1 mes2 mes3&lt;br /&gt;1) &quot;gener&quot;&lt;br /&gt;2) &quot;febrer&quot;&lt;br /&gt;3) &quot;mar\xc3\xa7&quot;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Nota&lt;/span&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;Recordeu que els caràcters com vocals accentuades, ç, ñ, ... s'han introduït bé, però potser no es visualiten bé. Es pot evitar entrant en el client d'aquesta manera &lt;strong&gt;redis-cli --raw&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Si alguna de les claus no exiteix, tornarà &lt;strong&gt;nil&lt;/strong&gt; en el seu lloc&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="200"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="11"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="201">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="202">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="201"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;MSET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;mset clau1 valor1 clau2 valor2 clauN valorN&lt;/p&gt;
&lt;p&gt;Assigna els valors corresponents a les claus. És una operació atòmica: es posen (o canvien) tots els valors a l'hora.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; mset mes4 abril mes5 maig mes6 juny mes7 juliol&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; mget mes1 mes2 mes3 mes4 mes5 mes6 mes7&lt;br /&gt;1) &quot;gener&quot;&lt;br /&gt;2) &quot;febrer&quot;&lt;br /&gt;3) &quot;mar\xc3\xa7&quot;&lt;br /&gt;4) &quot;abril&quot;&lt;br /&gt;5) &quot;maig&quot;&lt;br /&gt;6) &quot;juny&quot;&lt;br /&gt;7) &quot;juliol&quot;&lt;/p&gt;
&lt;p&gt;Si no vulguérem reemplaçar valors, podríem utilitzar el comando &lt;strong&gt;MSETNX&lt;/strong&gt;, totalment equivalent, però hauríem de tenir en compte que si alguna ja existeix i per tant no pot canviar el valor, no faria l'operació, és a dir, tampoc crearia les altres.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="202"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="12"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="203">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="204">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="203"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;APPEND&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;append clau1 valor1&lt;/p&gt;
&lt;p&gt;Si la clau no existeix la crea assignant-li el valor (com el &lt;strong&gt;SET&lt;/strong&gt;), però si ja existeix, concatena el valor al final de la cadena que ja hi havia.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; append salutacio Hola&lt;br /&gt;(integer) 4&lt;br /&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;&quot;Hola&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; append salutacio &quot;, com va?&quot;&lt;br /&gt;(integer) 13&lt;br /&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;&quot;Hola, com va?&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="204"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="13"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="205">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="206">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="205"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;STRLEN&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;strlen clau1&lt;/p&gt;
&lt;p&gt;Torna el número de caràcters que hi ha en el valor de la clau. Si la clau no existeix, tornarà 0. Si la clau és d'un altre tipus, tornarà error.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; strlen salutacio&lt;br /&gt;(integer) 13&lt;br /&gt;127.0.0.1:6379&amp;gt; strlen sal&lt;br /&gt;(integer) 0&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="206"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="14"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="207">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="208">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="207"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;GETRANGE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;getrange clau1 inici final&lt;/p&gt;
&lt;p&gt;Extrau una subcadena del valor de la clau (ha de ser de tipus &lt;strong&gt;String&lt;/strong&gt;) des del número de caràcter d'inici fins al número del final (ambdós inclosos). El primer caràcter és el 0. Si posem de final un número major que l'últim, igual ho traurà fins el final.&lt;/p&gt;
&lt;p&gt;Es poden posar també valor negatius que ens ajuden a agafar la cadena des del final. El -1 és l'últim caràcter, el -2 el penúltim, ... I es poden barrejar números positius i negatius. Així el rang 0 -1 és tota la cadena.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; getrange salutacio 1 3&lt;br /&gt;&quot;ola&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; getrange salutacio 6 50&lt;br /&gt;&quot;com va?&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; getrange salutacio 6 -1&lt;br /&gt;&quot;com va?&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; getrange salutacio -7 -5&lt;br /&gt;&quot;com&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="208"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="15"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="209">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="210">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="209"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SETRANGE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;setrange clau1 desplaçament valor&lt;/p&gt;
&lt;p&gt;Substitueix part del valor de la cadena, a partir del desplaçament, amb el vaolr proporcionat. No s'admenten en desplaçament valors negatius.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;&quot;Hola, com va?&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; setrange salutacio 4 &quot;. C&quot;&lt;br /&gt;(integer) 13&lt;br /&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;&quot;Hola. Com va?&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="210"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="16"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="211">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="212">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="211"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;INCR&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;incr clau1&lt;/p&gt;
&lt;p&gt;A pesar de que Redis guarda els strings com a tals, com a cadenes de caràcters, en algunes ocasions és capaç de transformar la cadena a un número. És el cas del comando &lt;strong&gt;INCR&lt;/strong&gt;, que converteix la cadena en un enter (si pot) i incrementa aquest valor en una unitat.&lt;/p&gt;
&lt;p&gt;Si la clau no existeix la crea assumint que valia 0, i per tant després valdrà 1.&lt;/p&gt;
&lt;p&gt;Si el valor de la clau no era un número enter, donarà un error.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; set compt1 20&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt1&lt;br /&gt;&quot;20&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; incr compt1&lt;br /&gt;(integer) 21&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt1&lt;br /&gt;&quot;21&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; incr compt2&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt2&lt;br /&gt;&quot;1&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; incr clau_1&lt;br /&gt;(error) ERR value is not an integer or out of range&lt;br /&gt;127.0.0.1:6379&amp;gt; set compt3 4.25&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; incr compt3&lt;br /&gt;(error) ERR value is not an integer or out of range&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="212"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="17"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="213">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="214">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="213"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;DECR&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;decr clau1&lt;/p&gt;
&lt;p&gt;Decrementa en una unitat el valor de la clau (senpre que siga un enter).&lt;/p&gt;
&lt;p&gt;Pot agafar valors negatius.&lt;/p&gt;
&lt;p&gt;Si la clau no existeix la crea assumint que valia 0, i per tant després valdrà -1.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; decr compt2&lt;br /&gt;(integer) 0&lt;br /&gt;127.0.0.1:6379&amp;gt; decr compt2&lt;br /&gt;(integer) -1&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt2&lt;br /&gt;&quot;-1&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="214"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="18"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="215">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="216">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="215"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;INCRBY&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;incrby clau1 increment&lt;/p&gt;
&lt;p&gt;Incrementa el valor de la clau en el número d'unitats indicat en &lt;strong&gt;increment&lt;/strong&gt; (el valor ha de ser enter). L'increment pot ser negatiu.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; incrby compt1 10&lt;br /&gt;(integer) 31&lt;br /&gt;127.0.0.1:6379&amp;gt; incrby compt1 -20&lt;br /&gt;(integer) 11&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="216"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="20"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="217">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="218">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="217"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;DECRBY&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;decrby clau1 decrement&lt;/p&gt;
&lt;p&gt;Decrementa el valor de la clau el número d'unitat indicat en &lt;strong&gt;decrement&lt;/strong&gt;.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; decrby compt1 5&lt;br /&gt;(integer) 6&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="218"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="192"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="21"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="192"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="6"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.1%20-%20Strings"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="221">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.2 - Keys"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="219">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="220">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="219"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Ara anem a veure comandos que ens permeten treballar amb les claus, per a buscar-les, veure si existeixen, etc. No importarà el tipus de les claus (de moment només hem treballat amb claus de tipus &lt;strong&gt;String&lt;/strong&gt;, però si ja en tinguérem dels altres tipus també es veurien afectades). En cap cas d'aquestos comandos accedirem al valor de les claus.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="220"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="22"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="222">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="223">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="222"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;KEYS&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;keys patró&lt;/p&gt;
&lt;p&gt;Torna totes les claus que coincideixen amb el patró. En el patró podem posar caràcters comodí:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;*&lt;/strong&gt; : equival a 0 o més caràcters. Per exemple &quot;Mar*a&quot; podria tornar &quot;Mara&quot;, &quot;Maria&quot;, &quot;Marta&quot;, &quot;Margarita&quot;, ...&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;? &lt;/strong&gt;: equival exactament a un caràcter. Per exemple &quot;Mar?a&quot; podria tornar &quot;Maria&quot; o &quot;Marta&quot;,  però no &quot;Mara&quot;, &quot;Margarita&quot;, ...&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;[ab]&lt;/strong&gt; : serà cert si en el lloc corresponent hi ha un dels caràcters especificats entre els claudàtors. Per exemple &quot;Mar[it]a&quot; podria tornar &quot;Maria&quot; o &quot;Marta&quot;, però no &quot;Marga&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per a tornar totes les claus utilitzarem &lt;strong&gt;keys *&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; keys *&lt;br /&gt; 1) &quot;compt3&quot;&lt;br /&gt; 2) &quot;mes5&quot;&lt;br /&gt; 3) &quot;mes3&quot;&lt;br /&gt; 4) &quot;comp3&quot;&lt;br /&gt; 5) &quot;mes7&quot;&lt;br /&gt; 6) &quot;mes2&quot;&lt;br /&gt; 7) &quot;mes6&quot;&lt;br /&gt; 8) &quot;salutacio&quot;&lt;br /&gt; 9) &quot;mes4&quot;&lt;br /&gt;10) &quot;mes1&quot;&lt;br /&gt;11) &quot;clau_1&quot;&lt;br /&gt;12) &quot;compt1&quot;&lt;br /&gt;13) &quot;compt2&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; keys mes?&lt;br /&gt;1) &quot;mes5&quot;&lt;br /&gt;2) &quot;mes3&quot;&lt;br /&gt;3) &quot;mes7&quot;&lt;br /&gt;4) &quot;mes2&quot;&lt;br /&gt;5) &quot;mes6&quot;&lt;br /&gt;6) &quot;mes4&quot;&lt;br /&gt;7) &quot;mes1&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; keys c*&lt;br /&gt;1) &quot;compt3&quot;&lt;br /&gt;2) &quot;comp3&quot;&lt;br /&gt;3) &quot;clau_1&quot;&lt;br /&gt;4) &quot;compt1&quot;&lt;br /&gt;5) &quot;compt2&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; keys mes[125]&lt;br /&gt;1) &quot;mes5&quot;&lt;br /&gt;2) &quot;mes2&quot;&lt;br /&gt;3) &quot;mes1&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="223"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="24"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="224">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="225">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="224"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;EXISTS&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;exists clau&lt;/p&gt;
&lt;p&gt;Torna 1 si la clau existeix, i 0 si no existeix. No importa de quin tipus siga la clau.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; exists clau_1&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; exists clau_25&lt;br /&gt;(integer) 0&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="225"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="23"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="226">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="227">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="226"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;DEL&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;del clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Elimina la clau o claus especificades. Si posem més d'una clau i alguna no existeix, la ignorarà i sí que esborrarà les altres.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; del compt2&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; del mes6 mes7 mes8 mes9&lt;br /&gt;(integer) 2&lt;/p&gt;
&lt;p&gt;Observeu que ens indica quantes claus ha esborrat. En el primer exemple ha esborrat la clau especificada, i en el segon diu que ha esborrat 2, que seran &lt;strong&gt;mes6&lt;/strong&gt; i &lt;strong&gt;mes7&lt;/strong&gt;, ja que &lt;strong&gt;mes8&lt;/strong&gt; i &lt;strong&gt;mes9&lt;/strong&gt; no existien.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="227"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="25"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="228">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="229">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="228"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;TYPE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;type clau&lt;/p&gt;
&lt;p&gt;Torna el tipus de la clau especificada. Els valors possibles són:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;string&lt;/li&gt;
&lt;li&gt;hash&lt;/li&gt;
&lt;li&gt;list&lt;/li&gt;
&lt;li&gt;set&lt;/li&gt;
&lt;li&gt;zset (conjunt ordenat)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; type clau_1&lt;br /&gt;string&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="229"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="26"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="230">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="231">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="230"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;RENAME&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;rename clau novaclau&lt;/p&gt;
&lt;p&gt;Canvia el nom de la clau a la clau nova, conservant el valor. Dóna error si la clau antiga no existeix. Si la clau nova ja existia reemplaçarà el seu valor.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;&quot;Hola. Com va?&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; rename salutacio saludar&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; get salutacio&lt;br /&gt;(nil)&lt;br /&gt;127.0.0.1:6379&amp;gt; get saludar&lt;br /&gt;&quot;Hola. Com va?&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; rename clau_22 clau_23&lt;br /&gt;(error) ERR no such key&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="231"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="27"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="232">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="233">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="232"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;RENAMENX&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;renamenx clau novaclau&lt;/p&gt;
&lt;p&gt;Igual que l'anterior però únicament si la clau nova no existia. Si ja existia no fa res (tornant 0 per a indicar-h0).&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; renamenx compt1 compt3&lt;br /&gt;(integer) 0&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt1&lt;br /&gt;&quot;9&quot;&lt;/p&gt;
&lt;p&gt;Estem suposant que la clau &lt;strong&gt;compt3&lt;/strong&gt; ja existeix&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="233"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="28"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="234">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="235">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="234"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;EXPIRE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;expire clau segons&lt;/p&gt;
&lt;p&gt;Assigna com a temps d'expiració de la clau els segons especificats. Si ja tenia temps d'expiració, el modifica posant-li aquest valor especificat.&lt;/p&gt;
&lt;p&gt;En cas que a una clau amb temps d'expiració li canviem el nom amb &lt;strong&gt;RENAME&lt;/strong&gt;, continuarà amb temps d'expiració que li quedava.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="235"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="29"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="236">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="237">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="236"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta29_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;PEXPIRE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;pexpire clau milisegons&lt;/p&gt;
&lt;p&gt;El mateix però en milisegons&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="237"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="30"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="238">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="239">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="238"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta30_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta29_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;TTL&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;ttl clau&lt;/p&gt;
&lt;p&gt;Torna el temps de vida (fins l'expiració) d'una clau. Si la clau no té temps d'expiració, torna -1.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; expire compt3 10&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt3&lt;br /&gt;(integer) 6&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt3&lt;br /&gt;(integer) 3&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt3&lt;br /&gt;(integer) 0&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt3&lt;br /&gt;(nil)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="239"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="31"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="240">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="241">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="240"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;PTTL&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;pttl clau&lt;/p&gt;
&lt;p&gt;Igual que l'anterior, però ens torna el temps en milisegons.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="241"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="32"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="242">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="243">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="242"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta31_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta30_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta29_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;PERSIST&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;persist clau&lt;/p&gt;
&lt;p&gt;Elimina el temps d'expiració d'una clau, si és que en tenia. Ara la clau no expirarà mai.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; expire compt1 20&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt1&lt;br /&gt;(integer) 12&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt1&lt;br /&gt;(integer) 7&lt;br /&gt;127.0.0.1:6379&amp;gt; persist compt1&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; ttl compt1&lt;br /&gt;(integer) -1&lt;br /&gt;127.0.0.1:6379&amp;gt; get compt1&lt;br /&gt;&quot;9&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="243"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="221"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="33"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="221"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="7"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.2%20-%20Keys"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="246">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.3 - Hash"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="244">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="245">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="244"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Ja havíem comentat que el tipus &lt;strong&gt;Hash&lt;/strong&gt; és una espècie de registre, amb subcamps (en realitat hauríem de dir sub-claus). Pot tenir qualsevol número de subcamps que són de tipus String.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Redis&lt;/strong&gt; és molt eficient en quant a l'espai que ocupen els &lt;strong&gt;Hash&lt;/strong&gt;, i sobretot en el temps de recuperació de les dades.&lt;/p&gt;
&lt;p&gt;Els comandos que vam veure per al &lt;strong&gt;String&lt;/strong&gt; no es poden aplicar al &lt;strong&gt;Hash&lt;/strong&gt;. Tanmateix els comandos del &lt;strong&gt;Hash&lt;/strong&gt; són molt similars a aquells, començant sempre per &lt;strong&gt;H&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="245"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="34"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="247">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="248">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="247"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;HSET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hset clau camp valor&lt;/p&gt;
&lt;p&gt;Assigna al camp especificat de la clau especificada el valor especificat. Si el valor consta de més d'una paraula, haurà d'anar entre cometes dobles.&lt;/p&gt;
&lt;p&gt;Si la clau no existia, la crearà, i si ja existia, senzillament afegirà el camp. I si d'aquesta clau  ja existia el camp, modificarà el seu valor.&lt;/p&gt;
&lt;p&gt;Evidentment, en claus diferents poden haver camps amb els mateixos noms.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hset empleat_1 nom Andreu&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; hset empleat_1 departament 10&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; hset empleat_1 sou 1000.0&lt;br /&gt;(integer) 1&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hset empleat_2 nom Berta&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; hset empleat_2 sou 1500.0&lt;br /&gt;(integer) 1&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="248"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="35"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="249">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="250">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="249"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;HGET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hget clau camp&lt;/p&gt;
&lt;p&gt;Torna el valor del camp de la clau. Si no existia (el camp o la clau) torna &lt;strong&gt;nil&lt;/strong&gt;. Només podem especificar un camp.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hget empleat_1 nom&lt;br /&gt;&quot;Andreu&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; hget empleat_1 departament&lt;br /&gt;&quot;10&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; hget empleat_2 nom&lt;br /&gt;&quot;Berta&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; hget empleat_2 departament&lt;br /&gt;(nil)&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="250"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="36"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="251">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="252">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="251"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;HGETALL&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hgetall clau&lt;/p&gt;
&lt;p&gt;Torna una llista amb tots els camps i els seus valors de la clau. La seqüència és: camp1 valor1 camp2 valor2 ... Però no ens podem fiar que l'ordre siga el mateix ordre que quan el vam definir.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hgetall empleat_1&lt;br /&gt;1) &quot;nom&quot;&lt;br /&gt;2) &quot;Andreu&quot;&lt;br /&gt;3) &quot;departament&quot;&lt;br /&gt;4) &quot;10&quot;&lt;br /&gt;5) &quot;sou&quot;&lt;br /&gt;6) &quot;1000.0&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="252"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="37"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="253">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="254">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="253"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;HDEL&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hdel clau camp1 camp2 campN&lt;/p&gt;
&lt;p&gt;Elimina el o els camps especificats. Si no existeixen algun d'ells, senzillament l'ignora i si que elimina els altres.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hdel empleat_1 departament&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; hgetall empleat_1&lt;br /&gt;1) &quot;nom&quot;&lt;br /&gt;2) &quot;Andreu&quot;&lt;br /&gt;3) &quot;sou&quot;&lt;br /&gt;4) &quot;1000.0&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="254"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="39"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="255">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="256">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="255"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta37_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;HKEYS&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hkeys clau&lt;/p&gt;
&lt;p&gt;Torna una llista amb els camps de la clau. Si la clau no existia, torna una llista buida&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hkeys empleat_1&lt;br /&gt;1) &quot;nom&quot;&lt;br /&gt;2) &quot;sou&quot;&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="256"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="40"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="257">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="258">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="257"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;HVALS&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;hvals clau&lt;/p&gt;
&lt;p&gt;Torna una llista amb els valors (únicament els valors) de tots els camps de la clau. Si la clau no existia, torna una llista buida&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; hvals empleat_1&lt;br /&gt;1) &quot;Andreu&quot;&lt;br /&gt;2) &quot;1000.0&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="258"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="41"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="259">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="260">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="259"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Altres Comandos&lt;/p&gt;
&lt;p&gt;També existeixen altres comandos, de funcionament com cabria esperar (els hem vist tots en el cas de &lt;strong&gt;String&lt;/strong&gt;):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;hmget&lt;/strong&gt;: Torna més d'un camp de la clau&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; hmset&lt;/strong&gt;: assigna més d'un camp a una clau&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; hexists&lt;/strong&gt;: indica si existeix el subcamp de la clau&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; hsetnx&lt;/strong&gt;: assigna únicament en cas de que no existisca el camp.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; hincrby&lt;/strong&gt;: incrementa el camp de la clau&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="260"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="246"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="42"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="246"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="8"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.3%20-%20Hash"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="263">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.4 - List"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="261">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="262">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="261"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Les &lt;strong&gt;Llistes&lt;/strong&gt; en &lt;strong&gt;Redis&lt;/strong&gt; són llistes de Strings ordenades, on cada element està associat a un índex de la llista. Es poden recuperar els elements tant de forma ordenada (per l'índex) com accedint directament a una posició.&lt;/p&gt;
&lt;p&gt;Els elements es poden afegir al principi, al final o també en una posició determinada.&lt;/p&gt;
&lt;p&gt;La llista es crea en el moment en què s'insereix el primer element, i desapareix quan llevem l'últim element que quede.&lt;/p&gt;
&lt;p&gt;Estan molt ben optimitzades per a la inserció i per a la consulta.&lt;/p&gt;
&lt;p&gt;Els comandos que afecten a les llistes comencen quasi tots per &lt;strong&gt;L&lt;/strong&gt;, excepte alguns que comencen per &lt;strong&gt;R&lt;/strong&gt; indicant que fan l'operació per la dreta.&lt;/p&gt;
&lt;p&gt;Per cert, els valors dels elements es poden repetir.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="262"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="43"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="264">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="265">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="264"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LPUSH&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lpush clau valor1 valor2 valorN&lt;/p&gt;
&lt;p&gt;Introdueix els valors a la llista (creant la clau si és necessari). Les insereix en la primera posició, o també podríem dir que per l'esquerra (&lt;strong&gt;Left PUSH&lt;/strong&gt;), imaginant que els elements estan ordenats d'esquerra a dreta. Si posem més d'un valor, s'aniran introduint sempre en la primera posició. El comando tornarà el número d'elements (strings) de la llista després de la inserció.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lpush llista1 primera segona tercera&lt;br /&gt;(integer) 3&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;tercera&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;primera&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lpush llista1 quarta cinquena&lt;br /&gt;(integer) 5&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;cinquena&quot;&lt;br /&gt;2) &quot;quarta&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;segona&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt; &lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot;margin-left: 30px;&quot;&gt;Per a veure el contingut de la llista utilitzarem el comando &lt;strong&gt;lrange llista 0 -1&lt;/strong&gt;, que torna la llista sencera. Veurem de forma més completa aquest comando amb posterioritat.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="265"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="44"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="266">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="267">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="266"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;RPUSH&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;rpush clau valor1 valor2 valorN&lt;/p&gt;
&lt;p&gt;Introdueix els valors a la llista (creant la clau si és necessari). Les insereix en l'última posició, o també podríem dir que per la dreta (&lt;strong&gt;Right PUSH&lt;/strong&gt;), imaginant que els elements estan ordenats d'esquerra a dreta.  El comando tornarà el número d'elements (strings) de la llista després de la inserció.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; rpush llista1 sisena setena&lt;br /&gt;(integer) 7&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;cinquena&quot;&lt;br /&gt;2) &quot;quarta&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;segona&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;sisena&quot;&lt;br /&gt;7) &quot;setena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="267"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="45"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="268">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="269">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="268"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LPOP&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lpop clau&lt;/p&gt;
&lt;p&gt;Torna i elimina el primer element (el de més a l'esquerra).&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lpop llista1&lt;br /&gt;&quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;segona&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;sisena&quot;&lt;br /&gt;6) &quot;setena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="269"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="46"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="270">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="271">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="270"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta46_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;RPOP&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;rpop clau&lt;/p&gt;
&lt;p&gt;Torna i elimina l'últim element (el de més a la dreta).&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; rpop llista1&lt;br /&gt;&quot;setena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;segona&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;sisena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="271"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="47"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="272">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="273">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="272"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LSET&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lset clau index valor&lt;/p&gt;
&lt;p&gt;Substitueix el valor de la posició indicada per l'índex. Tant la clau com l'element de la posició indicada han d'existir, sinó donarà error. Ara la &lt;strong&gt;L&lt;/strong&gt; no significa &lt;strong&gt;Left&lt;/strong&gt; sinó &lt;strong&gt;List&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;La primera posició és la 0. I també es poden posar números negatius: -1 és l'últim, -2 el penúltim, ...&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lset llista1 2 quarta&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;sisena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lset llista1 -1 cinquena&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;cinquena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Observeu com es poden repetir els valors&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="273"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="48"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="274">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="275">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="274"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LINDEX&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lindex clau index&lt;/p&gt;
&lt;p&gt;Torna l'element situat en la posició indicada per l'índex, &lt;strong&gt;però sense eliminar-lo de la llista&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lindex llista1 0&lt;br /&gt;&quot;quarta&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lindex llista1 3&lt;br /&gt;&quot;primera&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lindex llista1 -1&lt;br /&gt;&quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;cinquena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="275"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="49"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="276">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="277">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="276"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LINSERT&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;linsert clau BEFORE | AFTER valor1 valor2&lt;/p&gt;
&lt;p&gt;Insereix el valor2 abans o després (segons el que triem) de la primera vegada que troba el valor1. No substitueix, sinó que insereix en una determinada posició. Els elements que van després de l'element introduït veuran actualitzat el seu índex.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; linsert llista1 AFTER quarta segona&lt;br /&gt;(integer) 6&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;quarta&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; linsert llista1 BEFORE cinquena sisena&lt;br /&gt;(integer) 7&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;quarta&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;sisena&quot;&lt;br /&gt;7) &quot;cinquena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Si intentem inserir abans o després un element que no existeix, tornarà -1 indicant que no l'ha trobat i no farà la inserció.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; linsert llista1 BEFORE desena setena&lt;br /&gt;(integer) -1&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;quarta&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;sisena&quot;&lt;br /&gt;7) &quot;cinquena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="277"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="50"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="278">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="279">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="278"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LRANGE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lrange clau inici final&lt;/p&gt;
&lt;p&gt;Torna els elements de la llista inclosos entre els index inici i final, ambdós inclosos. El primer element és el 0. Es poden posar valors negatius, sent -1 l'últim, -2 el penúltim, ...&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;quarta&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;sisena&quot;&lt;br /&gt;7) &quot;cinquena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 2 4&lt;br /&gt;1) &quot;tercera&quot;&lt;br /&gt;2) &quot;quarta&quot;&lt;br /&gt;3) &quot;primera&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 1 -2&lt;br /&gt;1) &quot;segona&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;sisena&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 4 4&lt;br /&gt;1) &quot;primera&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="279"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="51"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="280">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="281">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="280"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LLEN&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;llen clau&lt;/p&gt;
&lt;p&gt;Torna el número d'elements de la llista&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; llen llista1&lt;br /&gt;(integer) 7&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="281"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="52"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="282">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="283">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="282"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LREM&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;lrem clau número valor&lt;/p&gt;
&lt;p&gt;Elimina elements de la llista que coincidisquen amb el valor proporcionat. Ja sabem que els valors es poden repetir. Amb el número indiquem quants elements volem que s'esborrencomençant per l'esquerra: si posem 1 s'esborrarà el primer element amb aquest valor, si posem 2 s'esborraran els dos primers elements (els de més a l'esquerra) que tingen aquest valor. Si posem 0 s'esborraran tots els elements amb aquest valor&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; rpush llista1 segona&lt;br /&gt;(integer) 8&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;segona&quot;&lt;br /&gt;3) &quot;tercera&quot;&lt;br /&gt;4) &quot;quarta&quot;&lt;br /&gt;5) &quot;primera&quot;&lt;br /&gt;6) &quot;sisena&quot;&lt;br /&gt;7) &quot;cinquena&quot;&lt;br /&gt;8) &quot;segona&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrem llista1 1 segona&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;quarta&quot;&lt;br /&gt;2) &quot;tercera&quot;&lt;br /&gt;3) &quot;quarta&quot;&lt;br /&gt;4) &quot;primera&quot;&lt;br /&gt;5) &quot;sisena&quot;&lt;br /&gt;6) &quot;cinquena&quot;&lt;br /&gt;7) &quot;segona&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; lrem llista1 0 quarta&lt;br /&gt;(integer) 2&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;tercera&quot;&lt;br /&gt;2) &quot;primera&quot;&lt;br /&gt;3) &quot;sisena&quot;&lt;br /&gt;4) &quot;cinquena&quot;&lt;br /&gt;5) &quot;segona&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="283"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="53"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="284">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="285">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="284"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;LTRIM&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;ltrim clau inici final&lt;/p&gt;
&lt;p&gt;Elimina els elements que queden fora dels índex inici i final, és a dir elimina els que estiguen a l'esquerra d'inici, i els que estiguen a la dreta de final.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; ltrim llista1 1 -2&lt;br /&gt;OK&lt;br /&gt;127.0.0.1:6379&amp;gt; lrange llista1 0 -1&lt;br /&gt;1) &quot;primera&quot;&lt;br /&gt;2) &quot;sisena&quot;&lt;br /&gt;3) &quot;cinquena&quot;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="285"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="263"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="54"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="263"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="9"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.4%20-%20List"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="288">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.5 - Set"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="286">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="287">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="286"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Els &lt;strong&gt;Sets&lt;/strong&gt; de &lt;strong&gt;Redis&lt;/strong&gt; són conjunts de valors de tipus String no ordenats. Podrem afegir, actualitzar i esborrar aquestos elements de forma còmoda i eficient. No es permetran els valors duplicats.&lt;/p&gt;
&lt;p&gt;A més &lt;strong&gt;Redis&lt;/strong&gt; ens ofereix operacions interessants com la unió, intersecció i diferència de conjunts.&lt;/p&gt;
&lt;p&gt;Com sempre, els comandos són específics, és a dir no ens valen els de Strings, List o Hash. Tots els comandos comencen per &lt;strong&gt;S&lt;/strong&gt;.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="287"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="55"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="289">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="290">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="289"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SADD&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sadd clau valor1 valor2 valorN&lt;/p&gt;
&lt;p&gt;Afegeix els valors al conjunt (creant la clau si és necessari). Recordem que l'ordre no és important, i que no es poden repetir els valors; si intentem introduir un repetit, no donarà error, però no l'introduirà. El comando tornarà el número d'elements que realment s'han afegit.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; sadd colors roig verd blau&lt;br /&gt;(integer) 3&lt;br /&gt;127.0.0.1:6379&amp;gt; sadd colors verd groc&lt;br /&gt;(integer) 1&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="290"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="56"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="291">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="292">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="291"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SMEMBERS&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;smembers clau&lt;/p&gt;
&lt;p&gt;Torna tots els valors del conjunt. Si la clau no existeix tornarà un conjunt buit. Recordeu que l'ordre dels elements no és predecible&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;verd&quot;&lt;br /&gt;3) &quot;roig&quot;&lt;br /&gt;4) &quot;blau&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="292"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="57"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="293">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="294">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="293"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta57_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SISMEMBER&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sismember clau valor&lt;/p&gt;
&lt;p&gt;Comprova si el valor està en el conjunt, tornant 1 en cas afirmatiu i 0 en cas negatiu.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; sismember colors verd&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; sismember colors negre&lt;br /&gt;(integer) 0&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="294"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="58"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="295">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="296">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="295"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta58_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta57_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SCARD&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sard clau&lt;/p&gt;
&lt;p&gt;Torna la cardinalitat, és a dir, el número d'elements del conjunt en l'actualitat.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; scard colors&lt;br /&gt;(integer) 4&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="296"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="59"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="297">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="298">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="297"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SREM&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;srem clau valor1 valor2 valorN&lt;/p&gt;
&lt;p&gt;Elimina els valors del conjunt. Si el conjunt es queda buit, eliminarà la clau també. Si algun dels valor no és cap element del conjunt, senzillament s'ignorarà. El comando torna el número d'elements realment eliminat.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; srem colors verd negre&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;blau&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="298"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="60"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="299">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="300">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="299"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SPOP&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;spop clau&lt;/p&gt;
&lt;p&gt;Torna i elimina un valor aleatori del conjunt. Recordeu que a més de tornar-lo, l'elimina del conjunt.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; spop colors&lt;br /&gt;&quot;groc&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="300"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="61"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="301">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="302">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="301"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SRANDMEMBER&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;srandmember clau&lt;/p&gt;
&lt;p&gt;Molt paregut a l'anterior. Torna un valor aleatori del conjunt, però en aquesta ocasió no l'elimina del conjunt.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; srandmember colors&lt;br /&gt;&quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="302"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="62"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="303">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="304">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="303"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SUNION&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sunion clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Torna la unió dels elements dels conjunts especificats. És una unió correcta, és a dir, no es repetirà cap valor.&lt;/p&gt;
&lt;p&gt;No modifica cap conjunt, i el resultat únicament es torna, no es guarda en cap lloc de forma permanent.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sadd colors1 verd roig groc&lt;br /&gt;(integer) 3&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sunion colors colors1&lt;br /&gt;1) &quot;verd&quot;&lt;br /&gt;2) &quot;groc&quot;&lt;br /&gt;3) &quot;roig&quot;&lt;br /&gt;4) &quot;blau&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="304"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="63"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="305">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="306">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="305"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta63_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SUNIONSTORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sunionstore clau_destí clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Igual que l'anterior, però ara sí que es guarda el resultat de la unió en un conjunt, clau_destí (el primer especificat). Si la clau_destí ja existia, substituirà el contingut.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sunionstore colors2 colors colors1&lt;br /&gt;(integer) 4&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors2&lt;br /&gt;1) &quot;verd&quot;&lt;br /&gt;2) &quot;groc&quot;&lt;br /&gt;3) &quot;roig&quot;&lt;br /&gt;4) &quot;blau&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="306"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="64"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="307">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="308">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="307"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta63_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SDIFF&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sdiff clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Torna la diferència dels elements del primer conjunt respecte de la unió de tots els altres. És a dir, torna els elements del primer conjunt que no pertanyen acap dels altres.&lt;/p&gt;
&lt;p&gt;No modifica cap conjunt, i el resultat únicament es torna, no es guarda en cap lloc de forma permanent.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sdiff colors1 colors&lt;br /&gt;1) &quot;verd&quot;&lt;br /&gt;2) &quot;groc&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="308"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="65"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="309">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="310">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="309"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta64_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta63_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SDIFFSTORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sdiffstore clau_destí clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Igual que l'anterior, però ara sí que es guarda el resultat de la diferència en un conjunt, clau_destí (el primer especificat). Si la clau_destí ja existia, substituirà el contingut.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sdiffstore colors3 colors1 colors&lt;br /&gt;(integer) 2&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors3&lt;br /&gt;1) &quot;verd&quot;&lt;br /&gt;2) &quot;groc&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="310"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="66"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="311">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="312">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="311"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta65_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta63_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SINTER&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sinter clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Torna la intersecció dels elements dels conjunts. És a dir, torna els elements que pertanyen a tots els conjunts especificats.&lt;/p&gt;
&lt;p&gt;No modifica cap conjunt, i el resultat únicament es torna, no es guarda en cap lloc de forma permanent.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sinter colors colors1&lt;br /&gt;1) &quot;roig&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="312"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="67"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="313">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="314">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="313"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta64_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta63_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta62_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta61_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta60_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;SINTERSTORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;sinterstore clau_destí clau1 clau2 clauN&lt;/p&gt;
&lt;p&gt;Igual que l'anterior, però ara sí que es guarda el resultat de la intersecció en un conjunt, clau_destí (el primer especificat). Si la clau_destí ja existia, substituirà el contingut.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; sinterstore colors4 colors colors1&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors4&lt;br /&gt;1) &quot;roig&quot;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="314"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="68"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="315">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="316">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="315"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;SMOVE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;smove clau_font clau_destí valor&lt;/p&gt;
&lt;p&gt;Meneja el valor del conjunt orígen (el primer conjunt) al conjunt destí (el segon). Això suposarà eliminar-lo del primer i afegir-lo al segon. Tornarà 1 si l'ha menejat, i 0 si no l'ha menejat.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;roig&quot;&lt;br /&gt;2) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;verd&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smove colors1 colors verd&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors&lt;br /&gt;1) &quot;verd&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;br /&gt;3) &quot;blau&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; smembers colors1&lt;br /&gt;1) &quot;groc&quot;&lt;br /&gt;2) &quot;roig&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="316"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="288"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="69"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="288"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="10"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.5%20-%20Set"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="319">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="3.2.6 - Set ordenat"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="317">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="318">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="317"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Els &lt;strong&gt;Sets Ordenats&lt;/strong&gt; (&lt;strong&gt;Sorted Set&lt;/strong&gt;) de &lt;strong&gt;Redis&lt;/strong&gt; són Sets que a més de guardar els valors, guarden també una &lt;strong&gt;puntuació&lt;/strong&gt; (&lt;strong&gt;score&lt;/strong&gt;) per a cada valor, i &lt;strong&gt;Redis&lt;/strong&gt; mantindrà el conjunt &lt;strong&gt;ordenat&lt;/strong&gt; per aquesta puntuació.&lt;/p&gt;
&lt;p&gt;Els valors no es podran repetir, però sí les puntuacions.&lt;/p&gt;
&lt;p&gt;Molts dels comandos seran iguals que els del &lt;strong&gt;Set&lt;/strong&gt;, ja que un conjunt ordenat no deixa de ser un conjunt, però amb la informació de la puntuació. En aquesta ocasió començaran per &lt;strong&gt;Z&lt;/strong&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="318"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="79"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="320">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="321">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="320"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div class=&quot;iDevice emphasis0&quot;&gt;
&lt;div id=&quot;ta56_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;ZADD&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zadd clau puntuació1 valor1 puntuació2 valor2 puntuacióN valorN&lt;/p&gt;
&lt;p&gt;Afegeix els valors al conjunt (creant la clau si és necessari) amb les puntuacions corresponents. Les puntuacions seran Strings de valors reals (float). No es poden repetir els valors, però sí les puntuacions. Si intentem introduir un valor repetit, el que farà serà actualitzar la puntuació. El comando tornarà el número d'elements que realment s'han afegit.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zadd puntuacions 1 Nom1 2 Nom2 5 Nom3 4 Nom4&lt;br /&gt;(integer) 4&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1&lt;br /&gt;1) &quot;Nom1&quot;&lt;br /&gt;2) &quot;Nom2&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;Nom3&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="321"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="80"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="322">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="323">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="322"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta59_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta58_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta57_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;ZCARD&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zcard clau&lt;/p&gt;
&lt;p&gt;Torna la cardinalitat, és a dir, el número d'elements del conjunt ordenat en l'actualitat.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zcard puntuacions&lt;br /&gt;(integer) 4&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="323"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="81"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="324">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="325">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="324"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta81_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta59_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta58_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta57_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;ZSCORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zscore clau valor &lt;/p&gt;
&lt;p&gt;Torna la puntuació (score) del valor especificat del conjunt ordenat. Si no existeix el valor o no existaix la clao, torna nil.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zscore puntuacions Nom3&lt;br /&gt;&quot;5&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; zscore puntuacions Nom7&lt;br /&gt;(nil)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="325"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="82"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="326">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="327">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="326"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta82_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta81_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta59_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta58_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;div id=&quot;ta57_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;ZCOUNT&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zcount clau min max&lt;/p&gt;
&lt;p&gt;Torna el número de valors que estan entre les puntuacions especificades (ambdues incloses).&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zcount puntuacions 2 5&lt;br /&gt;(integer) 3&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="327"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="83"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="328">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="329">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="328"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ZRANGE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zrange clau inici final [withscores]&lt;/p&gt;
&lt;p&gt;Torna els elements del conjunt ordenat inclosos entre els index inici i final, ambdós inclosos. I es trauen per ordre ascentent de puntuació. El primer element és el 0. Es poden posar valors negatius, sent -1 l'últim, -2 el penúltim, ... Opcionalment podem posar &lt;strong&gt;WITHSCORES&lt;/strong&gt; per a que ens torne també la puntuació de cada element&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1&lt;br /&gt;1) &quot;Nom1&quot;&lt;br /&gt;2) &quot;Nom2&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;Nom3&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1 withscores&lt;br /&gt;1) &quot;Nom1&quot;&lt;br /&gt;2) &quot;1&quot;&lt;br /&gt;3) &quot;Nom2&quot;&lt;br /&gt;4) &quot;2&quot;&lt;br /&gt;5) &quot;Nom4&quot;&lt;br /&gt;6) &quot;4&quot;&lt;br /&gt;7) &quot;Nom3&quot;&lt;br /&gt;8) &quot;5&quot;&lt;/p&gt;
&lt;p&gt;Si vulguérem traure el conjunt en ordre invers de puntuació, utilitzaríem el comando &lt;strong&gt;ZREVRANGE&lt;/strong&gt; (&lt;strong&gt;reverse range&lt;/strong&gt;).&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrevrange puntuacions 0 -1 withscores&lt;br /&gt;1) &quot;Nom3&quot;&lt;br /&gt;2) &quot;5&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;4&quot;&lt;br /&gt;5) &quot;Nom2&quot;&lt;br /&gt;6) &quot;2&quot;&lt;br /&gt;7) &quot;Nom1&quot;&lt;br /&gt;8) &quot;1&quot;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="329"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="84"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="330">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="331">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="330"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ZRANGEBYSCORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zrangebyscore clau min max [withscores]&lt;/p&gt;
&lt;p&gt;Torna els elements del conjunt ordenat que tenen una puntuació compresa entre &lt;strong&gt;min&lt;/strong&gt; i &lt;strong&gt;max&lt;/strong&gt; (ambdues incloses). I es trauen per ordre ascentent de puntuació. Opcionalment podem posar &lt;strong&gt;WITHSCORES&lt;/strong&gt; per a que ens torne també la puntuació de cada element. &lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrangebyscore puntuacions 2 5&lt;br /&gt;1) &quot;Nom2&quot;&lt;br /&gt;2) &quot;Nom4&quot;&lt;br /&gt;3) &quot;Nom3&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; zrangebyscore puntuacions 2 5 withscores&lt;br /&gt;1) &quot;Nom2&quot;&lt;br /&gt;2) &quot;2&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;4&quot;&lt;br /&gt;5) &quot;Nom3&quot;&lt;br /&gt;6) &quot;5&quot;&lt;/p&gt;
&lt;p&gt;Si vulguérem que les puntuacions foren estrictament majors que la puntiuació mínima i/o estrictament menor que la puntuació màxima, posaríem un parèntesi davany de &lt;strong&gt;min&lt;/strong&gt; i/o &lt;strong&gt;max&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrangebyscore puntuacions 2 (5 withscores&lt;br /&gt;1) &quot;Nom2&quot;&lt;br /&gt;2) &quot;2&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;4&quot;&lt;/p&gt;
&lt;p&gt;I si vulguérem traure el conjunt en ordre invers de puntuació, utilitzaríem el comando &lt;strong&gt;ZREVRANGEBYSCORE&lt;/strong&gt; (&lt;strong&gt;reverse range&lt;/strong&gt;). Cuideu que com va en ordre invers, ara el valor màxim ha de ser el primer, i el mínim el segon.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrevrangebyscore puntuacions 5 2 withscores&lt;br /&gt;1) &quot;Nom3&quot;&lt;br /&gt;2) &quot;5&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;4&quot;&lt;br /&gt;5) &quot;Nom2&quot;&lt;br /&gt;6) &quot;2&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="331"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="85"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="332">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="333">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="332"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ZRANK&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zrank clau valor&lt;/p&gt;
&lt;p&gt;Torna el número d'ordre de l'element amb el valor especificat. El primer valor és el 0. Si no existeix, torna &lt;strong&gt;nil&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrank puntuacions Nom1&lt;br /&gt;(integer) 0&lt;br /&gt;127.0.0.1:6379&amp;gt; zrank puntuacions Nom4&lt;br /&gt;(integer) 2&lt;br /&gt;127.0.0.1:6379&amp;gt; zrank puntuacions Nom7&lt;br /&gt;(nil)&lt;/p&gt;
&lt;p&gt;Si volem saber el número d'ordre però des del final de la llista (en ordre invers), hem d'utilitzar &lt;strong&gt;ZREVRANK&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrevrank puntuacions Nom1&lt;br /&gt;(integer) 3&lt;br /&gt;127.0.0.1:6379&amp;gt; zrevrank puntuacions Nom4&lt;br /&gt;(integer) 1&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="333"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="86"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="334">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="335">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="334"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ZREM&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zrem clau valor1 valor2 valorN&lt;/p&gt;
&lt;p&gt;Elimina els elements amb els valors especificats. Si algun valor no existeix, senzillament l'ignora. Torna el número d'elements realment eliminats.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zrem puntuacions Nom1&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1 withscores&lt;br /&gt;1) &quot;Nom2&quot;&lt;br /&gt;2) &quot;2&quot;&lt;br /&gt;3) &quot;Nom4&quot;&lt;br /&gt;4) &quot;4&quot;&lt;br /&gt;5) &quot;Nom3&quot;&lt;br /&gt;6) &quot;5&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="335"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="87"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="336">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="337">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="336"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;div id=&quot;ta87_85&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p class=&quot;titolet&quot;&gt;ZREMRANGEBYSCORE&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zremrangebyscore clau min max&lt;/p&gt;
&lt;p&gt;Elimina els elements amb puntuació compresa entre el mínim i el màxim de forma inclusiva.els valors especificats. Si volem fer-ho de forma excusiva (sense incloure les puntuacions dels extrems) posarem un parèntesi avant del mínim i/o el màxim. Torna el número d'elements realment eliminats.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zremrangebyscore puntuacions (2 4&lt;br /&gt;(integer) 1&lt;br /&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1 withscores&lt;br /&gt;1) &quot;Nom2&quot;&lt;br /&gt;2) &quot;2&quot;&lt;br /&gt;3) &quot;Nom3&quot;&lt;br /&gt;4) &quot;5&quot;&lt;/p&gt;
&lt;/div&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="337"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="88"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="338">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="339">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="338"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ZINCRBY&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Sintaxi&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;zincrby clau increment valor&lt;/p&gt;
&lt;p&gt;Incrementa la puntuació de l'element especificat. El valor de la puntuació a incrementar és un número real. Torna el valor la puntuació final de l'element. Si l'element no existia, l'inserirà, assumint una puntuació inicial de 0.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;Exemples&lt;/span&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;127.0.0.1:6379&amp;gt; zincrby puntuacions 1.5 Nom2&lt;br /&gt;&quot;3.5&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; zincrby puntuacions 2.75 Nom5&lt;br /&gt;&quot;2.75&quot;&lt;br /&gt;127.0.0.1:6379&amp;gt; zrange puntuacions 0 -1 withscores&lt;br /&gt;1) &quot;Nom5&quot;&lt;br /&gt;2) &quot;2.75&quot;&lt;br /&gt;3) &quot;Nom2&quot;&lt;br /&gt;4) &quot;3.5&quot;&lt;br /&gt;5) &quot;Nom3&quot;&lt;br /&gt;6) &quot;5&quot;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="339"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="319"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="89"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="319"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="13"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.2%20-%20Utilitzaci%C3%B3%20de%20Redis:3.2.6%20-%20Set%20ordenat"></string>
              <string role="key" value="parent"></string>
              <reference key="189"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="342">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="3.3 - Connexió des de Java"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="340">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="341">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="340"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;La utilització des de Java és molt senzilla, i podrem utilitzar tots els comandos que hem vist.&lt;/p&gt;
&lt;p&gt;Haurem d'incorporar en el projecte una llibreria. Podem utilitzar per exemple la de &lt;strong&gt;Jedis &lt;/strong&gt;(acrònim de &lt;strong&gt;J&lt;/strong&gt;ava R&lt;strong&gt;edis&lt;/strong&gt;). A la següent adreça la podeu trobar (no és l'última versió, però ens val):&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://repo1.maven.org/maven2/redis/clients/jedis/2.9.0/jedis-2.9.0.jar&quot;&gt;http://search.maven.org/remotecontent?filepath=redis/clients/jedis/2.9.0/jedis-2.9.0.jar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Per a fer proves, creem un nou projecte anomenat &lt;strong&gt;Tema7_2&lt;/strong&gt;, i incorporem la llibreria de &lt;strong&gt;Jedis&lt;/strong&gt;. Creem un paquet anomenat &lt;strong&gt;Exemples&lt;/strong&gt;, per separar aquestos dels exercicis.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Connexió&lt;/p&gt;
&lt;p&gt;La connexió és tan senzilla com el següent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;con.connect();&lt;/p&gt;
&lt;p&gt;És a dir, obtenim un objecte &lt;strong&gt;Jedis&lt;/strong&gt; passant-li al constructor l'adreça del servidor, i després connectem amb el mètode &lt;strong&gt;connect&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Si el servidor no el tenim en la mateixa màquina, només haurem de substituir &lt;strong&gt;localhost&lt;/strong&gt; per l'adreça on estiga el servidor.&lt;/p&gt;
&lt;p&gt;L'objecte Jedis representarà una connexió amb el servidor &lt;strong&gt;Redis&lt;/strong&gt;. Tots els comandos que hem vist per a utilitzar des del client de Redis, seran mètodes d'aquest objecte. Només haurem d'anar amb compte amb el que ens torna el servidor quan fem una petició. Moltes vegades serà un &lt;strong&gt;String&lt;/strong&gt;, però en moltes altres ocasions seran col·leccions; sets, lists, ...&lt;/p&gt;
&lt;p&gt;Per a tancar la connexió:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;con.close();&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="341"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="342"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="70"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="342"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="343">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="344">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="343"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Comandos que tornen Strings&lt;/p&gt;
&lt;p&gt;Tots els comandos que vam veure seran ara mètodes de l'objecte &lt;strong&gt;Jedis&lt;/strong&gt;. En concret obtenir el valor d'una clau (comando &lt;strong&gt;get clau&lt;/strong&gt;) serà el mètode &lt;strong&gt;get&lt;/strong&gt; al qual li passarem la clau com a paràmetre:&lt;/p&gt;
&lt;p&gt;Ací tenim ja la primera prova:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova1 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        System.out.println(con.get(&quot;saludar&quot;));&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Si volem guardar una clau amb un valor, utilitzarem el mètode &lt;strong&gt;set(clau,valor)&lt;/strong&gt;, al qual com veiem li hem de passar els dos paràmetres:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova2 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        String valor = &quot;Aquesta clau és una clau creada des de Java&quot;;&lt;br /&gt;        con.set(&quot;clau_Java&quot;, valor);&lt;br /&gt;        &lt;br /&gt;        System.out.println(con.get(&quot;clau_Java&quot;));&lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="344"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="342"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="71"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="342"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="345">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="346">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="345"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Comandos que tornen conjunts&lt;/p&gt;
&lt;p&gt;En moltes ocasions, el que ens tornarà &lt;strong&gt;Redis&lt;/strong&gt; no és un únic String, sinó un conjunt de Strings. Açò serà cert quan treballem amb &lt;strong&gt;Sets&lt;/strong&gt;, però també en moltes altres ocasions. Per exemple quan demanem unes quantes claus amb &lt;strong&gt;MGET&lt;/strong&gt;, o quan utilitzem &lt;strong&gt;KEYS&lt;/strong&gt; per a que ens torne les claus que coincideixen amb el patró.&lt;/p&gt;
&lt;p&gt;En algunes ocasions ho haurem d'arreplegar amb un objecte &lt;strong&gt;Set&lt;/strong&gt;, quan no importe l'ordre. En altres ocasions amb un objecte &lt;strong&gt;List&lt;/strong&gt; quan aquest ordre sí que importe.&lt;/p&gt;
&lt;p&gt;Per exemple, si volem obtenir amb &lt;strong&gt;MGET&lt;/strong&gt; els valors d'unes quantes claus, sí que importa l'ordre (el primer valor és de la primera clau, el segon de la segona). Aleshores ho obtindrem en un &lt;strong&gt;List&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova3 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        List&amp;lt;String&amp;gt; c = con.mget(&quot;mes1&quot;,&quot;mes2&quot;,&quot;mes3&quot;);&lt;br /&gt;        for (String s : c)&lt;br /&gt;            System.out.println(s);&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Però en canvi si volem obtenir totes les claus utilitzarem el mètode &lt;strong&gt;keys&lt;/strong&gt; passant-li el patró com a paràmetre. L'ordre no importa,i a més no el podem predir. Per tant hem d'arreplegar el resultat amb un &lt;strong&gt;Set&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Set;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova4 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        Set&amp;lt;String&amp;gt; c = con.keys(&quot;*&quot;);&lt;br /&gt;        for (String s : c)&lt;br /&gt;            System.out.println(s);&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;I evidentment també serà el cas quan accedim als tipus de dades &lt;strong&gt;List&lt;/strong&gt;, &lt;strong&gt;Set&lt;/strong&gt; i segurament també &lt;strong&gt;Hash&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Per a accedir a tot el contingut d'un &lt;strong&gt;List&lt;/strong&gt; utilitzem per exemple &lt;strong&gt;lrange 0 -1&lt;/strong&gt;. Si utilitzem aquest mètode de &lt;strong&gt;Jedis&lt;/strong&gt; ens tornarà un &lt;strong&gt;List&lt;/strong&gt; (de Java):&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.List;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova5 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        List&amp;lt;String&amp;gt; ll = con.lrange(&quot;llista1&quot;, 0, -1);&lt;br /&gt;        for (String e : ll)&lt;br /&gt;            System.out.println(e);&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Si és un &lt;strong&gt;Set&lt;/strong&gt; accedirem amb el mètode &lt;strong&gt;smembers&lt;/strong&gt; que tornarà un &lt;strong&gt;Set&lt;/strong&gt; (de Java):&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Set;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova6 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        Set&amp;lt;String&amp;gt; s = con.smembers(&quot;colors&quot;);&lt;br /&gt;        for (String e : s)&lt;br /&gt;            System.out.println(e);&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;I en el cas de &lt;strong&gt;Hash&lt;/strong&gt;, amb el mètode &lt;strong&gt;hkeys&lt;/strong&gt; podem obtenir tots els camps (subclaus), i a partir d'ells els seus valors. El que torna &lt;strong&gt;hkeys&lt;/strong&gt; és un &lt;strong&gt;Set&lt;/strong&gt; (de Java).&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Set;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class Prova7 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        Set&amp;lt;String&amp;gt; subcamps = con.hkeys(&quot;empleat_1&quot;);&lt;br /&gt;        for (String subcamp : subcamps)&lt;br /&gt;            System.out.println(subcamp + &quot;: &quot; + con.hget(&quot;empleat_1&quot;, subcamp));&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="346"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="342"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="72"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="342"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="347">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="348">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="347"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Tractament dels conjunts ordenats&lt;/p&gt;
&lt;p&gt;Els conjunts ordenats (&lt;strong&gt;Sorted Sets&lt;/strong&gt;) tenen mètodes específics, igual que tots els tipus. Alguns d'aquestos mètodes tornen Strings, i un altres conjunts (&lt;strong&gt;Set&lt;/strong&gt; de &lt;strong&gt;Java&lt;/strong&gt;). No hi ha problema amb aquestos tipus, que ja els hem tractat.&lt;/p&gt;
&lt;p&gt;Però hi ha uns mètodes que tornen llistes &lt;strong&gt;amb més d'un valor per cada element&lt;/strong&gt;. És el cas dels mètodes &lt;strong&gt;ZRANGE&lt;/strong&gt; (amb les variants &lt;strong&gt;ZREVRANGE&lt;/strong&gt;, &lt;strong&gt;ZRANGEBYSCORE&lt;/strong&gt; i &lt;strong&gt;ZREVRANGEBYSCORE&lt;/strong&gt;), que tenen la possibilitat de dur el paràmetre &lt;strong&gt;WITHSCORES&lt;/strong&gt;. En aquest cas cada element constarà del valor i de la puntuació. El que tornaran els mètodes és un &lt;strong&gt;Set&lt;/strong&gt; de &lt;strong&gt;Tuples&lt;/strong&gt;, objecte proporcionat per &lt;strong&gt;Jedis&lt;/strong&gt;, que disposarà dels mètodes &lt;strong&gt;getElement()&lt;/strong&gt; per al valor i &lt;strong&gt;getScore()&lt;/strong&gt; per a la puntuació.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.Set;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;import redis.clients.jedis.Tuple;&lt;br /&gt;&lt;br /&gt;public class Prova8 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;        con.connect();&lt;br /&gt;        &lt;br /&gt;        Set&amp;lt;Tuple&amp;gt; conjOrd = con.zrangeWithScores(&quot;puntuacions&quot;, 0, -1);&lt;br /&gt;        for (Tuple t : conjOrd)&lt;br /&gt;            System.out.println(t.getElement() + &quot; ---&amp;gt; &quot; + t.getScore());&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="348"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="342"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="90"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="342"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="5"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:3%20-%20Bases%20de%20Dades%20Clau-Valor:3.3%20-%20Connexi%C3%B3%20des%20de%20Java"></string>
           <string role="key" value="parent"></string>
           <reference key="176"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="351">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="4 - MongoDB"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="349">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Free Text"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
           <string role="key" value="_tip"></string>
           <string value=""></string>
           <string role="key" value="childs"></string>
           <list></list>
           <string role="key" value="content"></string>
           <instance class="exe.engine.field.TextAreaField" reference="350">
            <dictionary>
             <string role="key" value="_id"></string>
             <int value="85"></int>
             <string role="key" value="_idevice"></string>
             <reference key="349"></reference>
             <string role="key" value="_instruc"></string>
             <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
             <string role="key" value="_name"></string>
             <unicode value="Free Text"></unicode>
             <string role="key" value="anchor_names"></string>
             <list></list>
             <string role="key" value="anchors_linked_from_fields"></string>
             <dictionary></dictionary>
             <string role="key" value="buttonCaption"></string>
             <string value=""></string>
             <string role="key" value="content_w_resourcePaths"></string>
             <unicode content="true" value="&lt;p&gt;Segurament &lt;strong&gt;MongoDB&lt;/strong&gt; és el més famós dels Sistemes Gestors de Bases de Dades &lt;strong&gt;NoSQL&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;El nom de &lt;strong&gt;MongoDB&lt;/strong&gt; prové de la paraula anglesa &lt;em&gt;hu&lt;strong&gt;mongo&lt;/strong&gt;us&lt;/em&gt;, que significa enorme, que és el propòsit d'aquesta Base de Dades: guardar grans quantitats d'informació. És de codi obert i està programada en C++. El va crear l'empresa &lt;strong&gt;10gen&lt;/strong&gt; (actualment &lt;strong&gt;MongoDB Inc.&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;És una SGBD &lt;strong&gt;Documental&lt;/strong&gt;, és a dir, que servirà per a guardar documents. La manera interna de guardar-los és en format &lt;strong&gt;BSON&lt;/strong&gt; (Binary JSON) que en essència és una variant del JSON per a poder guardar físicament les dades d'una manera més eficient.&lt;/p&gt;
&lt;p&gt;En un servidor Mongo poden haver més d'una Base de Dades (encara que nosaltres només en gasterem una: &lt;strong&gt;test&lt;/strong&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;En cada Base de Dades la informació es guardarà en &lt;strong&gt;col·leccions&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Cada col·lecció constarà d'uns quants &lt;strong&gt;documents&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;I cada document seran una serie de dades guardades en forma de &lt;strong&gt;clau-valor&lt;/strong&gt;, dels tipus suportats per MongoDB, i amb el format JSON (en realitat BSON)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per tant, en Mongo no hi ha taules. Mirem uns exemples de documents JSON per a guardar la informació de llibres i autors. Depenen de com s'haja d'accedir a la informació ens podem plantejar guardar els llibres amb els seus autors, o guardar els autors, amb els seus llibres. Fins i tot ens podríem guardar els dos, per a poder accedir de totes les maneres, encara que és a costa de doblar la informació.&lt;/p&gt;
&lt;p&gt;De la primera manera, guardant els llibres amb el seu autor, podríem tenir documents amb aquesta estructura, que es podrien guardar en una col·lecció anomenada &lt;strong&gt;Llibres&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;{&lt;br /&gt;    _id:101,&lt;br /&gt;    titol:&quot;El secret de Khadrell&quot;,&lt;br /&gt;    autor: {&lt;br /&gt;        nom:&quot;Pep&quot;,&lt;br /&gt;        cognoms:&quot;Castellano Puchol&quot;,&lt;br /&gt;        any_naixement:1960&lt;br /&gt;    },&lt;br /&gt;    isbn:&quot;84-95620-72-3&quot;&lt;br /&gt;},&lt;br /&gt;{&lt;br /&gt;    _id:102,&lt;br /&gt;    titol:&quot;L'Ombra del Vent&quot;,&lt;br /&gt;    autor: {&lt;br /&gt;        nom:&quot;Carlos&quot;,&lt;br /&gt;        cognoms:&quot;Ruiz Zafon&quot;,&lt;br /&gt;        pais:&quot;Espanya&quot;&lt;br /&gt;    },&lt;br /&gt;    pagines:490,&lt;br /&gt;    editorial:&quot;Planeta&quot;&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Observeu com els objectes no tenen per què tenir la mateixa estructura. La manera d'accedir al nom d'un autor seria aquesta: &lt;em&gt;objecte.autor.nom&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Una manera alternativa de guardar la informació, com havíem comentat abans seria organitzar per autors, amb els seus llibres. D'aquesta manera podríem anar omplint la col·lecció &lt;strong&gt;Autors&lt;/strong&gt; amb un o més documents d'aquest estil:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;{&lt;br /&gt;    _id: 201,&lt;br /&gt;    nom:&quot;Pep&quot;,&lt;br /&gt;    cognoms:&quot;Castellano Puchol&quot;,&lt;br /&gt;    any_naixement:1960,&lt;br /&gt;    llibres: [&lt;br /&gt;            {&lt;br /&gt;                titol:&quot;El secret de Khadrell&quot;,&lt;br /&gt;                isbn:&quot;84-95620-72-3&quot;&lt;br /&gt;            },&lt;br /&gt;            {&lt;br /&gt;                titol:&quot;Habitació 502&quot;,&lt;br /&gt;                editorial:&quot;Tabarca&quot;&lt;br /&gt;            }&lt;br /&gt;        ]&lt;br /&gt;},&lt;br /&gt;{&lt;br /&gt;    _id:202,&lt;br /&gt;    nom:&quot;Carlos&quot;,&lt;br /&gt;    cognoms:&quot;Ruiz Zafon&quot;,&lt;br /&gt;    pais:&quot;Espanya&quot;,&lt;br /&gt;    llibres: [&lt;br /&gt;            {&lt;br /&gt;                titol:&quot;L'Ombra del Vent&quot;,&lt;br /&gt;                pagines:490,&lt;br /&gt;                editorial:&quot;Planeta&quot;&lt;br /&gt;            }&lt;br /&gt;        ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Observeu com per a un autor, ara tenim un array ( els claudàtors: &lt;strong&gt;[ ]&lt;/strong&gt;) amb els seus llibres.&lt;/p&gt;
&lt;p&gt;Quina de les dues maneres és millor per a guardar la informació? Doncs depén de l'accés que s'haja de fer a les dades. La millor serà segurament aquella que depenent dels accessos que s'hagen de fer, torne la informació de forma més ràpida.&lt;/p&gt;"></unicode>
             <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
             <int value="4"></int>
             <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
             <int value="2"></int>
             <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
             <int value="3"></int>
             <string role="key" value="htmlTag"></string>
             <string value="div"></string>
             <string role="key" value="images"></string>
             <instance class="exe.engine.galleryidevice.GalleryImages">
              <dictionary>
               <string role="key" value=".listitems"></string>
               <list></list>
               <string role="key" value="idevice"></string>
               <reference key="350"></reference>
              </dictionary>
             </instance>
             <string role="key" value="intlinks_to_anchors"></string>
             <dictionary></dictionary>
             <string role="key" value="nextImageId"></string>
             <int value="0"></int>
             <string role="key" value="parentNode"></string>
             <reference key="351"></reference>
            </dictionary>
           </instance>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="0"></int>
           <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
           <int value="7"></int>
           <string role="key" value="icon"></string>
           <string value=""></string>
           <string role="key" value="id"></string>
           <unicode value="92"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="originalicon"></string>
           <string value=""></string>
           <string role="key" value="parent"></string>
           <none></none>
           <string role="key" value="parentNode"></string>
           <reference key="351"></reference>
           <string role="key" value="systemResources"></string>
           <list></list>
           <string role="key" value="type"></string>
           <none></none>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="14"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list>
         <instance class="exe.engine.node.Node" reference="354">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="4.1 - Instal·lació de MongoDB"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="352">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="353">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="352"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Podrem instal·lar MongoDB en qualsevol plataforma. I fins i tot sense tenir permisos d'administrador, com veurem en el cas d'Ubuntu.&lt;/p&gt;
&lt;p&gt;També està la possibilitat de crear un servidor en el núvol, fins i tot gratuït, però de poques prestacions. És l'opció que ens suggereix Mongo per defecte, però nosaltres no la utilitzarem.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Instal·lació en Linux&lt;/p&gt;
&lt;p&gt;Per a poder fer la instal·lació més bàsica, podrem fer-lo sense permisos d'administrador. Si els tenim tot és més còmode, però si no en tenim també ho podem fer, com veurem i remarcarem a continuació.&lt;/p&gt;
&lt;p&gt;De la pàgina de &lt;strong&gt;MongoDB&lt;/strong&gt; (&lt;strong&gt;&lt;a href=&quot;https://www.mongodb.com/download-center#community&quot;&gt;https://www.mongodb.com/download-center#community&lt;/a&gt;&lt;/strong&gt;) ens baixem la versió apropiada per al nostre Sistema Operatiu. Observeu com en el cas de Linux hi ha moltes versions. En el cas d'&lt;strong&gt;Ubuntu 14.04 de 64 bits&lt;/strong&gt;, aquest fitxer és: &lt;a href=&quot;https://www.mongodb.com/dr/fastdl.mongodb.org/linux/mongodb-linux-x86_64-ubuntu1404-3.6.2.tgz/download&quot;&gt;&lt;strong&gt;mongodb-linux-x86_64-ubuntu1404-3.6.2.tgz&lt;/strong&gt;&lt;/a&gt;. Però recordeu que us heu d'assegurar de la versió&lt;/p&gt;
&lt;p&gt;Senzillament descomprimirem aquest fitxer on vulguem, i ja estarà feta la instal·lació bàsica.&lt;/p&gt;
&lt;p&gt;Per defecte el directori de la Base de Dades és &lt;strong&gt;/data/db&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;L'únic problema que podríem tenir si no som administradors és que no tinguem permís per crear aquest directori. Aleshores crearem un altre directori i en el moment d'arrancar el servidor, li especificarem aquest lloc.&lt;/p&gt;
&lt;p&gt;La manera d'arrancar el servidor serà:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;lt;directori arrel MongoDB&amp;gt;/bin/mongod&lt;/p&gt;
&lt;p&gt;Opcionalment li podem dir on està la Base de Dades (si no ho especifiquem assumirà que està en &lt;strong&gt;/data/db&lt;/strong&gt;):&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;lt;directori arrel MongoDB&amp;gt;/bin/mongod --dbpath &amp;lt;directori de la BD&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Resumint, i estant situats al directori on hem descomprimit MongoDB:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Si som administradors:
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Creem el directori de dades:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;mkdir /data&lt;br /&gt; mkdir /data/db&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Arranquem el servidor:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;./bin/mongod&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Si no som administradors:
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Creem el directori de dades:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;mkdir data&lt;br /&gt; mkdir data/db&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Arranquem el servidor:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;./bin/mongod --dbpath ./data/db&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La següent imatge il·lustra aquesta segona opció. Està per a una versió anterior de MongoDB, però és totalment equivalent:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_1.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Una vegada en marxa el servidor, no hem de tancar aquesta terminal, ja que pararíem el servidor. Per a connectar un client, obrim una segona terminal i executem el client &lt;strong&gt;mongo&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;./bin/mongo&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_2.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Per a provar el seu funcionament, anem a fer un parell de comandos: un per a guardar un document i un altre per a reculerar-lo.&lt;/p&gt;
&lt;p&gt;Per a qualsevol operació s'ha de posar &lt;strong&gt;db &lt;/strong&gt;seguit del nom de la col·lecció, i després l'operació que volem fer. Amb el sgüent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;gt; db.exemple.save( {msg:&quot;Hola, què tal?&quot;} )&lt;/p&gt;
&lt;p&gt;Ens contestarà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Indicant que ha inserit un document en la col·lecció &lt;strong&gt;exemple&lt;/strong&gt; (si no estava creada, la crearà).&lt;/p&gt;
&lt;p&gt;I amb el següent comando recuperem la informació:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;gt; db.exemple.findOne()&lt;/p&gt;
&lt;p&gt;Que ens tornarà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;{ &quot;_id&quot; : ObjectId(&quot;56cc130590d651d45ef3d3be&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;/p&gt;
&lt;p&gt;Tot ho fa en la mateixa terminal, i a cadascú de nosaltres ens donarà un número diferent en &lt;strong&gt;ObjectId&lt;/strong&gt;. En la següent imatge es veuen les dues operacions:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_3.png&quot; height=&quot;392&quot; width=&quot;1191&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En realitat estem connectats a una Base de Dades anomenada &lt;strong&gt;test&lt;/strong&gt;. Podem crear i utilitzar més d'una Base de Dades, però en aquest curs tindrés més que suficient amb aquesta Base de Dades. Per a comprovar-ho podem executar la següent sentència, que ens torna el nom de la Base de Dades:&lt;/p&gt;
&lt;p class=&quot;codi2&quot; style=&quot;text-align: justify;&quot;&gt;&amp;gt; db.getName()&lt;br /&gt;test&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5381"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="91_85.362"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="355">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="352"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="8dd6223993b24665d2ae69ba6d58271e"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="353"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5385"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="91_85.363"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="356">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="352"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_3.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_3.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="b2adba8acecd22655f6f7211ea454bb1"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="353"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5400"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="91_85.364"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="357">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="352"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_2.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_2.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="6bf4a4047651637e2aade4442a5c87ee"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="353"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="353"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="365"></int>
                <string role="key" value="parentNode"></string>
                <reference key="354"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="91"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="354"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="355"></reference>
               <reference key="356"></reference>
               <reference key="357"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="358">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="359">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="358"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Instal·lació en Windows&lt;/p&gt;
&lt;p&gt;No ofereix cap dificultat. Ens baixem la versió apropiada de MongoDB per a Windows, depenent de si és de 32 o 64 bits la nostra versió, que resultarà ser un .msi directament executable. En el moment de fer aquestos apunts, el de la versió de 64 bits era el fitxer:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.mongodb.com/dr/fastdl.mongodb.org/win32/mongodb-win32-x86_64-2008plus-ssl-3.6.2-signed.msi/download&quot;&gt;mongodb-win32-x86_64-2008plus-ssl-3.6.2-signed.msi&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Una vegada baixat, executem el fitxer. Haurem d'acceptar la llicència, instal·lar la versió completa, i acceptar quan Windows ens avise que un programa vol instal·lar software. El de sempre.&lt;/p&gt;
&lt;p&gt;Com en el cas de Linux, abans d'executar el servidor haurem de tenir el directori creat. Per defecte el directori serà &lt;strong&gt;\data\db&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Aqueste serien les ordres per a crear el directori i després arrancar el servidor. Està per a una versió anterior, però seria totalment equivalent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;mkdir \data\db&lt;br /&gt; C:\Program Files\MongoDB\Server\3.2\bin\mongod.exe&lt;/p&gt;
&lt;p&gt;En aquest a imatge s'observa que en intentar posar en marxa el servidor, el Firewall de Windows ho detecta, i sol·licita permís per posar-lo en marxa. Acceptem i prou:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_11.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Per a connectar-nos com a clients, ho haurem de fer des d'una altra terminal, ja que si tanquem aquesta pararem el servidor. El programa és &lt;strong&gt;mongo.exe&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;C:\Program Files\MongoDB\Server\3.2\bin\mongo.exe&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_12.png&quot; height=&quot;340&quot; width=&quot;676&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Per a provar el seu funcionament, anem a fer un parell de comandos: un per a guardar un document i un altre per a reculerar-lo.&lt;/p&gt;
&lt;p&gt;Per a qualsevol operació s'ha de posar &lt;strong&gt;db &lt;/strong&gt;seguit del nom de la col·lecció, i després l'operació que volem fer. Amb el sgüent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;gt; db.exemple.save( {msg:&quot;Hola, què tal?&quot;} )&lt;/p&gt;
&lt;p&gt;Ens contestarà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Indicant que ha inserit un document en la col·lecció &lt;strong&gt;exemple&lt;/strong&gt; (si no estava creada, la crearà).&lt;/p&gt;
&lt;p&gt;I amb el següent comando recuperem la informació:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&amp;gt; db.exemple.findOne()&lt;/p&gt;
&lt;p&gt;Que ens tornarà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;{ &quot;_id&quot; : ObjectId(&quot;56cc1acd73b559230de8f71b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;/p&gt;
&lt;p&gt;Tot ho fa en la mateixa terminal, i a cadascú de nosaltres ens donarà un número diferent en &lt;strong&gt;ObjectId&lt;/strong&gt;. En la següent imatge es veuen les dues operacions:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_1_13.png&quot; /&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: left;&quot;&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;En realitat estem connectats a una Base de Dades anomenada &lt;strong&gt;test&lt;/strong&gt;. Podem crear i utilitzar més d'una Base de Dades, però en aquest curs tindrés més que suficient amb aquesta Base de Dades. Per a comprovar-ho podem executar la següent sentència, que ens torna el nom de la Base de Dades:&lt;/p&gt;
&lt;p class=&quot;codi2&quot; style=&quot;text-align: justify;&quot;&gt;&amp;gt; db.getName()&lt;br /&gt;test&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5371"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="93_85.360"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="360">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="358"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_11.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_11.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="8bee6db26f7b160b951c96e2cf2c8965"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="359"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5384"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="93_85.361"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="361">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="358"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_12.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_12.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="ac0d668783f221db8da10a4660c6914e"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="359"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5391"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="93_85.362"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="362">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="358"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_1_13.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_1_13.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="20da4f3dbebc3088a502e2186981835f"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="359"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="359"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="363"></int>
                <string role="key" value="parentNode"></string>
                <reference key="354"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="93"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="354"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="360"></reference>
               <reference key="361"></reference>
               <reference key="362"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="16"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.1%20-%20Instal%C2%B7laci%C3%B3%20de%20MongoDB"></string>
           <string role="key" value="parent"></string>
           <reference key="351"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="365">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="4.2 - Utilització de MongoDB"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="363">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="364">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="363"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Començarem la utilització de MongoDB des de la consola que havíem arrancat al final de la instal·lació.&lt;/p&gt;
&lt;p&gt;Recordeu que tindrem dues teminals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una amb el servidor en marxa (i que no hem de tancar): &lt;strong&gt;mongod&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Una altra amb el client que es connecta al servidor: &lt;strong&gt;mongo&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En aquesta última consola del client podem utilitzar sentències del llenguatge &lt;strong&gt;Javascipt&lt;/strong&gt;, però el que més ens interessarà, evidentment, són les sentències d'accés a dades. Del llenguatge Javascript pràcticament l'únic que utilitzarem són variables i algunes funcions.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Utilització de variables&lt;/p&gt;
&lt;p&gt;Com camentàvem el que més utilitzarem del llenguatge &lt;strong&gt;Javascript&lt;/strong&gt; és la utilització de variables, que ens pot ser molt útil en algunes ocasions. Podrem utilitzar-les durant la sessió, però evidentment no perduraran d'una sessió a l'altra.&lt;/p&gt;
&lt;p&gt;Per a definir una variable podem posar opcionalment davant la paraula reservada &lt;strong&gt;var&lt;/strong&gt;, però no és necessari. Posarem el nom de la variable, el signe igual, i a continuació el valor de la variable, que pot ser una constant, o una expressió utilitzant constants, operadors, altres variables, funcions de Javascript, ...&lt;/p&gt;
&lt;p&gt;Especialment interessant són les variables que poden contenir un document JSON.&lt;/p&gt;
&lt;p&gt;Per exemple:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; a = 30&lt;br /&gt;30&lt;br /&gt;&amp;gt; b=a/4&lt;br /&gt;7.5&lt;br /&gt;&amp;gt; Math.sqrt(b)&lt;br /&gt;2.7386127875258306&lt;br /&gt;&amp;gt; doc = {camp1: &quot;Hola&quot;, camp2: 45, camp3: new Date()}&lt;br /&gt;{&lt;br /&gt;    &quot;camp1&quot; : &quot;Hola&quot;,&lt;br /&gt;    &quot;camp2&quot; : 45,&lt;br /&gt;    &quot;camp3&quot; : ISODate(&quot;2016-02-23T19:10:29.560Z&quot;)&lt;br /&gt;}&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Una variable de tipus JSON es podrà modificar molt fàcilment, tota ella, o algun dels elements. Per a arribar als elements posarem &lt;strong&gt;&lt;em&gt;nom_variable.nom_camp&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc.camp4 = 3.141592&lt;br /&gt;3.141592&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc.camp5 = [ 2 , 4 , 6 , 8]&lt;br /&gt;[ 2, 4, 6, 8 ]&lt;/p&gt;
&lt;p&gt;I si ara intentem traure el contingut de la variable:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc&lt;br /&gt;{&lt;br /&gt;    &quot;camp1&quot; : &quot;Hola&quot;,&lt;br /&gt;    &quot;camp2&quot; : 45,&lt;br /&gt;    &quot;camp3&quot; : ISODate(&quot;2016-02-24T22:31:12.724Z&quot;),&lt;br /&gt;    &quot;camp4&quot; : 3.141592,&lt;br /&gt;    &quot;camp5&quot; : [&lt;br /&gt;        2,&lt;br /&gt;        4,&lt;br /&gt;        6,&lt;br /&gt;        8&lt;br /&gt;    ]&lt;br /&gt;}&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;També hem de fer constar que en un document, que serà de tipus JSON (pràcticament), serà un conjunt de parelles clau-valor, amb algunes restriccions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El document (que moltes vegades l'associarem a objecte de JSON) va entre claus ( &lt;strong&gt;{ }&lt;/strong&gt; )&lt;/li&gt;
&lt;li&gt;Els elements d'un objecte van separats per comes, i són parelles clau-valor.&lt;/li&gt;
&lt;li&gt;La clau no pot ser nula, ni repetir-se en el mateix objecte (sí en diferents objectes, clar)&lt;/li&gt;
&lt;li&gt;Els valors són dels tipus que veurem en la pregunta 3.2.2&lt;/li&gt;
&lt;li&gt;Un document guardat ha de contenir obligatòriament un camp anomenat &lt;strong&gt;_id&lt;/strong&gt;, i que contindrà un valor únic en la col·lecció i servirà per a identificar-lo. Si en guardar un document no li hem posat camp &lt;strong&gt;_id&lt;/strong&gt;, el generarà automàticament MongoDB.&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="364"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="365"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="94"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="365"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="17"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB"></string>
           <string role="key" value="parent"></string>
           <reference key="351"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="368">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.2.1 - Tipus de dades"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="366">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="367">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="366"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Els valors dels elements, és a dir de les parelles clau valor, poden ser d'una amplia gama de tipus. Fem un ràpid repàs.&lt;/p&gt;
&lt;p&gt;En els exemples que van a continuació definim senzillament parelles clau-valor dels diferents tipus, o en tot cas ens ho guardem en variables, però no guardarem encara en la Base de Dades (ho farem en la següent pregunta).&lt;/p&gt;
&lt;p&gt;Quan guardem en una variable es mostrarà el prompt, la definició de la variable i després el resultat d'haver guardat la variable. Utilitzarem requadres blancs. Els requadres grocs són únicament de la definició d'una clau-valor d'un determinat tipus&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="367"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="101"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="369">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="370">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="369"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;NULL&lt;/p&gt;
&lt;p&gt;Més que un tipus de dades és un valor, millor dit, l'absència de valor&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;x&quot; : null }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;BOOLEAN&lt;/p&gt;
&lt;p&gt;El tipus booleà, que pot agafar els valors true o false.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;x&quot; : true }&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;y&quot; : false }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;NUMBER&lt;/p&gt;
&lt;p&gt;Per defecte, el tiups de dades numèrics serà el de coma flotant (&lt;strong&gt;float&lt;/strong&gt;), simple precisió. Si volem un altre tiups (enter, doble precisió, ...) ho haurem d'indicar expressament. Així els dos següents valors són float:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;x&quot; : 3.14 }&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;y&quot; : 3 }&lt;/p&gt;
&lt;p&gt;Si volem que siga estrictament enter, per exemple, haurem d'utilitzar una funció de conversió:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;x&quot; : NumberDouble(&quot;3.14&quot;) }&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ &quot;y&quot; : NumberInt(&quot;3&quot;) }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="370"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="96"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="371">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="372">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="371"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;STRING&lt;/p&gt;
&lt;p&gt;Es pot guardar qualsevol cadena amb caràcters de la codificació UTF-8&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{  x : &quot;Hola, què tal?&quot;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;DATE&lt;/p&gt;
&lt;p&gt;Es guarda data i hora, i internament es guarden en milisegons des de l'any inicial. No es guarda el &lt;strong&gt;&lt;/strong&gt;&lt;em&gt;Time zone&lt;/em&gt; , és a dir,&lt;em&gt; &lt;/em&gt;la desviació respecte a l'hora internacional.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ x : ISODate(&quot;2016-02-24T11:15:27.471Z&quot;) }&lt;/p&gt;
&lt;p&gt;Normalment utilitzarem funcions de tractament de la data-hora. L'anterior era per a convertir el string en data-hora. La següent és per a obtenir la data-hora actual:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ x : new Date() }&lt;/p&gt;
&lt;p&gt;És a dir, que si no posem paràmetre, ens dóna la data-hora actual. Però li podem posar com a paràmetre la data-hora que volem que genere. En aquest exemple, només posem data, per tant l'ho serà les 00:00:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; z = new Date(&quot;2016-08-01&quot;)&lt;br /&gt;ISODate(&quot;2016-08-01T00:00:00Z&quot;)&lt;/p&gt;
&lt;p&gt;En aquest sí que posem una determinada hora, i observeu com hem deposar la T (Time) entre el dia i l'hora:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; z = new Date(&quot;2016-08-01T10:00&quot;)&lt;br /&gt;ISODate(&quot;2016-08-01T08:00:00Z&quot;)&lt;/p&gt;
&lt;p&gt;És molt important que posem sempre &lt;strong&gt;New Date()&lt;/strong&gt; per a generar una data-hora. Si posem únicament &lt;strong&gt;Date()&lt;/strong&gt;, el que estem generant és un string (segurament amb la data i hora actual, però un string):&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; z = Date(&quot;2016-08-01&quot;)&lt;br /&gt;Fri Feb 26 2016 08:30:13 GMT+0100 (CET)&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="372"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="97"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="373">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="374">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="373"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;ARRAY&lt;/p&gt;
&lt;p&gt;És un conjunt d'elements, cadascun de qualsevol tipus, encara que el més habitual és que siguen del mateix tipus. Van entre claudàtors (&lt;strong&gt; [ ] &lt;/strong&gt;) i els elements separats per comes.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ x : [ 2 , 4 , 6 , 8 ] }&lt;/p&gt;
&lt;p&gt;Com comentàvem, cada element de l'array pot ser de qualsevol tipus:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ y : [ 2 , 3.14 , &quot;Hola&quot; , new Date() ] }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;En MongoDB podrem treballar molt bé amb arrays, i tindrem operacions per a poder buscar dins de l'array, modificar un element, crear índex, ...&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="374"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="98"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="375">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="376">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="375"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;DOCUMENTS (OBJECTES)&lt;/p&gt;
&lt;p&gt;Els documents poden contenir com a elements uns altres documents (&lt;strong&gt;objectes&lt;/strong&gt; en la terminologia JSON, però &lt;strong&gt;documents&lt;/strong&gt; en la terminologia de MongoDB).&lt;/p&gt;
&lt;p&gt;Van entre claus ( &lt;strong&gt;{ }&lt;/strong&gt; ), i els elements que contindran van separats per comes i seran parelles clau-valor de qualsevol tipus (fins i tot altres documents).&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ x : { a : 1 , b : 2 } }&lt;/p&gt;
&lt;p&gt;Posar documents dins d'uns altres documents (el que s'anomena &lt;em&gt;embedded&lt;/em&gt; &lt;em&gt;document&lt;/em&gt;) ens permet guardar la informació d'una manera més real, no tan plana. Així per exemple, les dades d'una persona les podríem definir de la següent manera. Les posarem en una variable, per veure després com podem accedir als diferents elements, encara que el més normal serà guardar-lo en la Base de Dades (amb &lt;strong&gt;insert()&lt;/strong&gt; o &lt;strong&gt;save() &lt;/strong&gt;). Si copiem el que va a continuació al terminal de Mongo, ens apareixerà amb un format estrany. És perquè la sentència d'assignació a la variable ocupa més d'una línia, i apareixeran 3 punts al principi per a indicar que continua la sentència. Però funcionarà perfectament :&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;doc = {&lt;br /&gt;    nom:&quot;Joan Martí&quot;,&lt;br /&gt;    adreça: {&lt;br /&gt;        carrer:&quot;Major&quot;,&lt;br /&gt;        número:1,&lt;br /&gt;        població:&quot;Castelló&quot;&lt;br /&gt;    } ,&lt;br /&gt;    telèfons : [964223344,678345123]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Observeu com aquesta estructura que ha quedat tan clara, segurament en una Base de Dades Relacional ens hauria tocat guardar en 3 taules: la de persones, la d'adreces i la de telèfons.&lt;/p&gt;
&lt;p&gt;Per a accedir als elements d'un document posàvem el punt. Doncs el mateix per als elements d'un document dins d'un document. I també podem accedir als elements d'un array, posant l'índex entre claudàtors.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc.nom&lt;br /&gt;Joan Martí&lt;br /&gt;&lt;br /&gt;&amp;gt; doc.adreça&lt;br /&gt;{ &quot;carrer&quot; : &quot;Major&quot;, &quot;número&quot; : 1, &quot;població&quot; : &quot;Castelló&quot; }&lt;br /&gt;&lt;br /&gt;&amp;gt; doc.adreça.carrer&lt;br /&gt;Major&lt;br /&gt;&lt;br /&gt;&amp;gt; doc.telèfons&lt;br /&gt;[ 964223344, 678345123 ]&lt;br /&gt;&lt;br /&gt;&amp;gt; doc.telèfons[0]&lt;br /&gt;964223344&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="376"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="99"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="377">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="378">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="377"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;OBJECT ID&lt;/p&gt;
&lt;p&gt;És un tipus que defineix MongoDB per a poder obtenir valors únics. És el valor per defecte de l'element &lt;strong&gt;_id &lt;/strong&gt;, necessari en tot document (atenció: en un document, no en un element de tipus document que hem dit equivalent a l'objecte de JSON). És un número long, és a dir que utilitza 24 bytes.&lt;/p&gt;
&lt;p&gt;Farem proves de la seua utilització en la seüent pregunta, en el moment d'inserir diferents documents.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="378"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="368"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="100"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="368"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="19"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.1%20-%20Tipus%20de%20dades"></string>
              <string role="key" value="parent"></string>
              <reference key="365"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="381">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.2.2 - Operacions bàsiques"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="379">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="380">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="379"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;En aquest punt anem a veure les operacions més bàsiques, per a poder treballar sobre exemples pràctics, i així disposar ja d'unes dades inicials per a practicar.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Inserció elemental&lt;/p&gt;
&lt;p&gt;La funció &lt;strong&gt;insert&lt;/strong&gt; afegirà documents a una col·lecció. En el paràmetre posem el document directament, o una variable que continga el document. Si la col·lecció no existia, la crearà i després afegirà el document. En la següent sentència estem treballant sobre la col·lecció &lt;strong&gt;exemple&lt;/strong&gt;, que segurament ja existirà de quan vam la pregunta 3.1 d'instal·lació de MongoDB, que per a provar vam inserir un document. Però si no existia, la crearà sense problemes.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.insert({ msg2 : &quot;Com va la cosa?&quot;})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Acabem d'inserir un nou document, i així ens ho avisa ( &lt;strong&gt;{ &quot;nInserted&quot; : 1 }&lt;/strong&gt; , s'ha inserit un document). Automàticament haurà creat un element &lt;strong&gt;_id&lt;/strong&gt; de tipus &lt;strong&gt;ObjectId&lt;/strong&gt;, ja que li fa falta per a identificar el document entre tots els altres de la col·lecció.&lt;/p&gt;
&lt;p&gt;I en aquest exemple ens guardem el document en la variable &lt;strong&gt;doc&lt;/strong&gt;, i després l'inserim&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc = { msg3 : &quot;Per ací no ens podem queixar ...&quot;}&lt;br /&gt;{ &quot;msg3&quot; : &quot;Per ací no ens podem queixar ...&quot; }&lt;br /&gt;&amp;gt; db.exemple.insert(doc)&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p&gt;També ens indica que ha inserit un document. I haurà creat també el camp &lt;strong&gt;_id&lt;/strong&gt; com veurem en el següent punt&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="380"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="95"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="382">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="383">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="382"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Lectura&lt;/p&gt;
&lt;p&gt;Tenim dues funcions per a recuperar informació: &lt;em&gt;&lt;strong&gt;find&lt;/strong&gt;&lt;/em&gt; i &lt;em&gt;&lt;strong&gt;findOne&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;find() &lt;/strong&gt;: recuperarà tots els documents de la col·lecció, encara que podrem posar criteris per a que ens torne tots els documents que acomplesquen aquestos criteris (ho veurem més avant).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;findOne()&lt;/strong&gt; : només tornarà un document, en principi el primer. Pot ser sobre tots els documents (i per tant seria el primer document), o posar una condició, i tornaria el primer que acomplirà la condició.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Exemple de &lt;strong&gt;find()&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce31f6c61e04ba81def50c&quot;), &quot;msg2&quot; : &quot;Com va la cosa?&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce3237c61e04ba81def50d&quot;), &quot;msg3&quot; : &quot;Per ací no ens podem queixar ...&quot; }&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Exemple de &lt;strong&gt;findOne()&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.findOne()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;En tots els casos podem comprovar que és cert el que veníem afirmant, que ha creat automàticament l'element &lt;strong&gt;_id&lt;/strong&gt; per a cada document guardat. Evidentment, cadascú de nosaltres tindrà una valors diferents.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="383"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="102"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="384">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="385">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="384"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Inserció especificant el id&lt;/p&gt;
&lt;p&gt;Ara que ja sabem consultar els document de la col·lecció amb &lt;strong&gt;find()&lt;/strong&gt; anem a continuar les insercions de documents, per veure les possibilitats que tenim.&lt;/p&gt;
&lt;p&gt;En els document que hem inserit fins el moment, no hem especificat el camp &lt;strong&gt;_id&lt;/strong&gt;, i Mongo l'ha generat automàticament de tipus &lt;strong&gt;ObjectId&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Però nosaltres podrem posar aquest camp &lt;strong&gt;_id&lt;/strong&gt; amb el valor que vulguem. Això sí, haurem d'estar segurs que aquest valor no l'agafa cap altre dcument de la col·lecció, o ens donarà un error.&lt;/p&gt;
&lt;p&gt;Així per exemple anem a inserir la informació d'uns alumnes. Els posarem en una col·lecció nova anomenada &lt;strong&gt;alumnes&lt;/strong&gt;, i els intentarem posar un &lt;strong&gt;_id&lt;/strong&gt; personal. Per exemple posarem els números 51, 52, 53, ...&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.insert ({_id: 51 , nom: &quot;Rebeca&quot; , cognoms: &quot;Martí Peral&quot;})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Ha anat bé, i si mirem els documents que tenim en la col·lecció, comprovarem que ens ha respectat el &lt;strong&gt;_id&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find()&lt;br /&gt;{ &quot;_id&quot; : 51, &quot;nom&quot; : &quot;Rebeca&quot;, &quot;cognoms&quot; : &quot;Martí Peral&quot; }&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Però si intentem inserir un altre document amb el mateix &lt;strong&gt;_id&lt;/strong&gt; (51), ens donarà error:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.insert ({_id: 51 , nom: &quot;Raquel&quot; , cognoms: &quot;Gomis Arnau&quot;})&lt;br /&gt;WriteResult({&lt;br /&gt;    &quot;nInserted&quot; : 0,&lt;br /&gt;    &quot;writeError&quot; : {&lt;br /&gt;        &quot;code&quot; : 11000,&lt;br /&gt;        &quot;errmsg&quot; : &quot;E11000 duplicate key error collection: test.alumnes index: _id_ dup key: { : 51.0 }&quot;&lt;br /&gt;    }&lt;br /&gt;})&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Ens avisa que estem duplicant la &lt;em&gt;clau&lt;/em&gt; &lt;em&gt;principal &lt;/em&gt;, és a dir l'identificador.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="385"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="106"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="386">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="387">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="386"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Inserció múltiple&lt;/p&gt;
&lt;p&gt;Quan els documents que volem inserir són senzills, podem inserir més d'un a la vegada, posant dis del &lt;strong&gt;insert()&lt;/strong&gt; un &lt;strong&gt;array&lt;/strong&gt; amb tots els elements. En el següent exemple creem uns quants nombres primers en la col·lecció del mateix nom:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.nombresprimers.insert( [ {_id:2} , {_id:3} , {_id:5} , {_id:7} , {_id:11} , {_id:13} , {_id:17} , {_id:19} ] )&lt;br /&gt;BulkWriteResult({&lt;br /&gt;    &quot;writeErrors&quot; : [ ],&lt;br /&gt;    &quot;writeConcernErrors&quot; : [ ],&lt;br /&gt;    &quot;nInserted&quot; : 8,&lt;br /&gt;    &quot;nUpserted&quot; : 0,&lt;br /&gt;    &quot;nMatched&quot; : 0,&lt;br /&gt;    &quot;nModified&quot; : 0,&lt;br /&gt;    &quot;nRemoved&quot; : 0,&lt;br /&gt;    &quot;upserted&quot; : [ ]&lt;br /&gt;})&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Ens avisa que ha fet 8 insercions, i ací els tenim:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.nombresprimers.find()&lt;br /&gt;{ &quot;_id&quot; : 2 }&lt;br /&gt;{ &quot;_id&quot; : 3 }&lt;br /&gt;{ &quot;_id&quot; : 5 }&lt;br /&gt;{ &quot;_id&quot; : 7 }&lt;br /&gt;{ &quot;_id&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : 13 }&lt;br /&gt;{ &quot;_id&quot; : 17 }&lt;br /&gt;{ &quot;_id&quot; : 19 }&lt;br /&gt;&amp;gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="387"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="107"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="388">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="389">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="388"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Esborrat&lt;/p&gt;
&lt;p&gt;Per a esborrar un document d 'una col·lecció utilitzarem la funció &lt;strong&gt;remove&lt;/strong&gt;, passant-li com a paràmetre la condició del document o documents a esborrar.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.nombresprimers.remove( {&quot;_id&quot; : 19} )&lt;br /&gt;WriteResult({ &quot;nRemoved&quot; : 1 })&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Ens avisa que ha esborrat un document.&lt;/p&gt;
&lt;p&gt;La condició no cal que siga sobre el camp &lt;strong&gt;_id&lt;/strong&gt;. Pot ser sobre qualsevol camp, i esborrarà tots els que coincideixen.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.remove( {&quot;msg3&quot; : &quot;Per ací no ens podem queixar ...&quot;} )&lt;br /&gt;WriteResult({ &quot;nRemoved&quot; : 1 })&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;També tenim la possibilitat d'esborrar tota una col·lecció amb la funció &lt;strong&gt;drop()&lt;/strong&gt;. Pareu atenció perquè és molt senzilla d'eliminar, i per tant, potencialment molt perillosa.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.nombresprimers.drop()&lt;br /&gt;true&lt;br /&gt;&amp;gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="389"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="104"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="390">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="391">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="390"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Actualització&lt;/p&gt;
&lt;p&gt;La funció &lt;em&gt;&lt;strong&gt;update&lt;/strong&gt;&lt;/em&gt; servirà per a actualitzar un document ja guardat. Tindrà dos paràmetres:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El primer paràmetre serà la condició per a trobar el document que s'ha d'actualitzar.&lt;/li&gt;
&lt;li&gt;El segon paràmetre serà el nou document que substituirà l'anterior&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per exemple, si mirem les dades actuals:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce31f6c61e04ba81def50c&quot;), &quot;msg2&quot; : &quot;Com va la cosa?&quot; }&lt;/p&gt;
&lt;p&gt;Podem comprovar el contingut del segon document, el que te &lt;strong&gt;msg2&lt;/strong&gt;. Anem a modificar-lo: en el primer paràmetre posem condició de búsqueda (només hi haurà un) i en el segon posem el nou document que substituirà l'anterior&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.update( {msg2:&quot;Com va la cosa?&quot;} , {msg2:&quot;Què? Com va la cosa?&quot;} )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Observeu que la contestació del &lt;strong&gt;update&lt;/strong&gt;&lt;strong&gt;()&lt;/strong&gt; és que ha fet &lt;strong&gt;match&lt;/strong&gt; (hi ha hagut coincidència) amb un document, i que ha modificat un. Si no en troba cap, no donarà error, senzillament dirà que ha fet match amb 0 documents, i que ha modificat 0 documents. Mirem com efectivament ha canviat el segon document&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce31f6c61e04ba81def50c&quot;), &quot;msg2&quot; : &quot;Què? Com va la cosa?&quot; }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Ens vindran molt bé les variables per a les actualitzacions, ja que en moltes ocasions serà modificar lleugerament el document, canviant o afegint algun element. Ho podrem fer còmodament amb la variable: primer guardem el document a modificar en una variable; després modifiquem la variable; i per últim fem l'operació d'actualització. Evidentment si tenim alguna variable amb el contingut del document ens podríem estalviar el primer pas.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1 = db.exemple.findOne()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot; }&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1.titol = &quot;Missatge 1&quot;&lt;br /&gt;Missatge 1&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.update( {msg:&quot;Hola, què tal?&quot;} , doc1)&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.exemple.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;),&lt;br /&gt;    &quot;msg&quot; : &quot;Hola, què tal?&quot;,&lt;br /&gt;    &quot;titol&quot; : &quot;Missatge 1&quot;&lt;br /&gt;}&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="391"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="103"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="392">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="393">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="392"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Funció Save&lt;/p&gt;
&lt;p&gt;Hem vist la manera d'inserir nous documents amb &lt;strong&gt;insert()&lt;/strong&gt; i d'actualitzar documents existents amb &lt;strong&gt;update()&lt;/strong&gt;. Però si intentem inserir un document ja existent (la manera de saber-ho és pel camp &lt;strong&gt;_id&lt;/strong&gt;) ens donarà error. I si intentem actualitzar un document no existent, no donarà error, però no actualitzarà res.&lt;/p&gt;
&lt;p&gt;La funció &lt;strong&gt;save()&lt;/strong&gt; és una barreja dels dos: si el document que anem a salvar ja existeix, doncs el modificarà, i si no existeix el crearà.&lt;/p&gt;
&lt;p&gt;Provem-ho amb un exemple, i aprofitem-nos que en la variable &lt;strong&gt;doc1&lt;/strong&gt; tenim el contingut d'un document. Fem una modificació, per exemple afegint el camp destinatari:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1.destinatari = &quot;Ferran&quot;&lt;br /&gt;Ferran&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;),&lt;br /&gt;    &quot;msg&quot; : &quot;Hola, què tal?&quot;,&lt;br /&gt;    &quot;titol&quot; : &quot;Missatge 1&quot;,&lt;br /&gt;    &quot;destinatari&quot; : &quot;Ferran&quot;&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Anem a guardar-lo amb &lt;strong&gt;save()&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.save(doc1)&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Ja ens avisa qiue com ha trobat el document (&lt;strong&gt;&quot;nMatched : 1&quot;&lt;/strong&gt;) ha modificat un. Efectivament, mirem com ha modificat el document existent:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot;, &quot;titol&quot; : &quot;Missatge 1&quot;, &quot;destinatari&quot; : &quot;Ferran&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce31f6c61e04ba81def50c&quot;), &quot;msg2&quot; : &quot;Què? Com va la cosa?&quot; }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Anem a fer ara una modificació del camp &lt;strong&gt;_id&lt;/strong&gt;. A tots els efectes serà un document nou, ja que la manera d'identificar un document és per aquest camp:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1._id=100&lt;br /&gt;100&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; doc1&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : 100,&lt;br /&gt;    &quot;msg&quot; : &quot;Hola, què tal?&quot;,&lt;br /&gt;    &quot;titol&quot; : &quot;Missatge 1&quot;,&lt;br /&gt;    &quot;destinatari&quot; : &quot;Ferran&quot;&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I ara anem a fer el &lt;strong&gt;save()&lt;/strong&gt; d'aquest document:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.save(doc1)&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : 100 })&lt;/p&gt;
&lt;p&gt;Observeu com ara avisa que no n'ha trobat cap igual, i el que fa és inserir-lo (ens diu &lt;strong&gt;nUpserted&lt;/strong&gt;, que és una barreja de &lt;strong&gt;Up&lt;/strong&gt;dated i &lt;strong&gt;&lt;/strong&gt;In&lt;strong&gt;serted&lt;/strong&gt;; més avant tornarem a aquesta paraula)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.exemple.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce310bc61e04ba81def50b&quot;), &quot;msg&quot; : &quot;Hola, què tal?&quot;, &quot;titol&quot; : &quot;Missatge 1&quot;, &quot;destinatari&quot; : &quot;Ferran&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56ce31f6c61e04ba81def50c&quot;), &quot;msg2&quot; : &quot;Què? Com va la cosa?&quot; }&lt;br /&gt;{ &quot;_id&quot; : 100, &quot;msg&quot; : &quot;Hola, què tal?&quot;, &quot;titol&quot; : &quot;Missatge 1&quot;, &quot;destinatari&quot; : &quot;Ferran&quot; }&lt;/p&gt;
&lt;p&gt;Efectivament s'ha guardat com un nou document&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="393"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="381"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="119"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="381"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="18"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.2%20-%20Operacions%20b%C3%A0siques"></string>
              <string role="key" value="parent"></string>
              <reference key="365"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="396">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.2.3 - Operacions d'actualització avançada"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="394">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="395">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="394"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Al final de la pregunta anterior hem vist l'actualització de documents ja existents a la Base de Dades. Aquesta actualització la féiem modificant tot el document, encara que tením la variant de guardar el document en una variable, modificar aquesta variable i després fer l'actualització amb aquesta variable. Però observeu que continua sent una modificació de tot el document, una substitució del document antic per un document nou.&lt;/p&gt;
&lt;p&gt;En aquesta pregunta veurem la utilització d'uns modificadors (&lt;em&gt;modifiers&lt;/em&gt;) de l'operació &lt;strong&gt;update()&lt;/strong&gt;, que ens permetran modificar documents de forma potent: creant i eliminant claus (elements) d'un document, o canviant-los, i fins i tot afegir o eliminar elements d'un array.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="395"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="396"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="108"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="396"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="20"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada"></string>
              <string role="key" value="parent"></string>
              <reference key="365"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list>
               <instance class="exe.engine.node.Node" reference="399">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.1 - $set"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="397">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="398">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="397"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value=""></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="398"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="399"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="109"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="399"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="400">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="401">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="400"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;El modificador &lt;strong&gt;$set&lt;/strong&gt; assigna un valor a un camp del document seleccionat de la Base de Dades. Si el camp ja existia, modificarà el valor, i si no existia el crearà.&lt;/p&gt;
&lt;p&gt;La sintaxi del modificador &lt;strong&gt;$set&lt;/strong&gt; és la següent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $set : { clau : valor} }&lt;/p&gt;
&lt;p&gt;Però recordeu que és un modificador, i l'hem d'utilitzar dins d'una operació d'actualització. Anirà en el segon paràmetre del &lt;strong&gt;update()&lt;/strong&gt;, i per tant amb aquestos modificadors ja no posem tot el document en el segon paràmetre, sinó únicament l'operador de modificació.&lt;/p&gt;
&lt;p&gt;Mirem-ho millor en un exemple:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.insert( {nom:&quot;Abel&quot;, cognoms:&quot;Bernat Carrera&quot;} ) &lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;br /&gt;&amp;gt;&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;&lt;br /&gt;}&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;Suposem ara que li volem afegir l'edat. Abans ho faríem guardant el document en una variable, i afegint el camp, per a guardar després. Ara ho tenim més fàcil:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {edat:21} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Ha trobat un, i l'ha modificat. Evidentment, si hi haguera més d'un alumne a mb el nom Abel, els modificaria tots.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 21&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Es pot especificar més d'un camp amb els valor corresponents. Si no existien es crearan, i si ja existien es modificaran:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {nota: 8.5 , edat:22} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : 8.5&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I fins i tot es pot canviar el tipus d'un camp determinat, i utilitzar arrays, i objectes, ...&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {nota: [8.5,7.5,9] , adreça:{carrer:&quot;Major&quot;,numero:7,cp:&quot;12001&quot;}  } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12001&quot;&lt;br /&gt;    }&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Podem fins i tot modificar ara només el valor d'un camp d'un objecte del document. Per exemple, anem a modificar el codi postal de l'anterior alumne. La manera d'arribar al codi postal serà &lt;strong&gt;adreça.cp&lt;/strong&gt;, però haurem d'anar amb compte que vaja entre cometes per a que el trobe:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt;  db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {adreça.cp:&quot;12502&quot;} } )&lt;br /&gt;2016-03-08T13:19:59.744+0100 E QUERY    [thread1] SyntaxError: missing : after property id @(shell):1:49&lt;br /&gt;&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {&quot;adreça.cp&quot;:&quot;12502&quot;} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="401"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="399"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="110"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="399"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="21"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.1%20-%20%24set"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="404">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.2 - $unset"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="402">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="403">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="402"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;El modificador &lt;strong&gt;$unset&lt;/strong&gt; servirà per a &lt;strong&gt;eliminar&lt;/strong&gt; elements (camps) d'un o uns documents. Si el camp existia, l'eliminarà, i si no existia, no donarà error (avisarà que s'han modificat 0 documents).&lt;/p&gt;
&lt;p&gt;La sintaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $unset : {camp : 1 } }&lt;/p&gt;
&lt;p&gt;Haurem de posar un valor al camp que anem a esborrar per a mantenir la sintaxi correcta, i posem 1 que equival a true. També podríem posar -1, que equival a false, però aleshores no l'esborraria, i per tant no faríem res. Sempre posarem 1.&lt;/p&gt;
&lt;p&gt;Mirem el següent exemple. Afegim un camp, que serà el número d'ordre, i després el llevarem.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $set: {num_ordre:10} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;num_ordre&quot; : 10&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $unset: {num_ordre:1} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $unset: {puntuacio:1} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 0 })&lt;/p&gt;
&lt;p&gt;Hem afegit primer el camp &lt;strong&gt;num_ordre&lt;/strong&gt;, i hem mostrat el document per comprovar que existeix. Després esborrem el camp &lt;strong&gt;num_ordre&lt;/strong&gt; (i ens confirma que ha modificat un document). Després intentem esborrar un camp que no existeix, &lt;strong&gt;puntuacio&lt;/strong&gt;. No dóna error, però ens avisa que ha modificat 0 documents. Podem comprovar al final com el document ha quedat com esperàvem.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="403"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="404"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="111"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="404"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="22"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.2%20-%20%24unset"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="407">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.3 - $rename"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="405">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="406">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="405"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;El modificador &lt;strong&gt;$rename&lt;/strong&gt; canviarà el nom d'un camp. Si no existia, no donarà error i senzillament no el modificarà. Hem de cuidar de posar el nou nom del camp entre cometes, per a que no done error.&lt;/p&gt;
&lt;p&gt;La sintaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $rename : { camp1 : &quot;nou_nom1&quot; , camp2 : &quot;nou_nom2&quot; , ... } }&lt;/p&gt;
&lt;p&gt;Per exemple, canviem el nom del camp &lt;strong&gt;nota&lt;/strong&gt; a &lt;strong&gt;notes&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $rename: {nota:&quot;notes&quot;} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;notes&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Observeu que l'ha canviat de lloc, cosa que ens fa pensar que en canviar de nom un camp, el que fa és tornar a crear-lo amb el nou nom, i esborrar el camp antic.&lt;/p&gt;
&lt;p&gt;En aquest exemple tornem a canviar el nom a &lt;strong&gt;nota&lt;/strong&gt;, i intentem canviar el nom a un camp inexistent, &lt;strong&gt;camp1&lt;/strong&gt;. No donarà error.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $rename: {camp1: &quot;camp2&quot; , notes:&quot;nota&quot;} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="406"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="407"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="114"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="407"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="24"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.3%20-%20%24rename"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="410">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.4 - $inc"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="408">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="409">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="408"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value=""></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="409"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="410"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="112"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="410"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="411">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="412">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="411"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;Com cabria esperar, el modificador &lt;strong&gt;$inc&lt;/strong&gt; servirà per a incrementar un camp numèric. Si el camp existia, l'incrementarà en la quantitat indicada. Si no existia, crearà el camp amb un valor inicial de 0, i incrementarà el valor amb la quantitat indicada. La quantitat pot ser positiva, negativa o fins i tot amb part fraccionària. Sempre funcionarà bé, excepte quan el camp a incrementar no siga numèric, que donarà error.&lt;/p&gt;
&lt;p&gt;La sintaxi és aquesta:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $inc : {camp : quantitat } }&lt;/p&gt;
&lt;p&gt;En els següents exemples, incrementem un camp nou (per tant el crearà amb el valor especificat), i després l'incrementem en quantitats positives, negatives i fraccionàries, concretament l'inicialitzem amb un &lt;strong&gt;2&lt;/strong&gt;, i despés l'incrementem en &lt;strong&gt;5&lt;/strong&gt;, en &lt;strong&gt;-4&lt;/strong&gt; i en &lt;strong&gt;2.25&lt;/strong&gt;, per tant el resultat final serà &lt;strong&gt;5.25&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $inc: {puntuacio:2} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;puntuacio&quot; : 2&lt;br /&gt;}&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $inc: {puntuacio:5} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $inc: {puntuacio:-4} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $inc: {puntuacio:2.25} } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        8.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ],&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;puntuacio&quot; : 5.25&lt;br /&gt;}&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="412"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="410"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="113"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="410"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="23"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.4%20-%20%24inc"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="415">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.5 - Elements d'un array"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="413">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="414">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="413"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;Per a accedir directament a un element d'un array d'un determinat document es pot utilitzar la següent sintaxi:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;&quot;array.index&quot;&lt;/p&gt;
&lt;p&gt;Hem de tenir present que el primer element de l'array és el de subíndex 0. I no us oblideu de tancar-ho tot entre comentes per a que ho puga trobar.&lt;/p&gt;
&lt;p&gt;Si no existeix l'element amb el subíndex indicat, donarà error.&lt;/p&gt;
&lt;p&gt;Per exemple, anem a pujar un punt la primera nota de l'alumne que estem utilitzant en tots els exemples :&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt;db.alumnes.update( {nom:&quot;Abel&quot;} , { $inc : { &quot;nota.0&quot; : 1 } } )&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="414"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="415"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="115"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="415"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="25"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.5%20-%20Elements%20d%27un%20array"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="418">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.6 - Inserció en Arrays: $push"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="416">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="417">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="416"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value=""></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="417"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="418"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="116"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="418"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="419">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="420">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="419"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;La manera més senzilla d'introduir un element en un array és utilitzar &lt;strong&gt;$push&lt;/strong&gt; sense més. Si existia l'array, introduirà el o els nous elements al final. Si no existia l'array, el crearà amb aquest o aquestos elements.&lt;/p&gt;
&lt;p&gt;La sintaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $push : { clau : element } }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Per exemple anem a afegir una nota a l'alumne de sempre, i posem-la diferent per veure que s'introdueix al final:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $push : { nota : 7 } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9,&lt;br /&gt;        7&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Tambe hi ha manera d'introduir un element en una determinada posició que no siga al final, però es complica prou la cosa, ja que hem d'utilitzar per una banda el modificador &lt;strong&gt;$position&lt;/strong&gt; per a dir on s'ha d'inserir, i per una altra banda el modificador &lt;strong&gt;$each&lt;/strong&gt; per a poder especificar el o els valors que es volen inserir. Es posa a continuació únicament de forma il·lustrativa.&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;Per a inserir en una determinada posició hem d'utilitzar obligatòriament 2 modificadors més:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;$position&lt;/strong&gt; indicarà a partir de quina posició es farà l'acció (normalment d'inserir en l'array, és a dir, &lt;strong&gt;$push &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$each&lt;/strong&gt; ens permet especificar una sèrie de valors com un array, i vol dir que es farà l'operació per a cada valor de l'array&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Els dos modificadors seguiran la sintaxi de sempre, de clau valor, per tant el conjunt de la sintaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $ push : &lt;br /&gt;   { clau_del_array :&lt;br /&gt;      { $position : &lt;em&gt;posició&lt;/em&gt; ,&lt;br /&gt;        $each : [ &lt;em&gt;valors&lt;/em&gt; ]&lt;br /&gt;      }&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Ací tenim un exemple on introduïm una nota en la primera posició:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $push : { nota : { $position : 0 , $each : [5] } } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        5,&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9,&lt;br /&gt;        7&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="420"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="418"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="117"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="418"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="26"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.6%20-%20Inserci%C3%B3%20en%20Arrays%3A%20%24push"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="423">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.7 - Eliminació en arrays: $pop i $pull"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="421">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="422">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="421"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;Hi ha més d'una manera d'eliminar elements d'un array.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;$pop&lt;/p&gt;
&lt;p&gt;Si volem eliminar el primer element o l'últim, el modificador adequat és &lt;strong&gt;$pop&lt;/strong&gt;. La sintaxi és&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $pop : { clau : posicio } }&lt;/p&gt;
&lt;p&gt;On en posició podrem posar:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-1 , i esborrarà el primer element&lt;/li&gt;
&lt;li&gt;1 , i esborrarà l'últim&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En els següents exemples s'esborren primer l'últim element i després el primer.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        5,&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9,&lt;br /&gt;        7&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $pop : { nota : 1 } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        5,&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $pop : { nota : -1 } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56df11d778549bdfbf2125e3&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;$pull&lt;/p&gt;
&lt;p&gt;Amb aquest modificador esborrarem els elements de l'array que coincidesquen amb una condició, estiguen en la posició que estiguem. Observeu com es pot eliminar més d'un element.&lt;/p&gt;
&lt;p&gt;Per a poder comprovar-lo bé, primer inserim un altre element al final de l'array, amb el valor &lt;strong&gt;7.5&lt;/strong&gt; (si heu seguit els mateixos exemples que en aquestos apunts, aquest valor ja es troba en la segona posició).&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $push : { nota : 7.5 } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;br /&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        7.5,&lt;br /&gt;        9,&lt;br /&gt;        7.5&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Ara anem a esborrar amb &lt;strong&gt;$pull&lt;/strong&gt; l'element de valor &lt;strong&gt;7.5&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( {nom:&quot;Abel&quot;} , { $pull : { nota : 7.5 } } )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.findOne()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Carrera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="422"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="423"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="118"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="423"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="27"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.7%20-%20Eliminaci%C3%B3%20en%20arrays%3A%20%24pop%20i%20%24pull"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
               <instance class="exe.engine.node.Node" reference="426">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="4.2.3.8 - Upsert"></unicode>
                 <string role="key" value="idevices"></string>
                 <list>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="424">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="425">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="424"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value=""></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="425"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="426"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="120"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="426"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                  <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="427">
                   <dictionary>
                    <string role="key" value="_title"></string>
                    <unicode value="Free Text"></unicode>
                    <string role="key" value="_author"></string>
                    <unicode value="University of Auckland"></unicode>
                    <string role="key" value="_purpose"></string>
                    <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                    <string role="key" value="_tip"></string>
                    <string value=""></string>
                    <string role="key" value="childs"></string>
                    <list></list>
                    <string role="key" value="content"></string>
                    <instance class="exe.engine.field.TextAreaField" reference="428">
                     <dictionary>
                      <string role="key" value="_id"></string>
                      <int value="85"></int>
                      <string role="key" value="_idevice"></string>
                      <reference key="427"></reference>
                      <string role="key" value="_instruc"></string>
                      <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                      <string role="key" value="_name"></string>
                      <unicode value="Free Text"></unicode>
                      <string role="key" value="anchor_names"></string>
                      <list></list>
                      <string role="key" value="anchors_linked_from_fields"></string>
                      <dictionary></dictionary>
                      <string role="key" value="buttonCaption"></string>
                      <string value=""></string>
                      <string role="key" value="content_w_resourcePaths"></string>
                      <unicode content="true" value="&lt;p&gt;Aquesta paraula ja l'havíem comentada en un punt anterior.&lt;/p&gt;
&lt;p&gt;En el &lt;strong&gt;update()&lt;/strong&gt; normal, si la condició de búsqueda no donava cap resultat (parlant ràpid, si no feis &lt;em&gt;matching&lt;/em&gt; amb cap document), doncs no actualitzava cap document i punt.&lt;/p&gt;
&lt;p&gt;El &lt;strong&gt;Upsert &lt;/strong&gt; és una variant de l'update, que quan no coincidesca cap document amb la condició, crearà un document nou que serà el resultat de combinar el criteri que s'ha utilitzat en la condició amb les operacions d'actualització fetes en el segon paràmetre&lt;/p&gt;
&lt;p&gt;Per a que un &lt;strong&gt;Update&lt;/strong&gt; actue d'aquesta manera, li hem de posar un tercer paràmetre amb el valor &lt;strong&gt;true&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;update ( {...} , {...} , true )&lt;/p&gt;
&lt;p&gt;Recordeu que el primer paràmetre era la condició, i el segon l'actualització.&lt;/p&gt;
&lt;p&gt;Mirem-ho en l'exemple dels alumnes. Si anem a actualitzar els cognoms, i es troba el document, s'actualitzarà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( { nom:&quot;Abel&quot; } , { $set : { cognoms : &quot;Bernat Cantera&quot; } } , true )&lt;br /&gt;WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&lt;/p&gt;
&lt;p&gt;Efectivament, ens diu que ha modificat un document.&lt;/p&gt;
&lt;p&gt;Però si no es troba el document (per exemple perquè li hem posat el nom &lt;strong&gt;Berta&lt;/strong&gt;):&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.update( { nom:&quot;Berta&quot; } , { $set : { cognoms : &quot;Bernat Cantero&quot; } } , true )&lt;br /&gt;WriteResult({&lt;br /&gt;    &quot;nMatched&quot; : 0,&lt;br /&gt;    &quot;nUpserted&quot; : 1,&lt;br /&gt;    &quot;nModified&quot; : 0,&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56dfdbd136d8b095cb6bd57a&quot;)&lt;br /&gt;})&lt;/p&gt;
&lt;p&gt;Ja ens avisa que no ha fet cap &lt;em&gt;matching&lt;/em&gt;, i ha fet un &lt;strong&gt;Upsert&lt;/strong&gt;. Ho podem comprovar mirant tots els document de la col·lecció:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;), &quot;nom&quot; : &quot;Abel&quot;, &quot;cognoms&quot; : &quot;Bernat Cantera&quot;, &quot;edat&quot; : 22, &quot;adreça&quot; : { &quot;carrer&quot; : &quot;Major&quot;, &quot;numero&quot; : 7, &quot;cp&quot; : &quot;12502&quot; }, &quot;nota&quot; : [ 9.5, 9 ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56dfdbd136d8b095cb6bd57a&quot;), &quot;nom&quot; : &quot;Berta&quot;, &quot;cognoms&quot; : &quot;Bernat Cantero&quot; }&lt;br /&gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;El nou documenttindrà els camps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;_id &lt;/strong&gt;, amb el que ens havia avisat que generaria&lt;/li&gt;
&lt;li&gt;Els camps de la condició, que en el nostre exemple és &lt;strong&gt;{ nom:&quot;Berta&quot; }&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Els camps de l'actualització, que en el nostre exemple eren els cognoms&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                      <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                      <int value="4"></int>
                      <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                      <int value="2"></int>
                      <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                      <int value="3"></int>
                      <string role="key" value="htmlTag"></string>
                      <string value="div"></string>
                      <string role="key" value="images"></string>
                      <instance class="exe.engine.galleryidevice.GalleryImages">
                       <dictionary>
                        <string role="key" value=".listitems"></string>
                        <list></list>
                        <string role="key" value="idevice"></string>
                        <reference key="428"></reference>
                       </dictionary>
                      </instance>
                      <string role="key" value="intlinks_to_anchors"></string>
                      <dictionary></dictionary>
                      <string role="key" value="nextImageId"></string>
                      <int value="0"></int>
                      <string role="key" value="parentNode"></string>
                      <reference key="426"></reference>
                     </dictionary>
                    </instance>
                    <string role="key" value="edit"></string>
                    <bool value="0"></bool>
                    <string role="key" value="emphasis"></string>
                    <int value="0"></int>
                    <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                    <int value="7"></int>
                    <string role="key" value="icon"></string>
                    <string value=""></string>
                    <string role="key" value="id"></string>
                    <unicode value="121"></unicode>
                    <string role="key" value="lastIdevice"></string>
                    <bool value="0"></bool>
                    <string role="key" value="originalicon"></string>
                    <string value=""></string>
                    <string role="key" value="parent"></string>
                    <none></none>
                    <string role="key" value="parentNode"></string>
                    <reference key="426"></reference>
                    <string role="key" value="systemResources"></string>
                    <list></list>
                    <string role="key" value="type"></string>
                    <none></none>
                    <string role="key" value="undo"></string>
                    <bool value="1"></bool>
                    <string role="key" value="userResources"></string>
                    <list></list>
                    <string role="key" value="version"></string>
                    <int value="0"></int>
                   </dictionary>
                  </instance>
                 </list>
                 <string role="key" value="_id"></string>
                 <unicode value="28"></unicode>
                 <string role="key" value="_package"></string>
                 <reference key="2"></reference>
                 <string role="key" value="anchor_fields"></string>
                 <list></list>
                 <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
                 <int value="2"></int>
                 <string role="key" value="exportType"></string>
                 <string value="website"></string>
                 <string role="key" value="last_full_node_path"></string>
                 <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.2%20-%20Utilitzaci%C3%B3%20de%20MongoDB:4.2.3%20-%20Operacions%20d%27actualitzaci%C3%B3%20avan%C3%A7ada:4.2.3.8%20-%20Upsert"></string>
                 <string role="key" value="parent"></string>
                 <reference key="396"></reference>
                 <string role="key" value="top_anchors_linked_from_fields"></string>
                 <list></list>
                 <string role="key" value="children"></string>
                 <list></list>
                </dictionary>
               </instance>
              </list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="431">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="4.3 - Consulta de documents"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="429">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="430">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="429"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;En la pregunta anterior hem vist com introduir, eliminar i modificar documents. Les consultes de documents han segut molt senzilles, per a comprovar únicament els resultats.&lt;/p&gt;
&lt;p&gt;En aquesta pregunta veurem en profunditat la consulta de documents.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Funcions &lt;strong&gt;find()&lt;/strong&gt; i &lt;strong&gt;findOne()&lt;/strong&gt;, que són les que hem utilitzat fina ara. Veurem en profunditat la seua sintaxi i potència.&lt;/li&gt;
&lt;li&gt;Limitarem i ordenarem també els resultats&lt;/li&gt;
&lt;li&gt;Fins i tot podrem elaborar més els resultats, agrupant els resultats, utilitzant funcions d'agregació (o millor dir operadors d'agregació)  i donant-los un aspecte diferent&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="430"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="431"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="122"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="431"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="29"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.3%20-%20Consulta%20de%20documents"></string>
           <string role="key" value="parent"></string>
           <reference key="351"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list>
            <instance class="exe.engine.node.Node" reference="434">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.3.1 - Paràmetres de les funcions find() i findOne()"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="432">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="433">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="432"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value=""></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="433"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="434"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="123"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="434"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="435">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="436">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="435"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Les funcions &lt;strong&gt;find()&lt;/strong&gt; i &lt;strong&gt;findOne()&lt;/strong&gt; són absolutament equivalents, amb l'úinca diferència que la primera torna tots els documents trobats, mentre que la segona només torna el primer document trobat.&lt;/p&gt;
&lt;p&gt;Per una millor comprensió, utilitzarem únicament &lt;strong&gt;find()&lt;/strong&gt;, per veure tots els resultats obtinguts.&lt;/p&gt;
&lt;p&gt;La funció &lt;strong&gt;find()&lt;/strong&gt; s'ha comparat tradicionalment amb la sentència SELECT de SQL. Sempre tornarà un conjunt de documents, que poden variar des de no tornar cap document, a tornar-los tots els de la col·lecció.&lt;/p&gt;
&lt;p&gt;La funció &lt;strong&gt;find()&lt;/strong&gt; pot tenir uns quants paràmetres.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;div&gt;
&lt;p&gt;El primer indica una condició o criteri, i tornarà aquells documents de la col·lecció que acomplesquen la condició o criteri. Aquesta condició ve donada en forma de document (o objecte) JSON, i és com l'havíem vist en la funció &lt;strong&gt;update()&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;db.col_leccio1.find( { clau1 : valor1 } )&lt;/p&gt;
&lt;p&gt;Tornarà tots els documents de la col·lecció &lt;strong&gt;col_leccio1&lt;/strong&gt; que tinguen el camp &lt;strong&gt;clau1&lt;/strong&gt; i que en ella tinguen el valor &lt;strong&gt;valor1&lt;/strong&gt;. Aquest criteri pot ser el complicat que faça falta, formant-lo en JSON. En definitiva, tornarà aquells documents que facen &lt;em&gt;matching&lt;/em&gt; amb el document del criteri, és a dir, funcionaria com un &lt;strong&gt;and&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;db.col_leccio1.find( { clau1 : valor1 , clau2 : valor2 } )&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;que tornaria aquells documents de la &lt;strong&gt;col_lecció1&lt;/strong&gt; que tenen el camp &lt;strong&gt;clau1&lt;/strong&gt; amb el valor &lt;strong&gt;valor1&lt;/strong&gt; i que tenen el camp &lt;strong&gt;clau2&lt;/strong&gt; amb el valor &lt;strong&gt;valor2&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Si no volem posar cap criteri, per a que els torne tots, no posem res com a paràmetre, o encara millor, li passem un document (objecte) buit, de manera que tots els documents de la col·lecció faran &lt;em&gt;matching&lt;/em&gt; amb ell.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;db.col_leccio1.find( { } )&lt;/p&gt;
&lt;p&gt;Tindrem açò present, sobretot quan ens toque utilitzar el segon paràmetre de &lt;strong&gt;find&lt;/strong&gt;. Si no volem cap criteri, posarem el document buit com l'exemple anterior&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div&gt;
&lt;p&gt;El segon paràmetre ens servirà per a delimitar els camps dels documents que es tornaran. També tindrà el format JSON d'un objecte al qual li posarem com a claus els diferents camps que volem que apareguen o no, i com a valor 1 per a que sí que apareguen i 0 per a que no apareguen.&lt;/p&gt;
&lt;p&gt;Si posem algun camp a que sí que aparega (és a dir, amb el valor 1), els únics que apareixeran seran aquestos, a més del&lt;strong&gt;_id&lt;/strong&gt; que per defecte sempre apareix.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find({},{nom:1})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;), &quot;nom&quot; : &quot;Abel&quot; }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56dfdbd136d8b095cb6bd57a&quot;), &quot;nom&quot; : &quot;Berta&quot; }&lt;/p&gt;
&lt;p&gt;Per tant si no volem que aparega &lt;strong&gt;_id &lt;/strong&gt;posarem:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find({},{_id:0})&lt;br /&gt;{ &quot;nom&quot; : &quot;Abel&quot;, &quot;cognoms&quot; : &quot;Bernat Cantera&quot;, &quot;edat&quot; : 22, &quot;adreça&quot; : { &quot;carrer&quot; : &quot;Major&quot;, &quot;numero&quot; : 7, &quot;cp&quot; : &quot;12502&quot; }, &quot;nota&quot; : [ 9.5, 9 ] }&lt;br /&gt;{ &quot;nom&quot; : &quot;Berta&quot;, &quot;cognoms&quot; : &quot;Bernat Cantero&quot; }&lt;/p&gt;
&lt;p&gt;I si volem traure únicament el nom:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find({},{nom:1,_id:0})&lt;br /&gt;{ &quot;nom&quot; : &quot;Abel&quot; }&lt;br /&gt;{ &quot;nom&quot; : &quot;Berta&quot; }&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per últim, com que a partir d'ara utilitzarem documents més complicats, si volem que ens apareguen els camps que retornem d'una forma un poc més elegant o bonica (&lt;em&gt;pretty&lt;/em&gt;), posarem aquesta funció al final: &lt;strong&gt;find().pretty()&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find().pretty()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56dfdbd136d8b095cb6bd57a&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Berta&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantero&quot;&lt;br /&gt;}&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="436"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="434"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="124"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="434"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="30"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.3%20-%20Consulta%20de%20documents:4.3.1%20-%20Par%C3%A0metres%20de%20les%20funcions%20find%28%29%20i%20findOne%28%29"></string>
              <string role="key" value="parent"></string>
              <reference key="431"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="439">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.3.2 - Operadors de les condicions"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="437">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="438">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="437"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value=""></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="438"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="125"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="440">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="441">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="440"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;Abans de començar aquesta pregunta, anem a agafar unes dades de prova, que estan en el fitxer &lt;strong&gt;libros_ejemplo.json&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Només heu de copiar el contingut del fitxer en la terminal del client de Mongo.&lt;/p&gt;
&lt;p&gt;Posem ací el contingut per a que pugueu pegar-li una miradeta sense necessitat d'obrir-lo. Anirà bé per als exemples posteriors.&lt;/p&gt;
&lt;pre class=&quot;codi2&quot;&gt;db.libro.save({&lt;br /&gt;    &quot;_id&quot;:&quot;9788408117117&quot;,&lt;br /&gt;      &quot;titulo&quot;:&quot;Circo Máximo&quot;,&lt;br /&gt;    &quot;autor&quot;:&quot;Santiago Posteguillo&quot;,&lt;br /&gt;    &quot;editorial&quot;:&quot;Planeta&quot;,&lt;br /&gt;    &quot;enstock&quot;:true,&lt;br /&gt;    &quot;paginas&quot;:1100,&lt;br /&gt;    &quot;precio&quot;:21.75,&lt;br /&gt;    &quot;fecha&quot;:new ISODate(&quot;2013-08-29T00:00:00Z&quot;),        &lt;br /&gt;      &quot;resumen&quot;:&quot;Circo Máximo, de Santiago Posteguillo, que ha escrito otras obras de narrativa histórica como Las Legiones Malditas o La traición de Roma, es la segunda parte de la trilogía de Trajano, que comenzó con Los asesinos del emperador, un relato impactante, descomunal, descrito con un trepidante pulso narrativo destinado a trasla dar al lector a la Roma imperial de los césares. Santiago posteguillo se ha convertido en el autor español de referencia de la novela histórica sobre Roma y el mundo antiguo. Bienvenidos al mundo de Marco Ulpio Trajano. Circo Máximo es la historia de Trajano y su gobierno, guerras y traiciones, lealtades insobornables e historias de amor imposibles. Hay una vestal, un juicio, inocentes acusados, un abogado especial, mensajes cifrados, códigos secretos, batallas campales, fortalezas inexpugnables, asedios sin fin, dos aurigas rivales, el Anfiteatro, los gladiadores y tres carreras de cuadrigas. Hay también un caballo especial, diferente a todos, leyes antiguas olvidadas, sacrificios humanos, amargura y terror, pero también destellos de nobleza y esperanza, como la llama de Vesta, que mientras arde preserva a Roma. Sólo que hay noches en las que la llama del Templo de Vesta tiembla. La rueda de la Fortuna comienza entonces a girar. En esos momentos, todo puede pasar y hasta la vida del propio Trajano, aunque él no lo sepa, corre peligro. Y, esto es lo mejor de todo, ocurrió: hubo un complot para asesinar a Marco Ulpio Trajano.&quot;&lt;br /&gt;})&lt;br /&gt;&lt;br /&gt;db.libro.save({&lt;br /&gt;     &quot;_id&quot;:&quot;9788401342158&quot;,&lt;br /&gt;      &quot;titulo&quot;:&quot;El juego de Ripper&quot;,&lt;br /&gt;      &quot;autor&quot;:&quot;Isabel Allende&quot;,&lt;br /&gt;      &quot;editorial&quot;:&quot;Plaza &amp;amp; Janes&quot;,&lt;br /&gt;      &quot;enstock&quot;:true,&lt;br /&gt;      &quot;paginas&quot;:480,&lt;br /&gt;      &quot;precio&quot;:21.75,&lt;br /&gt;    &quot;fecha&quot;:new ISODate(&quot;2014-03-01T00:00:00Z&quot;),        &lt;br /&gt;      &quot;resumen&quot;:&quot;Tal como predijo la astróloga más reputada de San Francisco, una oleada de crímenes comienza a sacudir la ciudad. En la investigación sobre los asesinatos, el inspector Bob Martín recibirá la ayuda inesperada de un grupo de internautas especializados en juegos de rol, Ripper. 'Mi madre todavía está viva, pero la matará el Viernes Santo a medianoche', le advirtió Amanda Martín al inspector jefe y éste no lo puso en duda, porque la chica había dado pruebas de saber más que él y todos sus colegas del Departamento de Homicidios. La mujer estaba cautiva en algún punto de los dieciocho mil kilómetros cuadrados de la bahía de San Francisco, tenían pocas horas para encontrarla con vida y él no sabía por dónde empezar a buscarla&quot;,&lt;br /&gt; })&lt;br /&gt; &lt;br /&gt;db.libro.save({&lt;br /&gt;    &quot;_id&quot;:&quot;9788496208919&quot;,&lt;br /&gt;   &quot;titulo&quot;:&quot;Juego de tronos: Canción de hielo y fuego 1&quot;,&lt;br /&gt;   &quot;autor&quot;:&quot;George R.R. Martin&quot;,&lt;br /&gt;   &quot;editorial&quot;:&quot;Gigamesh&quot;,&lt;br /&gt;   &quot;enstock&quot;:true,&lt;br /&gt;   &quot;paginas&quot;:793,&lt;br /&gt;   &quot;precio&quot;:9.5,&lt;br /&gt;   &quot;fecha&quot;:new ISODate(&quot;2011-11-24T00:00:00Z&quot;),     &lt;br /&gt;   &quot;resumen&quot;:&quot;Tras el largo verano, el invierno se acerca a los Siete Reinos. Lord Eddars Stark, señor de Invernalia, deja sus dominios para unirse a la corte del rey Robert Baratheon el Usurpador, hombre díscolo y otrora guerrero audaz cuyas mayores aficiones son comer, beber y engendrar bastardos. Eddard Stark desempeñará el cargo de M ano del Rey e intentará desentrañar una maraña de intrigas que pondrá en peligro su vida... y la de los suyos. En un mundo cuyas estaciones duran décadas y en el que retazos de una magia inmemorial y olvidada surgen en los rincones más sombrios y maravillosos, la traición y la lealtad, la compasión y la sed de venganza, el amor y el poder hacen del juego de tronos una poderosa trampa que atrapa en sus fauces a los personajes... y al lector. 'El regreso triunfal de Martin a la fantasía de más alta calidad... con personajes desarrollados con maestría, prosa hábil y pura obstinación.'&quot;&lt;br /&gt;})&lt;br /&gt;&lt;br /&gt;db.libro.save({&lt;br /&gt;  &quot;_id&quot;:&quot;9788499088075&quot;,&lt;br /&gt;  &quot;titulo&quot;:&quot;La ladrona de libros&quot;,&lt;br /&gt;  &quot;autor&quot;:&quot;Markus Zusak&quot;,&lt;br /&gt;  &quot;editorial&quot;:&quot;Debolsillo&quot;,&lt;br /&gt;  &quot;enstock&quot;:false,&lt;br /&gt;  &quot;paginas&quot;:544,&lt;br /&gt;  &quot;precio&quot;:9.45,&lt;br /&gt;  &quot;fecha&quot;:new ISODate(&quot;2009-01-09T00:00:00Z&quot;),      &lt;br /&gt;  &quot;resumen&quot;:&quot;En plena II Guerra Mundial, la pequeña Liesel hallará su salvación en la lectura. Una novela preciosa, tremendamente humana y emocionante, que describe las peripecias de una niña alemana de nueve años desde que es dada en adopción por su madre hasta el final de la guerra. Su nueva familia, gente sencilla y nada afecta al na zismo, le enseña a leer y a través de los libros Rudy logra distraerse durante los bombardeos y combatir la tristeza. Pero es el libro que ella misma está escribiendo el que finalmente le salvará la vida.&quot;,&lt;br /&gt;})&lt;br /&gt;&lt;br /&gt;db.libro.save({&lt;br /&gt;  &quot;_id&quot;:&quot;9788415140054&quot;,&lt;br /&gt;  &quot;titulo&quot;:&quot;La princesa de hielo&quot;,&lt;br /&gt;  &quot;autor&quot;:&quot;Camilla Lackberg&quot;,&lt;br /&gt;  &quot;editorial&quot;:&quot;Embolsillo&quot;,&lt;br /&gt;  &quot;enstock&quot;:true,&lt;br /&gt;  &quot;precio&quot;:11,&lt;br /&gt;  &quot;fecha&quot;:new ISODate(&quot;2012-10-30T00:00:00Z&quot;),    &lt;br /&gt;  &quot;resumen&quot;:&quot;Misterio y secretos familiares en una emocionante novela de suspense Erica vuelve a su pueblo natal tras el fallecimiento de sus padres, pero se va a encontrar con un nuevo drama. Aparentemente su amiga de la infancia, Alex, se ha suicidado. Pronto se descubre que no solamente fue asesinada sino que estaba embarazada. El primer sospechoso es Anders, un artista fracasado con quien Alex mantenía una relación especial. Pero poco después de ser liberado por falta de pruebas, Anders aparece muerto en su domicilio. Con la ayuda del comisario Patrik, Erica investigará el pasado de su amiga Alex.&quot;&lt;br /&gt;})&lt;br /&gt;&lt;br /&gt;db.libro.save({&lt;br /&gt;  &quot;_id&quot;:&quot;9788408113331&quot;,&lt;br /&gt;  &quot;titulo&quot;:&quot;Las carreras de Escorpio&quot;,&lt;br /&gt;  &quot;autor&quot;:&quot;Maggie Stiefvater&quot;,&lt;br /&gt;  &quot;editorial&quot;:&quot;Planeta&quot;,&lt;br /&gt;  &quot;enstock&quot;:false,&lt;br /&gt;  &quot;paginas&quot;:290,&lt;br /&gt;  &quot;precio&quot;:17.23,&lt;br /&gt;  &quot;fecha&quot;:new ISODate(&quot;2013-06-04T00:00:00Z&quot;),  &lt;br /&gt;  &quot;resumen&quot;:&quot;En la pequeña isla de Thisby, cada noviembre los caballos de agua de la mitología celta emergen del mar. Y cada noviembre, los hombres los capturan para participar en una emocionante carrera mortal. En las carreras de Escorpio, algunos compiten para ganar. Otros para sobrevivir. Los jinetes intentan dominar a sus caballos de agua el tiempo suficiente para acabar la carrera. Algunos lo consiguen. El resto, muere en el intento. Sean Kendrick es el favorito, y necesita ganar la carrera para ganar, también, su libertad. Pero Puck Connolly está dispuesta a ser su más dura adversaria. Ella nunca quiso participar en las carreras. Pero no tiene elección: o compite y gana o… lo pierde todo.&quot;,&lt;br /&gt;})&lt;br /&gt;&lt;br /&gt;db.libro.save({&lt;br /&gt;  &quot;_id&quot;:&quot;9788468738895&quot;,&lt;br /&gt;  &quot;titulo&quot;:&quot;Las reglas del juego&quot;,&lt;br /&gt;  &quot;autor&quot;:&quot;Anna Casanovas&quot;,&lt;br /&gt;  &quot;enstock&quot;:true,&lt;br /&gt;  &quot;paginas&quot;:null,&lt;br /&gt;  &quot;precio&quot;:15.90,&lt;br /&gt;  &quot;fecha&quot;:new ISODate(&quot;2014-02-06T00:00:00Z&quot;),&lt;br /&gt;  &quot;resumen&quot;:&quot;Susana Lobato tiene la vida perfectamente planeada y está a punto de conseguir todo lo que quiere: va a tener su propio programa de noticias económicas y en dos meses va a casarse con un hombre maravilloso. Pero una noche Tim anula la boda y la abandona para perseguir un sueño que no la incluye a ella.Kev MacMurray acaba de cumplir treinta y cinco años y siente que ha llegado el momento de dar un cambio a su vida. No sabe por qué, pero últimamente se está asfixiando y está convencido de que no puede seguir donde está. Lo único que lo retiene es la boda de Tim, su mejor amigo.Pero Tim anula la boda y una noche Kev coincide con Susana y respira por primera vez en mucho tiempo.¿Por qué no le había sucedido antes? Se suponía que él y Susana no se soportaban ¿Desde cuándo siente que si no besa a la prometida de su mejor amigo no podrá seguir respirando?Susana nunca había reaccionado así con nadie. ¿Puede correr el riesgo de averiguar qué pasará si se entrega a Kev?Y qué pasará si vuelve Tim, ¿podrán dar un paso atrás?.&quot;,&lt;br /&gt;})
&lt;/pre&gt;
&lt;p&gt;Com podeu comprovar estan els comandos d'inserció (&lt;strong&gt;save()&lt;/strong&gt; ) i també es veu prou bé els camps de cada document.&lt;/p&gt;
&lt;p&gt;Podeu comprovar que hi ha 7 documents en la nova col·lecció &lt;strong&gt;libro&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.count()&lt;br /&gt;7&lt;/p&gt;
&lt;p&gt;I també podem consultar els títols de forma còmoda:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( {} , {titulo:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;
&lt;p&gt;I un altre exemple, on consultem els llibres que estan en stock (hi ha un camp booleà que ho diu: &lt;strong&gt;enstock&lt;/strong&gt;), mostrant títol, editorial i preu&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( {enstock: true} , {titulo:1 , editorial:1 , precio:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot;, &quot;precio&quot; : 11 }&lt;/p&gt;
&lt;p&gt;I un últim exemple, on consultem els llibres que estan en stock i tenen un preu de 21.75 €, mostrant tot excepte el _id i el resum&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( {enstock: true , precio: 21.75} , {titulo:1 , editorial:1 , precio:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Anem a mirar ara operadors que ens serviran per fer millor les consultes.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="441"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="126"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="442">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="443">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="442"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operadors de comparació&lt;/p&gt;
&lt;p&gt;Fins ara en totes les condicions hem utilitzat la igualtat, si un determinat camp era igual a un determinat valor. Però hi ha infinitat de consultes en les quals voldrem altres operacions de comparació: major, major o igual, menor, ...&lt;/p&gt;
&lt;p&gt;Aquestos són els operadors de comparació:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;$lt&lt;/strong&gt; (&lt;em&gt;less than&lt;/em&gt;) &lt;strong&gt;menor&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$lte &lt;/strong&gt;(&lt;em&gt;less than or equal&lt;/em&gt;)&lt;strong&gt; menor o igual&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$gt &lt;/strong&gt;(&lt;em&gt;gretaer than&lt;/em&gt;) major&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$gte&lt;/strong&gt; (&lt;em&gt;gretaer than or equal&lt;/em&gt;) &lt;strong&gt;major o igual&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$ne&lt;/strong&gt; (&lt;em&gt;not equal&lt;/em&gt;) &lt;strong&gt;distint&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$eq&lt;/strong&gt; (&lt;em&gt;equal&lt;/em&gt;) &lt;strong&gt;igual&lt;/strong&gt; (però aquest quasi que no caldria, perquè en no posar res es refereix a la igualtat com fins ara)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La sintaxi per a la seua utilització és, com sempre, acoplar-se a la sintaxi JSON:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;clau : { $operador : valor [, ... ] }&lt;/p&gt;
&lt;p&gt;Així per exemple, per a buscar els llibres de més de 10 €:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { precio : { $gt : 10 } } , { titulo:1 , precio:1 } )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;/p&gt;
&lt;p&gt;I per a buscar els llibres entre 10 i 20 €:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { precio : { $gt : 10 , $lt:20 } } , { titulo:1 , precio:1 } )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;/p&gt;
&lt;p style=&quot;text-align: justify;&quot;&gt;És especialment útil per a les dates, ja que difícilment trobarem una data (i hora) exacta, i voldrem quasi sempre els documents anteriors a una data, o posteriors, o entre dues dates. Haurem d'anar amb compte pel tractament especial de les dates: hem de comparar coses del mateix tipus, i per tant la data amb la qual volem comparar l'haurem de tenir en forma de data:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; var d = new ISODate(&quot;2013-01-01T00:00:00Z&quot;)&lt;br /&gt; &amp;gt; db.libro.find( {fecha:{$gte:d} } , {fecha:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;fecha&quot; : ISODate(&quot;2013-08-29T00:00:00Z&quot;) }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;fecha&quot; : ISODate(&quot;2014-03-01T00:00:00Z&quot;) }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;fecha&quot; : ISODate(&quot;2013-06-04T00:00:00Z&quot;) }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;fecha&quot; : ISODate(&quot;2014-02-06T00:00:00Z&quot;) }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="443"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="127"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="444">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="445">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="444"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;$in&lt;/p&gt;
&lt;p&gt;Servirà per a comprovar si el valor d'un camp està entre els d'una llista, proporcionada com un array. La sitaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;clau : { $in : [valor1 , valor2 , ... , valorN] }&lt;/p&gt;
&lt;p&gt;I ací tenim un exemple, els llibre de les editorials Planeta i Debolsillo:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { editorial: {$in : [&quot;Planeta&quot; , &quot;Debolsillo&quot;]} } , {titulo:1 , editorial:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;$nin&lt;/p&gt;
&lt;p&gt;És el contrari, traura els que no estan en la llista.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { editorial: {$nin : [&quot;Planeta&quot; , &quot;Debolsillo&quot;]} } , {titulo:1 , editorial:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;
&lt;p&gt;Observeu com també trau els llibres que no tenen editorial, com és el cas de l'últim llibre, Las reglas del juego&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="445"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="129"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="446">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="447">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="446"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;$or&lt;/p&gt;
&lt;p&gt;L'operador anterior, &lt;strong&gt;$in&lt;/strong&gt;, ja feia una espècie de OR, però sempre sobre el mateix camp. Si l'operació OR la volem fer sobre camps distints, haurem d'utilitzar l'operador &lt;strong&gt;$or&lt;/strong&gt;. La seua sintaxi ha de jugar amb la possibilitat de posar molts elements, i per tant convé l'array:&lt;/p&gt;
&lt;p&gt;$or : [ {clau1:valor1} , {clau2:valor2} , ... , {clauN:valorN} ]&lt;/p&gt;
&lt;p&gt;Serà cert si s'acompleix alguna de les condicions. Per exemple, traure els llibres que no estan en stock o que no tenen editorial:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { $or : [ {enstock:false} , {editorial:null} ] } , {titulo:1 , enstock:1 , editorial:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot;, &quot;enstock&quot; : false }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;enstock&quot; : false }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;enstock&quot; : true }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="447"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="130"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="448">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="449">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="448"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;$not&lt;/p&gt;
&lt;p&gt;Serveix per a negar una altra condició.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;$not : { condició }&lt;/p&gt;
&lt;p&gt;Per exemple els llibres que no són de l'editorial Planeta (observeu que seria més senzill utilitzar l'operador &lt;strong&gt;$ne&lt;/strong&gt;, però és per a mostrar el seu funcionament:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { editorial: {$not : {$eq:&quot;Planeta&quot;} } } , {titulo:1 , editorial:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="449"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="131"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="450">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="451">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="450"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;$exists&lt;/p&gt;
&lt;p&gt;Servirà per a saber els documents que tenen un determinat camp&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;clau : { $exists : &lt;em&gt;boolean&lt;/em&gt; }&lt;/p&gt;
&lt;p&gt;Depenet del valor &lt;em&gt;boolean&lt;/em&gt;, el funcionament serà:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;true&lt;/strong&gt;: torna els documents en els quals existeix el camp, encara que el seu valor siga nul&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;false&lt;/strong&gt;: torna els documents que no tenen el camp.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anem a traure els llibres que tenen el camp &lt;strong&gt;paginas&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { paginas: {$exists:true} } , {titulo:1 , paginas:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;paginas&quot; : 1100 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;paginas&quot; : 480 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;paginas&quot; : 793 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;paginas&quot; : 544 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;paginas&quot; : 290 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;paginas&quot; : null }&lt;/p&gt;
&lt;p&gt;Observeu com ens apareix també l'ultim llibre, que té el camp &lt;strong&gt;paginas&lt;/strong&gt; amb el valor &lt;strong&gt;nul&lt;/strong&gt;. En canvi si haguérem fet la consulta preguntant pels que són diferents de nul, no apareixeria aquest últim llibre:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { paginas: {$ne:null} } , {titulo:1 , paginas:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;paginas&quot; : 1100 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;paginas&quot; : 480 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;paginas&quot; : 793 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;paginas&quot; : 544 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;paginas&quot; : 290 }&lt;/p&gt;
&lt;p&gt;I si posem &lt;strong&gt;false&lt;/strong&gt; al valor en el &lt;strong&gt;$exists&lt;/strong&gt;, únicament ens apareixerà el llibre que no té el camp:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { paginas: {$exists:false} } , {titulo:1 , paginas:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot; }&lt;/p&gt;
&lt;p&gt;I per la mateixa raó que abans, si traiem els que tenen &lt;strong&gt;paginas&lt;/strong&gt; a null, ens eixirà tant qui no té el camp, com qui el té però amb valor nul:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { paginas: null } , {titulo:1 , paginas:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;paginas&quot; : null }&lt;/p&gt;
&lt;p&gt;Per tant, per a segons quines coses, ens interessa l'operador &lt;strong&gt;$exists&lt;/strong&gt;, en compte de jugar amb el nul.&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="451"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="132"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="452">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="453">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="452"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Expressions regulars&lt;/p&gt;
&lt;p&gt;Mongo accepta les expressions regulars de forma nativa, cosa que dóna molta potència per a poder buscar informació diversa.&lt;/p&gt;
&lt;p&gt;Les expressions regulars en Mongo tenen la mateixa sintaxi que en Perl, i que és molt molt pareguda a la major part de llenguatges de programació.&lt;/p&gt;
&lt;p&gt;Mirem alguns exemples. Els llibres dins dels quals està la paraula &lt;strong&gt;juego&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { titulo: /juego/ } , {titulo:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;
&lt;p&gt;Ara que tenen la paraula &lt;strong&gt;juego&lt;/strong&gt; sense importar majúscules o minúscules:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { titulo: /juego/i } , {titulo:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;
&lt;p&gt;I ara que tenen la paraula &lt;strong&gt;juego &lt;/strong&gt;només al principi.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { titulo: /^juego/i } , {titulo:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot; }&lt;/p&gt;
&lt;p&gt;I ara els llibres que en el resum (&lt;strong&gt;resumen&lt;/strong&gt;) tenen la paraula &lt;strong&gt;amiga&lt;/strong&gt; o &lt;strong&gt;amigo&lt;/strong&gt;, és a dir &lt;strong&gt;amig&lt;/strong&gt; seguit d'una &lt;strong&gt;a&lt;/strong&gt; o una &lt;strong&gt;o&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find( { resumen: /amig[ao]/i } , {titulo:1} )&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="453"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="133"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="454">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="455">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="454"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Arrays&lt;/p&gt;
&lt;p&gt;Les consultes dins d'arrays de Mongo són molt senzilles.&lt;/p&gt;
&lt;p&gt;La més senzilla és quan busquem un valor d'un tipus senzill, i en aquest cas el que farà Mongo és buscar en tot l'array per si està aquest valor. És a dir, exactament igual que el que hem fet fins ara.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;db.col_leccio1.find ( { clau_array : valor } )&lt;/p&gt;
&lt;p&gt;Mirem-ho en un exemple. Anem a crear dos documents que tinguen un array cadascun, per exemple de colors. El creem en una col·lecció nova, anomenada &lt;strong&gt;colorins&lt;/strong&gt;, en dos documents amb el mateix camp de tipus array, &lt;strong&gt;color&lt;/strong&gt;, però amb dades diferents&lt;strong&gt;&lt;/strong&gt;&lt;strong&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.insert({color: [&quot;roig&quot;,&quot;blau&quot;,&quot;groc&quot;]})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.insert({color: [&quot;negre&quot;,&quot;blanc&quot;,&quot;roig&quot;]})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find();&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;Com es veu en la sintaxi, triar els documents que tenen un camp (en aquest cas d'array) que continga un valor, és igual de senzill que quan es tracta d'un camp de tipus string, per exemple:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({color:&quot;roig&quot;})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;/p&gt;
&lt;p&gt;També podem utilitzar qualsevol dels operadors vistos fins el moment, com per exemple l'operador &lt;strong&gt;$in&lt;/strong&gt;, que mirarà els documents que tenen algun dels colors que s'especifica a continuació:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({color: {$in : [&quot;groc&quot;,&quot;lila&quot;]} })&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;/p&gt;
&lt;p&gt;O per exemple també utilitzar &lt;strong&gt;expressions regulars&lt;/strong&gt;:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({color: /bl/ })&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;font-size: large;&quot;&gt;&lt;strong&gt;$&lt;span style=&quot;text-decoration: underline;&quot;&gt;all&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;L'operador &lt;strong&gt;$all&lt;/strong&gt; el podem utilitzar quan vulguem seleccionar els documents que en l'array tiguen &lt;strong&gt;tots&lt;/strong&gt; els elements especificats.&lt;/p&gt;
&lt;p&gt;Per exemple, anem a buscar els document que tenen el color roig i blau.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({color : { $all : [&quot;roig&quot;,&quot;blau&quot;]} })&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;Subíndex&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Si volem mirar exactament una determinada posició de l'array, podem especificar la posició immediatament després de la clau, &lt;strong&gt;separada per un punt&lt;/strong&gt;. Recordeu que la primera posició és la &lt;strong&gt;0&lt;/strong&gt;. Hem de posar entre cometes la clau i la posició, sinó no sabrà trobar-la.&lt;/p&gt;
&lt;p&gt;Per exemple, busquem els documents que tenen el roig en la primera posició.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({&quot;color.0&quot; : &quot;roig&quot;} )&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Accedir a una determinada posició és fàcil, però no és tan fàcil accedir a una posició calculada, per exemple a l'última posició. Ja fa falta coneixements un poc més avançats de JavaScript, per a posar dins del &lt;strong&gt;find()&lt;/strong&gt; una funció en JavaScript, i actuar dins d'aquesta.&lt;/p&gt;
&lt;p&gt;Únicament de manera il·lustrativa, posem ací la manera de traure els documents, l'últim color dels quals és el roig. En ella ens creem una variable amb l'últim element de l'array (amb &lt;strong&gt;pop()&lt;/strong&gt;), i el comparem amb el color roig, tornant true en cas de que sí que siguen iguals:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find(function() { var a =this.color.pop(); return (a ==&quot;roig&quot;)}  )&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;/p&gt;
&lt;p&gt;També hi ha una forma alternativa de fer-ho, que és utilitzant l'operador $where, que ens permet crear condicions amb sintaxi JavaScript:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({$where:&quot;this.color[this.color.length - 1]=='roig'&quot;})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;$size&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;L'operador &lt;strong&gt;$size&lt;/strong&gt; ens servirà per a fer condicions sobre el número d'elements d'un array.&lt;/p&gt;
&lt;p&gt;Incorporem 2 documents nous, amb 2 i 4 elements respectivament, per a poder comprovar-lo:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.insert({color: [&quot;negre&quot;,&quot;blanc&quot;]})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.insert({color: [&quot;taronja&quot;,&quot;gris&quot;,&quot;lila&quot;,&quot;verd&quot;]})&lt;br /&gt;WriteResult({ &quot;nInserted&quot; : 1 })&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find()&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16972aa3c92aaed389da6&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16990aa3c92aaed389da7&quot;), &quot;color&quot; : [ &quot;taronja&quot;, &quot;gris&quot;, &quot;lila&quot;, &quot;verd&quot; ] }&lt;/p&gt;
&lt;p&gt;Ara anem a seleccionar els documents que tenen 4 colors&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({color:{$size:4}})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16990aa3c92aaed389da7&quot;), &quot;color&quot; : [ &quot;taronja&quot;, &quot;gris&quot;, &quot;lila&quot;, &quot;verd&quot; ] }&lt;/p&gt;
&lt;div class=&quot;nota_blau&quot;&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline;&quot;&gt;&lt;strong&gt;Nota&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;L'operador &lt;strong&gt;$size&lt;/strong&gt; només admet un valor numèric, i no es poden concatenar expressions amb altres operadors, com per exemple intentar la condició que la grandària de l'array siga menor o igual a un determinat valor. Es pot tornar a esquivar la qüestió amb l'operador &lt;strong&gt;$where&lt;/strong&gt;, i posar la condició en JavaScript. Així la consulta dels documents que tenen 3 o menys colors la podríem traure d'aquesta manera:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({$where:&quot;this.color.length&amp;lt;=3&quot;})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot;, &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot;, &quot;roig&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16972aa3c92aaed389da6&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot; ] }&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;$slice&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;L'operador &lt;strong&gt;$slice&lt;/strong&gt; no és un operador que es puga posar en les condicions (criteris), sinó que servirà per a extraure determinats elements de l'array, pel número d'ordre d'aquestos elements en l'array. Només el podrem posar, per tant, en el segon paràmetre del &lt;strong&gt;find()&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;La sintaxi és:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;clau : {$slice : x }&lt;/p&gt;
&lt;p&gt;Els valors que pot agafar &lt;strong&gt;x&lt;/strong&gt; són:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Números positius: serà el número d'elements del principi (per l'esquerra)&lt;/li&gt;
&lt;li&gt;Números negatius: serà el número d'elements del final (per la dreta)&lt;/li&gt;
&lt;li&gt;Un array de 2 elements (&lt;strong&gt;[x,y]&lt;/strong&gt;): traurà a partir de la posició &lt;strong&gt;x&lt;/strong&gt; (0 és el primer), tants elements com indique &lt;strong&gt;y&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per exemple, anem a traure els dos primers colors de cada document:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({} , {color:{$slice:2} })&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;roig&quot;, &quot;blau&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16972aa3c92aaed389da6&quot;), &quot;color&quot; : [ &quot;negre&quot;, &quot;blanc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16990aa3c92aaed389da7&quot;), &quot;color&quot; : [ &quot;taronja&quot;, &quot;gris&quot; ] }&lt;/p&gt;
&lt;p&gt;O traure l'últim color:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({} , {color:{$slice:-1 }})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;roig&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16972aa3c92aaed389da6&quot;), &quot;color&quot; : [ &quot;blanc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16990aa3c92aaed389da7&quot;), &quot;color&quot; : [ &quot;verd&quot; ] }&lt;/p&gt;
&lt;p&gt;O traure el tercer element, tinguen els que tinguen. Recordeu que el segon element, és el de la posició 2, i en volem traure 1.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.colorins.find({} , {color:{$slice:[2,1] }})&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e1438ff6663c8169030e09&quot;), &quot;color&quot; : [ &quot;groc&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e14398f6663c8169030e0a&quot;), &quot;color&quot; : [ &quot;roig&quot; ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16972aa3c92aaed389da6&quot;), &quot;color&quot; : [ ] }&lt;br /&gt;{ &quot;_id&quot; : ObjectId(&quot;56e16990aa3c92aaed389da7&quot;), &quot;color&quot; : [ &quot;lila&quot; ] }&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="455"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="134"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="456">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="457">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="456"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Recerques en objectes&lt;/p&gt;
&lt;p&gt;Per a fer recerques en camps que a la seua vegada són objectes (o documents dins de documents, en la terminologia de Mongo), només hem de posar la ruta de les claus separant per mig de punts, i cuider de posar-les entre cometes.&lt;/p&gt;
&lt;p&gt;Així, per exemple, anem a fer una consulta sobre la col·lecció d'alumnes, que eren uns documents en els quals hi havia algun camp de tipus objecte.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find().pretty()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56dfdbd136d8b095cb6bd57a&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Berta&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantero&quot;&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Es podrien traure els documents (els alumnes) que viuen en el codi postal 12502. Ens ha d'eixir l'únic alumne del qual tenim l'adreça, que justament té aquest codi postal. Recordeu que en la clau (realment clau.subclau), ha d'anar entre cometes. Hem posat al final &lt;strong&gt;pretty()&lt;/strong&gt; per a una millor lectura, però evidentment no és necessari.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find({&quot;adreça.cp&quot;: &quot;12502&quot;}).pretty()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I funcionaria igual amb qualsevol número de subnivells, és a dir, documents que tenen objectes, els quals tenen objectes, ... I també amb altres tipus d'operadors, o expressions regulars, ...&lt;/p&gt;
&lt;p&gt;Per exemple, tots els alumnes de Castelló (el codi postal ha de començar per 12 i contenir 3 xifres més, és a dir, caràcter del 0 al 9, i 3 vegades.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.alumnes.find({&quot;adreça.cp&quot;: /^12[0-9]{3}/}).pretty()&lt;br /&gt;{&lt;br /&gt;    &quot;_id&quot; : ObjectId(&quot;56debe3017bf4ed437dc77c8&quot;),&lt;br /&gt;    &quot;nom&quot; : &quot;Abel&quot;,&lt;br /&gt;    &quot;cognoms&quot; : &quot;Bernat Cantera&quot;,&lt;br /&gt;    &quot;edat&quot; : 22,&lt;br /&gt;    &quot;adreça&quot; : {&lt;br /&gt;        &quot;carrer&quot; : &quot;Major&quot;,&lt;br /&gt;        &quot;numero&quot; : 7,&lt;br /&gt;        &quot;cp&quot; : &quot;12502&quot;&lt;br /&gt;    },&lt;br /&gt;    &quot;nota&quot; : [&lt;br /&gt;        9.5,&lt;br /&gt;        9&lt;br /&gt;    ]&lt;br /&gt;}&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="457"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="135"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="458">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="459">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="458"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Limit, Skip i Sort&lt;/p&gt;
&lt;p&gt;Una vegada tenim feta una consulta, podem limitar el nombre de documents que ens ha de tornar, o ordenar-los.&lt;/p&gt;
&lt;p&gt;Per a això hi ha uns mètodes que apliqiuem al final del &lt;strong&gt;find()&lt;/strong&gt;, és a dir, a continuació del &lt;strong&gt;find()&lt;/strong&gt;, separats per un punt.&lt;/p&gt;
&lt;p&gt;Ho aplicarem als llibres, que és on tenim més documents. I no mostrem tots els camps, per a una millor lectura:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot;, &quot;precio&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;limit(&lt;em&gt;n&lt;/em&gt;)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Limita el número de documents tornats a &lt;em&gt;&lt;strong&gt;n &lt;/strong&gt;&lt;/em&gt;documents.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1}).limit(3)&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;/p&gt;
&lt;p&gt;Si el número de documents que fa la consulta és menor que &lt;em&gt;&lt;strong&gt;n&lt;/strong&gt;&lt;/em&gt;, doncs se'n tornaran menys. Així per exemple, de l'editorial Planeta només hi ha dos llibres. Encara que posem limit(3), se'n tornaran 2.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({editorial:&quot;Planeta&quot;} , {titulo:1 , precio:1 , editorial:1}).limit(3)&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;skip(&lt;em&gt;n&lt;/em&gt;)&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Se saltaran els primers&lt;em&gt;&lt;strong&gt; n&lt;/strong&gt;&lt;/em&gt; documents. Si hi haguera menys documents dels que se salten, doncs no se'n mostraria cap.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1}).skip(2)&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot;, &quot;precio&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;sort()&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Serveix per a ordenar. Com a paràmetre se li passarà un objecte JSON amb les claus per a ordenar, i els valors seran:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1: ordre ascendent&lt;/li&gt;
&lt;li&gt;-1: ordre descendent&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si posem més d'una clau, s'ordenarà pel primer, en cas d'empat pel segon, ...&lt;/p&gt;
&lt;p&gt;En aquest exemple ordenem pel preu&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1}).sort({precio:1})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot;, &quot;precio&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;/p&gt;
&lt;p&gt;I com déiem, es pot posar més d'un camp d'ordenació. Per exemple, per editorial en ordre ascendent, i per preu en ordre descendent&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1}).sort({editorial:1 , precio:-1})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot;, &quot;precio&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot;, &quot;precio&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot;, &quot;precio&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;/p&gt;
&lt;p&gt;Observeu com el primer és el que no té editorial (equivalent a null). I com que hi ha dos de l'editorial Planeta, apareix primer el més car, i després el més barat.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;I evidentment, es poden combinar els mètodes limit, skip i sort.&lt;/p&gt;
&lt;p&gt;En aquest exemple traurem el segon i tercer llibre més car. Per a això ordenem per preu de forma descendent, saltem un i limitem a 2. No importa l'ordre com col·locar skip, limit i sort.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.find({} , {titulo:1 , precio:1 , editorial:1}).sort({precio:-1}).skip(1).limit(2)&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;precio&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot;, &quot;precio&quot; : 17.23 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="459"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="439"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="136"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="439"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="31"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.3%20-%20Consulta%20de%20documents:4.3.2%20-%20Operadors%20de%20les%20condicions"></string>
              <string role="key" value="parent"></string>
              <reference key="431"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
            <instance class="exe.engine.node.Node" reference="462">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="4.3.3 - Agregació"></unicode>
              <string role="key" value="idevices"></string>
              <list>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="460">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="461">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="460"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p&gt;L'agregació ens permetrà fer consultes molt avançades. És un procés un poc complicat però molt potent. Ens donarà una potència quasi com la del SQL quan comencem a utilitzar el GROUP BY i HAVING.&lt;/p&gt;
&lt;p&gt;La tècnica que s'utilitza és la del &lt;em&gt;&lt;strong&gt;pipeline&lt;/strong&gt;&lt;/em&gt;, és a dir fer una sèrie de comandos, cadascun agafa les dades que proporciona l'anterior i a la seua vegada proporciona les dades al següent comando. D'aquesta manera es tractarà un conjunt de documents i es faran &quot;operacions&quot; sobre ells seqüencialment en blocs: filtrat, projecció, agrupacions, ordenació, limitació i &lt;em&gt;skipping&lt;/em&gt; (saltar alguns).&lt;/p&gt;
&lt;p&gt;La sintaxi serà:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;db.col_leccio1.aggregate ( &lt;em&gt;operador $matc&lt;/em&gt;h , &lt;em&gt;operador $projec&lt;/em&gt;t , &lt;em&gt;operador $group&lt;/em&gt; , &lt;em&gt;operador $sort&lt;/em&gt; , &lt;em&gt;operador $limit&lt;/em&gt; , &lt;em&gt;operador $skip&lt;/em&gt; )&lt;/p&gt;
&lt;p&gt;L'ordre dels operadors pot canviar, però hem de tenir en compte que els comandos s'executen en el ordre en què els posem (d'esquerra a dreta). Així, per exemple, pot ser molt convenient posar el primer operador el $match, que és el de seleccionar documents, així les altres operacions es faran sobre menys documents i aniran més ràpides.&lt;/p&gt;
&lt;p&gt;Cada paràmetre del aggregate, és a dir, cada operador tindrà format JSON, i per tant sempre serà de l'estil:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $operador : { clau:valor , ... } }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="461"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="137"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="463">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="464">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="463"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $match&lt;/p&gt;
&lt;p&gt;Servirà per a filtrar els documents. Aleshores, l'agregació només afectarà als documents seleccionats. Es poden utilitzar tots els operadors que hem anat estudiant.&lt;/p&gt;
&lt;p&gt;El següent exemple selecciona els documents de l'editorial Planeta. Ho fa per mig de &lt;strong&gt;aggregate&lt;/strong&gt;, però com no fem res més, senzillament selecciona els documents. &lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$match:{editorial:&quot;Planeta&quot;}})&lt;/p&gt;
&lt;p&gt;En el següent exemple, a més de seleccionar els de l'editorial Planeta després apliquem una projecció sobre els camps títol i editorial, per a poder visualitzar millor el resultat.&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$match:{editorial:&quot;Planeta&quot;}},{$project:{titulo:1,editorial:1}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="464"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="138"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="465">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="466">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="465"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $project&lt;/p&gt;
&lt;p&gt;Ens permet projectar sobre determinats camps del document, però és molt més complet que en la projecció &quot;normal&quot; que havíem fet fins ara, ja que permet també renomenar camps, fer càlculs, etc.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;Projecció&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La manera més senzilla, evidentment és projectar sobre alguns camps dels existents, i el funcionament és idèntic al de l'altra vegada (valors 1 per a que apareguen, 0 per a que no apareguen; per defecte&lt;strong&gt; _id&lt;/strong&gt; sempre apareix):&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project:{titulo:1,editorial:1}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;editorial&quot; : &quot;Plaza &amp;amp; Janes&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;editorial&quot; : &quot;Gigamesh&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;editorial&quot; : &quot;Debolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;editorial&quot; : &quot;Embolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;editorial&quot; : &quot;Planeta&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot; }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;Renomenar&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$project també ens permet renomenar camps existents (després veurem que també càlculs). La manera serà posar d'aquest manera:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;{ $project : { &quot;nom_nou&quot; : &quot;$camp_vell&quot; } }&lt;/p&gt;
&lt;p&gt;El secret està en el dòlar que va davant del camp vell, ja que d'aquesta manera ens referim al valor d'aquest camp. Així per exemple renomenem el camp &lt;strong&gt;enstock&lt;/strong&gt; a &lt;strong&gt;disponible&lt;/strong&gt;, a banda de traure el títol:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project:{titulo:1 , disponible:&quot;$enstock&quot;}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;disponible&quot; : true }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;disponible&quot; : true }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;disponible&quot; : true }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;disponible&quot; : false }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;disponible&quot; : true }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;disponible&quot; : false }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;disponible&quot; : true }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;Camps calculats&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Amb aquest nom genèric ens referirem a tots els càlculs, expressions i més coses que podrem posar per a trasnsformar el que ja tenim. Com veiem, açò és molt més potent que la projecció normal.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;div&gt;
&lt;p&gt;&lt;strong&gt;Expressions matemàtiques&lt;/strong&gt;: Podrem aplicar fórmules per a sumar (&lt;strong&gt;$add&lt;/strong&gt;), restar (&lt;strong&gt;$subtract&lt;/strong&gt;), multiplicar (&lt;strong&gt;$multiply&lt;/strong&gt;), dividir (&lt;strong&gt;$divide&lt;/strong&gt;) i més coses (potència, arrel quadrada, valor absolut, mòdul, ...). Cada operació té el seu operador que serà una paraula precedida pel dòlar, i amb la sintaxi de JSON, on posarem els operands en un array. &lt;/p&gt;
&lt;p&gt;Per exemple, traurem títol del llibre, preu i preu en pessetes (multiplicant per 166.386)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project:{titulo:1 , precio:1 , preu_pessetes:{$multiply:[&quot;$precio&quot; , 166.386]}}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;titulo&quot; : &quot;Circo Máximo&quot;, &quot;precio&quot; : 21.75, &quot;preu_pessetes&quot; : 3618.8955 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;titulo&quot; : &quot;El juego de Ripper&quot;, &quot;precio&quot; : 21.75, &quot;preu_pessetes&quot; : 3618.8955 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;titulo&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1&quot;, &quot;precio&quot; : 9.5, &quot;preu_pessetes&quot; : 1580.667 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;titulo&quot; : &quot;La ladrona de libros&quot;, &quot;precio&quot; : 9.45, &quot;preu_pessetes&quot; : 1572.3476999999998 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;titulo&quot; : &quot;La princesa de hielo&quot;, &quot;precio&quot; : 11, &quot;preu_pessetes&quot; : 1830.2459999999999 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;titulo&quot; : &quot;Las carreras de Escorpio&quot;, &quot;precio&quot; : 17.23, &quot;preu_pessetes&quot; : 2866.83078 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;titulo&quot; : &quot;Las reglas del juego&quot;, &quot;precio&quot; : 15.9, &quot;preu_pessetes&quot; : 2645.5374 }&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div&gt;
&lt;p&gt;&lt;strong&gt;Expressions de dates&lt;/strong&gt;: Ja veurem i ja podem anar intuint que moltes agregacions estaran basades en el temps, per a poder fer consultes de documents de la setmana passada, o el mes passat, ... Per a poder fer aquestes agregacions, hi ha un conjunt d'expressions que permeten extraure fàcilment d'una data el seu dia, mes, any, ... en forma de número&lt;/p&gt;
&lt;p&gt;Són les expressions: &lt;strong&gt;$year, $month, $week, $dayOfMonth, $DayOfWeek, $dayOfYear, $hour, $minute &lt;/strong&gt;i &lt;strong&gt;$second&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;En el següent exemple traurem tots els documents, projectant per la data, any i mes:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project : {fecha:1 , año:{$year:&quot;$fecha&quot;} , mes:{$month:&quot;$fecha&quot;}}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;fecha&quot; : ISODate(&quot;2013-08-29T00:00:00Z&quot;), &quot;año&quot; : 2013, &quot;mes&quot; : 8 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;fecha&quot; : ISODate(&quot;2014-03-01T00:00:00Z&quot;), &quot;año&quot; : 2014, &quot;mes&quot; : 3 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;fecha&quot; : ISODate(&quot;2011-11-24T00:00:00Z&quot;), &quot;año&quot; : 2011, &quot;mes&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;fecha&quot; : ISODate(&quot;2009-01-09T00:00:00Z&quot;), &quot;año&quot; : 2009, &quot;mes&quot; : 1 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;fecha&quot; : ISODate(&quot;2012-10-30T00:00:00Z&quot;), &quot;año&quot; : 2012, &quot;mes&quot; : 10 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;fecha&quot; : ISODate(&quot;2013-06-04T00:00:00Z&quot;), &quot;año&quot; : 2013, &quot;mes&quot; : 6 }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;fecha&quot; : ISODate(&quot;2014-02-06T00:00:00Z&quot;), &quot;año&quot; : 2014, &quot;mes&quot; : 2 }&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div&gt;
&lt;p&gt;&lt;strong&gt;Expressions de strings&lt;/strong&gt;: Ens permeten manipular els strings per a extraure subcadenes, concatenar, passar a majúscules o minúscules. Aquestes són algunes de les funcions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;$substr : [exp , inici , llargària] &lt;/strong&gt;: extrau una subcadena del string del primer paràmetre, des de la posició que indica el segon paràmetre (o primer caràcter) i tants caràcters com el tercer paràmetre&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$concat : [ exp1 , exp2 , ...]&lt;/strong&gt; : concatena les expressions que hi ha en l'array&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$toLower : exp&lt;/strong&gt; i &lt;strong&gt;$toUpper : exp&lt;/strong&gt; : converteixen l'expressió a majúscules i minúscules respectivament&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per exemple, anem a traure el títol dels llibres amb l'autor entre parèntesis:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project: { &quot;Llibre:&quot; : {$concat : [&quot;$titulo&quot; , &quot; (&quot; , &quot;$autor&quot; , &quot;)&quot;]}}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;Llibre:&quot; : &quot;Circo Máximo (Santiago Posteguillo)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;Llibre:&quot; : &quot;El juego de Ripper (Isabel Allende)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;Llibre:&quot; : &quot;Juego de tronos: Canción de hielo y fuego 1 (George R.R. Martin)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;Llibre:&quot; : &quot;La ladrona de libros (Markus Zusak)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;Llibre:&quot; : &quot;La princesa de hielo (Camilla Lackberg)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;Llibre:&quot; : &quot;Las carreras de Escorpio (Maggie Stiefvater)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;Llibre:&quot; : &quot;Las reglas del juego (Anna Casanovas)&quot; }&lt;/p&gt;
&lt;p&gt;I ara el mateix, però amb el títol en majúscules:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$project: { &quot;Llibre:&quot; : {$concat : [{$toUpper:&quot;$titulo&quot;}, &quot; (&quot; , &quot;$autor&quot; , &quot;)&quot;]}}})&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408117117&quot;, &quot;Llibre:&quot; : &quot;CIRCO MáXIMO (Santiago Posteguillo)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788401342158&quot;, &quot;Llibre:&quot; : &quot;EL JUEGO DE RIPPER (Isabel Allende)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788496208919&quot;, &quot;Llibre:&quot; : &quot;JUEGO DE TRONOS: CANCIóN DE HIELO Y FUEGO 1 (George R.R. Martin)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788499088075&quot;, &quot;Llibre:&quot; : &quot;LA LADRONA DE LIBROS (Markus Zusak)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788415140054&quot;, &quot;Llibre:&quot; : &quot;LA PRINCESA DE HIELO (Camilla Lackberg)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788408113331&quot;, &quot;Llibre:&quot; : &quot;LAS CARRERAS DE ESCORPIO (Maggie Stiefvater)&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;9788468738895&quot;, &quot;Llibre:&quot; : &quot;LAS REGLAS DEL JUEGO (Anna Casanovas)&quot; }&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="466"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="139"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="467">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="468">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="467"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $group&lt;/p&gt;
&lt;p&gt;Realitza grups sobre els documents seleccionats prèviament, per a valors iguals del camp o expressions que determinem. Posteriorment, amb els grups, podrem realitzar operacions, com sumar o traure la mitjana d'alguna quantitat dels documents del grup, o el màxim o mínim, ...&lt;/p&gt;
&lt;p&gt;Per a poder agrupar, haurem de definir com a &lt;strong&gt;_id&lt;/strong&gt; del grup el camp o camps pels valors dels quals volem agrupar. Per exemple, si volem agrupar els llibres per l'editorial, haurem de definir el &lt;strong&gt;_id&lt;/strong&gt; del grup el camp editorial&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;$group : { &quot;_id&quot; : &lt;em&gt;camp o camps&lt;/em&gt; }&lt;/p&gt;
&lt;p&gt;Si agrupem per un únic camp, senzillament el posem amb un dòlar davant i entre cometes. Si és més d'un camp, els posem com un objecte. Per exemple, agrupem per editorial:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : &quot;$editorial&quot; } } )&lt;br /&gt;{ &quot;_id&quot; : &quot;Debolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : null }&lt;br /&gt;{ &quot;_id&quot; : &quot;Gigamesh&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;Embolsillo&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;Plaza &amp;amp; Janes&quot; }&lt;br /&gt;{ &quot;_id&quot; : &quot;Planeta&quot; }&lt;/p&gt;
&lt;p&gt;Podem observar com hi ha algun llibre que no té editorial.&lt;/p&gt;
&lt;p&gt;Ara agrupem per any de publicació (l'extraurem del camp &lt;strong&gt;fecha&lt;/strong&gt;):&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : { &quot;any&quot; : { $year : &quot;$fecha&quot; } } } } )&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2012 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2009 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2011 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2014 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2013 } }&lt;/p&gt;
&lt;p&gt;I ara agrupem per editorial i any de publicació (els dos llibres de Planeta són del 2013)&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : { &quot;Editorial&quot; : &quot;$editorial&quot; , &quot;any&quot; : { $year : &quot;$fecha&quot; } } } } )&lt;br /&gt;{ &quot;_id&quot; : { &quot;Editorial&quot; : &quot;Embolsillo&quot;, &quot;any&quot; : 2012 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2014 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;Editorial&quot; : &quot;Debolsillo&quot;, &quot;any&quot; : 2009 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;Editorial&quot; : &quot;Gigamesh&quot;, &quot;any&quot; : 2011 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;Editorial&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;any&quot; : 2014 } }&lt;br /&gt;{ &quot;_id&quot; : { &quot;Editorial&quot; : &quot;Planeta&quot;, &quot;any&quot; : 2013 } }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-decoration: underline; font-size: large;&quot;&gt;&lt;strong&gt;Operadors d'agrupació&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ens permetran fer alguna operació sobre els documents del grup. Es posen com a segon paràmetre del grup (després de la definició del &lt;strong&gt;_id&lt;/strong&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;$sum : valor&lt;/strong&gt; : sumarà el valor de tots els documents del grup. El valor pot ser un camp numèric, o alguna altra cosa més complicada.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$avg : valor&lt;/strong&gt; : calcularà la mitjana dels valors per als documents del grup&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$max : valor&lt;/strong&gt; : màxim&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$min : valor&lt;/strong&gt; : mínim&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$first : exp&lt;/strong&gt; : agafarà el primer valor de l'expressió del grup, ignorant les altres del grup&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;$last : exp&lt;/strong&gt; : agafarà l'últim&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Per exemple, la suma dels preus dels llibres de cada editorial:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : &quot;$editorial&quot; , &quot;suma_preus&quot; : { $sum : &quot;$precio&quot;} } } )&lt;br /&gt;{ &quot;_id&quot; : &quot;Debolsillo&quot;, &quot;suma_preus&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : null, &quot;suma_preus&quot; : 15.9 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Gigamesh&quot;, &quot;suma_preus&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Embolsillo&quot;, &quot;suma_preus&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;suma_preus&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Planeta&quot;, &quot;suma_preus&quot; : 38.980000000000004 }&lt;/p&gt;
&lt;p&gt;O la mitjana dels preus de cada any:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : { &quot;any&quot; : { $year : &quot;$fecha&quot; } } , &quot;mitjana preus&quot; : { $avg : &quot;$precio&quot; } } } )&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2012 }, &quot;mitjana preus&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2009 }, &quot;mitjana preus&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2011 }, &quot;mitjana preus&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2014 }, &quot;mitjana preus&quot; : 18.825 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2013 }, &quot;mitjana preus&quot; : 19.490000000000002 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="468"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="140"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="469">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="470">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="469"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $sort&lt;/p&gt;
&lt;p&gt;Serveix per a ordenar i segueix la mateixa sintàxi que en les consultes normal (1: ordre ascendent; -1: ordre descendent). Podrem ordenar pels camps normals o per camps clalculats.&lt;/p&gt;
&lt;p&gt;Per exemple ordenem per la suma de preus de cada editorial:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : &quot;$editorial&quot; , &quot;suma_preus&quot; : { $sum : &quot;$precio&quot;} } } , { $sort : { suma_preus : 1 } })&lt;br /&gt;{ &quot;_id&quot; : &quot;Debolsillo&quot;, &quot;suma_preus&quot; : 9.45 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Gigamesh&quot;, &quot;suma_preus&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Embolsillo&quot;, &quot;suma_preus&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : null, &quot;suma_preus&quot; : 15.9 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Plaza &amp;amp; Janes&quot;, &quot;suma_preus&quot; : 21.75 }&lt;br /&gt;{ &quot;_id&quot; : &quot;Planeta&quot;, &quot;suma_preus&quot; : 38.980000000000004 }&lt;/p&gt;
&lt;p&gt;I ara ordenem de forma descendent per la mitjana de preus de cada any:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate( { $group : { &quot;_id&quot; : {&quot;any&quot;:{$year:&quot;$fecha&quot;}} , &quot;mitjana preus&quot;:{$avg:&quot;$precio&quot;} } } , {$sort:{&quot;mitjana preus&quot;:-1}})&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2013 }, &quot;mitjana preus&quot; : 19.490000000000002 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2014 }, &quot;mitjana preus&quot; : 18.825 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2012 }, &quot;mitjana preus&quot; : 11 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2011 }, &quot;mitjana preus&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2009 }, &quot;mitjana preus&quot; : 9.45 }&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="470"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="142"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="471">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="472">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="471"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $limit&lt;/p&gt;
&lt;p&gt;Limita el resultat del aggregate al número indicat.&lt;/p&gt;
&lt;p&gt;Per exemple, els tres anys de mitjana de preus més cara. És com l'últim exemple, afegint el límit:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$group:{&quot;_id&quot;:{&quot;any&quot;:{$year:&quot;$fecha&quot;}},&quot;mitjana preus&quot;:{$avg:&quot;$precio&quot;}}} , {$sort:{&quot;mitjana preus&quot;:-1}} , {$limit:3})&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2013 }, &quot;mitjana preus&quot; : 19.490000000000002 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2014 }, &quot;mitjana preus&quot; : 18.825 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2012 }, &quot;mitjana preus&quot; : 11 }&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="472"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="143"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
               <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="473">
                <dictionary>
                 <string role="key" value="_title"></string>
                 <unicode value="Free Text"></unicode>
                 <string role="key" value="_author"></string>
                 <unicode value="University of Auckland"></unicode>
                 <string role="key" value="_purpose"></string>
                 <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
                 <string role="key" value="_tip"></string>
                 <string value=""></string>
                 <string role="key" value="childs"></string>
                 <list></list>
                 <string role="key" value="content"></string>
                 <instance class="exe.engine.field.TextAreaField" reference="474">
                  <dictionary>
                   <string role="key" value="_id"></string>
                   <int value="85"></int>
                   <string role="key" value="_idevice"></string>
                   <reference key="473"></reference>
                   <string role="key" value="_instruc"></string>
                   <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                   <string role="key" value="_name"></string>
                   <unicode value="Free Text"></unicode>
                   <string role="key" value="anchor_names"></string>
                   <list></list>
                   <string role="key" value="anchors_linked_from_fields"></string>
                   <dictionary></dictionary>
                   <string role="key" value="buttonCaption"></string>
                   <string value=""></string>
                   <string role="key" value="content_w_resourcePaths"></string>
                   <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Operador $skip&lt;/p&gt;
&lt;p&gt;Salta el número indicat&lt;/p&gt;
&lt;p&gt;En l'exemple anterior, ara saltem els 3 primers:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&amp;gt; db.libro.aggregate({$group:{&quot;_id&quot;:{&quot;any&quot;:{$year:&quot;$fecha&quot;}},&quot;mitjana preus&quot;:{$avg:&quot;$precio&quot;}}} , {$sort:{&quot;mitjana preus&quot;:-1}} , {$skip:3})&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2011 }, &quot;mitjana preus&quot; : 9.5 }&lt;br /&gt;{ &quot;_id&quot; : { &quot;any&quot; : 2009 }, &quot;mitjana preus&quot; : 9.45 }&lt;/p&gt;"></unicode>
                   <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                   <int value="4"></int>
                   <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                   <int value="2"></int>
                   <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="htmlTag"></string>
                   <string value="div"></string>
                   <string role="key" value="images"></string>
                   <instance class="exe.engine.galleryidevice.GalleryImages">
                    <dictionary>
                     <string role="key" value=".listitems"></string>
                     <list></list>
                     <string role="key" value="idevice"></string>
                     <reference key="474"></reference>
                    </dictionary>
                   </instance>
                   <string role="key" value="intlinks_to_anchors"></string>
                   <dictionary></dictionary>
                   <string role="key" value="nextImageId"></string>
                   <int value="0"></int>
                   <string role="key" value="parentNode"></string>
                   <reference key="462"></reference>
                  </dictionary>
                 </instance>
                 <string role="key" value="edit"></string>
                 <bool value="0"></bool>
                 <string role="key" value="emphasis"></string>
                 <int value="0"></int>
                 <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
                 <int value="7"></int>
                 <string role="key" value="icon"></string>
                 <string value=""></string>
                 <string role="key" value="id"></string>
                 <unicode value="144"></unicode>
                 <string role="key" value="lastIdevice"></string>
                 <bool value="0"></bool>
                 <string role="key" value="originalicon"></string>
                 <string value=""></string>
                 <string role="key" value="parent"></string>
                 <none></none>
                 <string role="key" value="parentNode"></string>
                 <reference key="462"></reference>
                 <string role="key" value="systemResources"></string>
                 <list></list>
                 <string role="key" value="type"></string>
                 <none></none>
                 <string role="key" value="undo"></string>
                 <bool value="1"></bool>
                 <string role="key" value="userResources"></string>
                 <list></list>
                 <string role="key" value="version"></string>
                 <int value="0"></int>
                </dictionary>
               </instance>
              </list>
              <string role="key" value="_id"></string>
              <unicode value="34"></unicode>
              <string role="key" value="_package"></string>
              <reference key="2"></reference>
              <string role="key" value="anchor_fields"></string>
              <list></list>
              <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exportType"></string>
              <string value="website"></string>
              <string role="key" value="last_full_node_path"></string>
              <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.3%20-%20Consulta%20de%20documents:4.3.3%20-%20Agregaci%C3%B3"></string>
              <string role="key" value="parent"></string>
              <reference key="431"></reference>
              <string role="key" value="top_anchors_linked_from_fields"></string>
              <list></list>
              <string role="key" value="children"></string>
              <list></list>
             </dictionary>
            </instance>
           </list>
          </dictionary>
         </instance>
         <instance class="exe.engine.node.Node" reference="477">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="4.4 - Connexió des de Java"></unicode>
           <string role="key" value="idevices"></string>
           <list>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="475">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="476">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="475"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value=""></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="476"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="477"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="145"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="477"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="478">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="479">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="478"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p&gt;Per a poder connectar des de Java ens sera suficient amb un driver, que haurem d'incorporar al projecte. En la següent pàgina podem trobar-lo, en diferents versions:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://oss.sonatype.org/content/repositories/releases/org/mongodb/mongo-java-driver&quot;&gt;https://oss.sonatype.org/content/repositories/releases/org/mongodb/mongo-java-driver&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;En el moment de fer aquestos apunts, l'últim driver disponible és el següent:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://oss.sonatype.org/content/repositories/releases/org/mongodb/mongo-java-driver/3.6.1/mongo-java-driver-3.6.1.jar&quot;&gt;https://oss.sonatype.org/content/repositories/releases/org/mongodb/mongo-java-driver/3.6.1/mongo-java-driver-3.6.1.jar&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Per a separar les proves i exercicis de la part de &lt;strong&gt;Redis&lt;/strong&gt;, creem un nou projecte anomenat &lt;strong&gt;Tema7_2&lt;/strong&gt; , en un paquet anomenat &lt;strong&gt;Exemples&lt;/strong&gt;.&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Connexió&lt;/p&gt;
&lt;p&gt;La connexió és tan senzilla com el següent:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;MongoClient con = new MongoClient(&quot;localhost&quot; , 27017);&lt;br /&gt;MongoDatabase bd = con.getDatabase(&quot;test&quot;);&lt;/p&gt;
&lt;p&gt;És a dir, obtenim un objecte &lt;strong&gt;MongoClient&lt;/strong&gt; passant-li al constructor l'adreça del servidor i el port de connexió (que per defecte és 27017).&lt;/p&gt;
&lt;p&gt;Posteriorment hem de connectar amb la Base de Dades. Ja havíem comentat en la instal·lació de Mongo que nosaltres només utilitzaríem una Base de Dades ja creada anomenada &lt;strong&gt;test&lt;/strong&gt;. Obtenim un objecte &lt;strong&gt;MongoDatabase &lt;/strong&gt;que farà referència a la Base de Dades, i és l'objecte que utilitzarem a partir d'ara. Evidentment ho podríem haver fet en una única línia.&lt;/p&gt;
&lt;p&gt;Si el servidor no el tenim en la mateixa màquina, només haurem de substituir &lt;strong&gt;localhost&lt;/strong&gt; per l'adreça on estiga el servidor.&lt;/p&gt;
&lt;p&gt;Per a tancar la connexió:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;con.close();&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="479"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="477"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="146"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="477"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="480">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="481">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="480"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Inserció de documents&lt;/p&gt;
&lt;p&gt;Des de Java podrem inserir documents amb la mateixa facilitat que des de la consola. Només haurem de crear un objecte &lt;strong&gt;Document &lt;/strong&gt; de &lt;strong&gt;BSON&lt;/strong&gt; (recordeu que és el format intern de Mongo, absolutament similar a &lt;strong&gt;JSON&lt;/strong&gt;). La manera d'anar posant parelles calu valor en aquest document és per mig del mètode &lt;strong&gt;put&lt;/strong&gt;. Fem un exemple molt senzill on senzillament guardem un document amb una parella clau-valor d'un missatge:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import org.bson.Document;&lt;br /&gt;&lt;br /&gt;import com.mongodb.MongoClient;&lt;br /&gt;import com.mongodb.client.MongoDatabase;&lt;br /&gt;&lt;br /&gt;public class Prova1 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        MongoClient con = new MongoClient(&quot;localhost&quot; , 27017);&lt;br /&gt;        MongoDatabase bd = con.getDatabase(&quot;test&quot;);&lt;br /&gt;        &lt;br /&gt;        Document doc = new Document();&lt;br /&gt;        doc.put(&quot;msg4&quot;, &quot;Missatge inserit des de Java&quot;);&lt;br /&gt;        bd.getCollection(&quot;exemple&quot;).insertOne(doc);&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;Segurament traurà avisos en la consola, però només són avisos. Podem comprovar en la terminal com s'ha inserit el document:&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_3_4_1.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list>
                   <instance class="exe.engine.galleryidevice.GalleryImage">
                    <dictionary>
                     <string role="key" value="_caption"></string>
                     <instance class="exe.engine.field.TextField">
                      <dictionary>
                       <string role="key" value="_id"></string>
                       <int value="5416"></int>
                       <string role="key" value="_idevice"></string>
                       <none></none>
                       <string role="key" value="_instruc"></string>
                       <string value=""></string>
                       <string role="key" value="_name"></string>
                       <string value=""></string>
                       <string role="key" value="content"></string>
                       <string value=""></string>
                       <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                       <int value="4"></int>
                      </dictionary>
                     </instance>
                     <string role="key" value="_id"></string>
                     <unicode value="147_85.95"></unicode>
                     <string role="key" value="_imageResource"></string>
                     <instance class="exe.engine.resource.Resource" reference="482">
                      <dictionary>
                       <string role="key" value="_idevice"></string>
                       <reference key="480"></reference>
                       <string role="key" value="_package"></string>
                       <reference key="2"></reference>
                       <string role="key" value="_storageName"></string>
                       <string value="T8_3_4_1.png"></string>
                       <string role="key" value="_userName"></string>
                       <string value="/tmp/tmpLb7sM2/T8_3_4_1.png"></string>
                       <string role="key" value="checksum"></string>
                       <string value="356bbf3e3063526a936848373f84248d"></string>
                       <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                       <int value="2"></int>
                       <string role="key" value="warningMsg"></string>
                       <string value=""></string>
                      </dictionary>
                     </instance>
                     <string role="key" value="_parent"></string>
                     <reference key="481"></reference>
                     <string role="key" value="_thumbnailResource"></string>
                     <none></none>
                     <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                     <int value="3"></int>
                     <string role="key" value="makeThumbnail"></string>
                     <bool value="0"></bool>
                    </dictionary>
                   </instance>
                  </list>
                  <string role="key" value="idevice"></string>
                  <reference key="481"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="96"></int>
                <string role="key" value="parentNode"></string>
                <reference key="477"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="147"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="477"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list>
               <reference key="482"></reference>
              </list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
            <instance class="exe.engine.freetextidevice.FreeTextIdevice" reference="483">
             <dictionary>
              <string role="key" value="_title"></string>
              <unicode value="Free Text"></unicode>
              <string role="key" value="_author"></string>
              <unicode value="University of Auckland"></unicode>
              <string role="key" value="_purpose"></string>
              <unicode value="The majority of a learning resource will be 
establishing context, delivering instructions and providing general information.
This provides the framework within which the learning activities are built and 
delivered."></unicode>
              <string role="key" value="_tip"></string>
              <string value=""></string>
              <string role="key" value="childs"></string>
              <list></list>
              <string role="key" value="content"></string>
              <instance class="exe.engine.field.TextAreaField" reference="484">
               <dictionary>
                <string role="key" value="_id"></string>
                <int value="85"></int>
                <string role="key" value="_idevice"></string>
                <reference key="483"></reference>
                <string role="key" value="_instruc"></string>
                <unicode value="Use this field to enter text. This 
iDevice has no emphasis applied although limited formatting can be applied to 
text through the text editing buttons associated with the field."></unicode>
                <string role="key" value="_name"></string>
                <unicode value="Free Text"></unicode>
                <string role="key" value="anchor_names"></string>
                <list></list>
                <string role="key" value="anchors_linked_from_fields"></string>
                <dictionary></dictionary>
                <string role="key" value="buttonCaption"></string>
                <string value=""></string>
                <string role="key" value="content_w_resourcePaths"></string>
                <unicode content="true" value="&lt;p class=&quot;titolet&quot;&gt;Consultes&lt;/p&gt;
&lt;p&gt;Tenim el mètode &lt;strong&gt;find()&lt;/strong&gt; per a fer consultes, i li podem posar un document com a paràmetre per a seleccionar determinats documents o traure determinada informació.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import org.bson.Document;&lt;br /&gt;&lt;br /&gt;import com.mongodb.MongoClient;&lt;br /&gt;import com.mongodb.client.FindIterable;&lt;br /&gt;import com.mongodb.client.MongoDatabase;&lt;br /&gt;&lt;br /&gt;public class Prova2 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        MongoClient con = new MongoClient(&quot;localhost&quot; , 27017);&lt;br /&gt;        MongoDatabase bd = con.getDatabase(&quot;test&quot;);&lt;br /&gt;        &lt;br /&gt;        FindIterable&amp;lt;Document&amp;gt; llibres =  bd.getCollection(&quot;libro&quot;).find();&lt;br /&gt;        &lt;br /&gt;        for (Document llibre : llibres)&lt;br /&gt;            System.out.println(llibre.get(&quot;titulo&quot;));&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I com comentàvem podem posar com a paràmetres en el find() per a seleccionar determinats documents, ordenar, etc. Només hem de cuidar que ho hem de posar en &lt;strong&gt;JSON &lt;/strong&gt;(millor dit &lt;strong&gt;BSON&lt;/strong&gt;), i per tant haurem de crear un document per a això.&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import org.bson.Document;&lt;br /&gt;&lt;br /&gt;import com.mongodb.MongoClient;&lt;br /&gt;import com.mongodb.client.FindIterable;&lt;br /&gt;import com.mongodb.client.MongoDatabase;&lt;br /&gt;&lt;br /&gt;public class Prova3 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        MongoClient con = new MongoClient(&quot;localhost&quot; , 27017);&lt;br /&gt;        MongoDatabase bd = con.getDatabase(&quot;test&quot;);&lt;br /&gt;        &lt;br /&gt;        Document ordenar = new Document();&lt;br /&gt;        ordenar.put(&quot;precio&quot;, -1);&lt;br /&gt;        &lt;br /&gt;        FindIterable&amp;lt;Document&amp;gt; llibres =  bd.getCollection(&quot;libro&quot;).find().sort(ordenar);&lt;br /&gt;        &lt;br /&gt;        for (Document llibre : llibres)&lt;br /&gt;            System.out.println(&quot;Títol:&quot; + llibre.get(&quot;titulo&quot;) + &quot;. Preu:&quot; + llibre.get(&quot;precio&quot;));&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;El resultat serà aquest:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:55 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:56 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:56 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: Opened connection [connectionId{localValue:1, serverValue:10}] to localhost:27017&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:56 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 1]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, roundTripTimeNanos=549242}&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:56 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: Opened connection [connectionId{localValue:2, serverValue:11}] to localhost:27017&lt;/span&gt;&lt;br /&gt;Títol:Circo Máximo. Preu:21.75&lt;br /&gt;Títol:El juego de Ripper. Preu:21.75&lt;br /&gt;Títol:Las carreras de Escorpio. Preu:17.23&lt;br /&gt;Títol:Las reglas del juego. Preu:15.9&lt;br /&gt;Títol:La princesa de hielo. Preu:11.0&lt;br /&gt;Títol:Juego de tronos: Canción de hielo y fuego 1. Preu:9.5&lt;br /&gt;Títol:La ladrona de libros. Preu:9.45&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;de gen. 31, 2017 8:36:56 AM com.mongodb.diagnostics.logging.JULLogger log&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #ff0000;&quot;&gt;INFO: Closed connection [connectionId{localValue:2, serverValue:11}] to localhost:27017 because the pool has been closed.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Hem pogut observar en l'execució dels exemples anteriors que ens trau una gran quantitat d'avisos. No són errors, sinó senzillament informació de com van les connexions, que mongo torna, i apareixen en l'eixida estàndar.&lt;/p&gt;
&lt;p&gt;Si no volem que apareguen podem posar al principi del programa unes sentències per a dir que únicament apareguen els errors, i no els avisos. Els errors estarien en la categoria de &lt;strong&gt;SEVERE&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;Logger mongoLogger = Logger.getLogger( &quot;org.mongodb.driver&quot; );&lt;br /&gt;mongoLogger.setLevel(Level.SEVERE);&lt;/p&gt;
&lt;p&gt;Hem d'importar les classes de &lt;strong&gt;java.util&lt;/strong&gt;. Quedaria el mateix exemple d'aquesta manera:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;import java.util.logging.Level;&lt;br /&gt;import java.util.logging.Logger;&lt;br /&gt;&lt;br /&gt;import org.bson.Document;&lt;br /&gt;&lt;br /&gt;import com.mongodb.MongoClient;&lt;br /&gt;import com.mongodb.client.FindIterable;&lt;br /&gt;import com.mongodb.client.MongoDatabase;&lt;br /&gt;&lt;br /&gt;public class Prova3 {&lt;br /&gt;&lt;br /&gt;    public static void main(String[] args) {&lt;br /&gt;        Logger mongoLogger = Logger.getLogger( &quot;org.mongodb.driver&quot; );&lt;br /&gt;        mongoLogger.setLevel(Level.SEVERE);&lt;br /&gt;&lt;br /&gt;        MongoClient con = new MongoClient(&quot;localhost&quot; , 27017);&lt;br /&gt;        MongoDatabase bd = con.getDatabase(&quot;test&quot;);&lt;br /&gt;        Document ordenar = new Document();&lt;br /&gt;        ordenar.put(&quot;precio&quot;, -1);&lt;br /&gt;        &lt;br /&gt;        FindIterable&amp;lt;Document&amp;gt; llibres =  bd.getCollection(&quot;libro&quot;).find().sort(ordenar);&lt;br /&gt;        &lt;br /&gt;        for (Document llibre : llibres)&lt;br /&gt;            System.out.println(&quot;Títol:&quot; + llibre.get(&quot;titulo&quot;) + &quot;. Preu:&quot; + llibre.get(&quot;precio&quot;));&lt;br /&gt;        &lt;br /&gt;        con.close();&lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I el resultat ara serà:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;Títol:Circo Máximo. Preu:21.75&lt;br /&gt;Títol:El juego de Ripper. Preu:21.75&lt;br /&gt;Títol:Las carreras de Escorpio. Preu:17.23&lt;br /&gt;Títol:Las reglas del juego. Preu:15.9&lt;br /&gt;Títol:La princesa de hielo. Preu:11.0&lt;br /&gt;Títol:Juego de tronos: Canción de hielo y fuego 1. Preu:9.5&lt;br /&gt;Títol:La ladrona de libros. Preu:9.45&lt;/p&gt;"></unicode>
                <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                <int value="4"></int>
                <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
                <int value="2"></int>
                <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
                <int value="3"></int>
                <string role="key" value="htmlTag"></string>
                <string value="div"></string>
                <string role="key" value="images"></string>
                <instance class="exe.engine.galleryidevice.GalleryImages">
                 <dictionary>
                  <string role="key" value=".listitems"></string>
                  <list></list>
                  <string role="key" value="idevice"></string>
                  <reference key="484"></reference>
                 </dictionary>
                </instance>
                <string role="key" value="intlinks_to_anchors"></string>
                <dictionary></dictionary>
                <string role="key" value="nextImageId"></string>
                <int value="0"></int>
                <string role="key" value="parentNode"></string>
                <reference key="477"></reference>
               </dictionary>
              </instance>
              <string role="key" value="edit"></string>
              <bool value="0"></bool>
              <string role="key" value="emphasis"></string>
              <int value="0"></int>
              <string role="key" value="exe.engine.freetextidevice.FreeTextIdevice.persistenceVersion"></string>
              <int value="7"></int>
              <string role="key" value="icon"></string>
              <string value=""></string>
              <string role="key" value="id"></string>
              <unicode value="148"></unicode>
              <string role="key" value="lastIdevice"></string>
              <bool value="0"></bool>
              <string role="key" value="originalicon"></string>
              <string value=""></string>
              <string role="key" value="parent"></string>
              <none></none>
              <string role="key" value="parentNode"></string>
              <reference key="477"></reference>
              <string role="key" value="systemResources"></string>
              <list></list>
              <string role="key" value="type"></string>
              <none></none>
              <string role="key" value="undo"></string>
              <bool value="1"></bool>
              <string role="key" value="userResources"></string>
              <list></list>
              <string role="key" value="version"></string>
              <int value="0"></int>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="_id"></string>
           <unicode value="35"></unicode>
           <string role="key" value="_package"></string>
           <reference key="2"></reference>
           <string role="key" value="anchor_fields"></string>
           <list></list>
           <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
           <int value="2"></int>
           <string role="key" value="exportType"></string>
           <string value="website"></string>
           <string role="key" value="last_full_node_path"></string>
           <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:4%20-%20MongoDB:4.4%20-%20Connexi%C3%B3%20des%20de%20Java"></string>
           <string role="key" value="parent"></string>
           <reference key="351"></reference>
           <string role="key" value="top_anchors_linked_from_fields"></string>
           <list></list>
           <string role="key" value="children"></string>
           <list></list>
          </dictionary>
         </instance>
        </list>
       </dictionary>
      </instance>
      <instance class="exe.engine.node.Node" reference="487">
       <dictionary>
        <string role="key" value="_title"></string>
        <unicode value="Exercicis"></unicode>
        <string role="key" value="idevices"></string>
        <list>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="485">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.1 (Firebase)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="486">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="152_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="485"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Farem una aplicació per a crear un &lt;strong&gt;xat&lt;/strong&gt; entre el grup de classe. Per a poder compartir les dades entre tots, accedirem a una altra Base de Dades d'un altre usuari, tots utilitzarem el mateix:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compte de Google: &lt;strong&gt;ieselcaminas.ad@gmail.com &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Contrasenya: &lt;strong&gt;ad_ieselcaminas&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En ell de moment només tenim la Base de Dades &lt;strong&gt;xat-ad&lt;/strong&gt;, la referència de la qual és &lt;strong&gt;https://xat-ad.firebaseio.com/&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PODEU FER L'APLICACIÓ EN ECLIPSE O EN ANDROID&lt;/strong&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Aplicació en Eclipse&lt;/p&gt;
&lt;p&gt;Podeu utilitzar el &quot;esquelet&quot; que hi ha a continuació. En ell tenim:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una etiqueta per a indicar nom d'usuari&lt;/li&gt;
&lt;li&gt;Un JTextField per a introduir el nom de l'usuari. Aquestes dues coses han d'anar dalt de tot, en la mateixa línia.&lt;/li&gt;
&lt;li&gt;Un JTextArea, per a anar mostrant el chat&lt;/li&gt;
&lt;li&gt;Un altre JTextField per a introduir el nou text de conversa.&lt;/li&gt;
&lt;li&gt;Un botó d'Enviar. Aquestes dues coses han d'anar baix de tot, en la mateixa línia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Haureu d'incorporar el fitxer json on està la configuració i la clau privada de la connexió. El fitxer s'anomena &lt;strong&gt;xat-ad-firebase-adminsdk-my2d0-8c69944b34.json&lt;/strong&gt;, i el teniu com un recurs en l'aula virtual.&lt;/p&gt;
&lt;p&gt;L'aplicació ha de guardar el missatge en el moment d'apretar el botó en la llista &lt;strong&gt;xat&lt;/strong&gt;. Un missatge consta del nom de la persona que l'escriu (l'agafem del EditText de dalt), el moment en que es fa (l'agarrem de la data del sistema) i el contingut del missatge. Per a que siguen compatibles totes les aplicacions, han de tenir el mateix format, que serà:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;nom&lt;/strong&gt; (string) contindrà el nom de la persona&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;data&lt;/strong&gt; (long) contindrà la data-hora del missatge&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;contingut&lt;/strong&gt; (string) el text del missatge&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;S'han de mostrar tots els elements de la llista &lt;strong&gt;xat&lt;/strong&gt;, que seran tots els missatges i actualitzat al moment en que es cree un nou missatge (un nou elements de la llista) amb aquest format:&lt;/p&gt;
&lt;p style=&quot;padding-left: 60px;&quot;&gt;&lt;strong&gt;Usuari (data): missatge&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A continuació teniu l'esquelet del programa que podeu utilitzar:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileInputStream;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;

import com.google.auth.oauth2.GoogleCredentials;
import com.google.firebase.FirebaseApp;
import com.google.firebase.FirebaseOptions;
import com.google.firebase.database.ChildEventListener;
import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;

public class Pantalla_Exercici7_1 extends JFrame implements ActionListener {

	private static final long serialVersionUID = 1L;
	JLabel etiqueta = new JLabel(&quot;Missatges:&quot;);
	JLabel et_usu = new JLabel(&quot;Nom d'usuari:&quot;);
	JTextField usuari = new JTextField(15);
	JTextArea area = new JTextArea();
	JTextField missatge = new JTextField(15);
	JButton enviar = new JButton(&quot;Enviar&quot;);

	// en iniciar posem un contenidor per als elements anteriors
	public void iniciar() throws IOException {
		this.setBounds(100, 100, 450, 300);
		this.setLayout(new BorderLayout());
		// contenidor per als elements
		JPanel panell1 = new JPanel(new FlowLayout());
		panell1.add(et_usu);
		panell1.add(usuari);
		getContentPane().add(panell1, BorderLayout.NORTH);

		JPanel panell2 = new JPanel(new BorderLayout());
		panell2.add(etiqueta, BorderLayout.NORTH);
		area.setForeground(Color.blue);
		JScrollPane scroll = new JScrollPane(area);
		panell2.add(scroll, BorderLayout.CENTER);
		getContentPane().add(panell2, BorderLayout.CENTER);

		JPanel panell3 = new JPanel(new FlowLayout());
		panell3.add(missatge);
		panell3.add(enviar);
		getContentPane().add(panell3, BorderLayout.SOUTH);

		setVisible(true);
		enviar.addActionListener(this);

		FileInputStream serviceAccount = new FileInputStream(
				&quot;xat-ad-firebase-adminsdk-my2d0-8c69944b34.json&quot;);

		FirebaseOptions options = new FirebaseOptions.Builder()
				.setCredentials(GoogleCredentials.fromStream(serviceAccount))
				.setDatabaseUrl(&quot;https://xat-ad.firebaseio.com/&quot;).build();

		FirebaseApp.initializeApp(options);

		final DatabaseReference xat = FirebaseDatabase.getInstance().getReference(&quot;xat&quot;);

		xat.addChildEventListener(new ChildEventListener() {
			@Override
			    public void onChildAdded(DataSnapshot dataSnapshot, String s) {
				// Sentències per a carregar les dades del xat al JTextArea area
				
			}
			@Override
			    public void onChildChanged(DataSnapshot dataSnapshot, String s) {
			}
			@Override
			    public void onChildRemoved(DataSnapshot dataSnapshot) {
			}
			@Override
			    public void onChildMoved(DataSnapshot dataSnapshot, String s) {
			}
			@Override
			    public void onCancelled(DatabaseError databaseError) {
			}
			});
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		// Sntències per a guardar el missatge
		
	}


}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I ara el programa principal:&lt;/p&gt;
&lt;div class=&quot;highlighted-code language-java&quot; style=&quot;font-weight: bold;&quot;&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code&gt;import java.io.IOException;

public class Exercici7_1 {

    public static void main(String[] args) throws IOException {
        final Pantalla_Exercici7_1 finestra = new Pantalla_Exercici7_1();
        finestra.iniciar();
    }

}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I aquest seria el resultat:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;resources/T7_Ex1_1.png&quot; alt=&quot;&quot; style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; width=&quot;450&quot; height=&quot;300&quot; /&gt;&lt;/p&gt;
&lt;p class=&quot;titolet&quot;&gt;Aplicació en Android&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creeu-vos una nova aplicació d'Android anomenada &lt;strong&gt;Xat_AD&lt;/strong&gt;. Podeu utilitzar el mateix domini que en l'altre projecte.&lt;/li&gt;
&lt;li&gt;Incorporeu en ella:
&lt;ul&gt;
&lt;li&gt;Una etiqueta per a indicar nom d'usuari&lt;/li&gt;
&lt;li&gt;Un EditText per a introduir el nom de l'usuari. Aquestes dues coses han d'anar dalt de tot, en la mateixa línia.&lt;/li&gt;
&lt;li&gt;Un TextView, per a anar mostrant el chat&lt;/li&gt;
&lt;li&gt;Un altre EditText per a introduir el nou text de conversa.&lt;/li&gt;
&lt;li&gt;Un botó d'Enviar. Aquestes dues coses han d'anar baix de tot, en la mateixa línia.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Connecteu a la Base de Dades Firebase abans esmentada&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'aplicació ha de guardar el missatge en el moment d'apretar el botó en la llista &lt;strong&gt;xat&lt;/strong&gt;. Un missatge consta del nom de la persona que l'escriu (l'agafem del EditText de dalt), el moment en que es fa (l'agarrem de la data del sistema) i el contingut del missatge. Per a que siguen compatibles totes les aplicacions, han de tenir el mateix format, que serà:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;nom&lt;/strong&gt; (string) contindrà el nom de la persona&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;data&lt;/strong&gt; (long) contindrà la data-hora del missatge&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;contingut&lt;/strong&gt; (string) el text del missatge&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;S'han de mostrar tots els elements de la llista &lt;strong&gt;xat&lt;/strong&gt;, que seran tots els missatges i actualitzat al moment en que es cree un nou missatge (un nou elements de la llista) amb aquest format:&lt;/p&gt;
&lt;p style=&quot;padding-left: 60px;&quot;&gt;&lt;strong&gt;Usuari (data): missatge&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A continuació teniu un exemple de activity_main.xml que us podria servir:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xml version=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;1.0&quot; &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;encoding=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;?&amp;gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;RelativeLayout &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;http://schemas.android.com/tools&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/activity_main&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_vertical_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_horizontal_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_horizontal_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_vertical_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:context=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;com.proves_alvar.xat_ad.MainActivity&quot;&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Nom d'usuari:&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/eti&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentStart=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_above=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/usuari&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toRightOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/eti&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentEnd=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/usuari&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_above=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/missatge&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:scrollbars=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;vertical&quot;&lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/missatge&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentStart=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toLeftOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toStartOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Enviar&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentEnd=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&amp;lt;/&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;RelativeLayout&lt;/span&gt;&amp;gt;&lt;/pre&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="5368"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="152_152_2.42"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="488">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="485"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T7_Ex1_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpLb7sM2/T7_Ex1_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="7ffd261500c63d97ae69c7fae56720e7"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="486"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="486"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="43"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="152"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="488"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="489">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.2 (Firebase) (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="490">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="166_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="489"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Farem una aplicació en Android per a fer partides del Mastermind compartides. El joc consisteix a endevinar un número de 4 xifres no repetides. Quan es fa una tirada, l'aplicació contestarà quants xifres hi ha encertades i en el lloc corresponent, i quantes xifres encertades però fora del lloc.&lt;/p&gt;
&lt;p&gt;Per exemple: Suposem que el número a endevinar és el 7481. A mida que anem fent tirades hem d'anar endevinant quin és el número:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1234 &lt;span style=&quot;color: #ff0000;&quot;&gt;0 2&lt;/span&gt; (que indica que no hi ha cap xifra al seu lloc, i que hi ha 2 encertades fora del lloc)&lt;/li&gt;
&lt;li&gt;5678 &lt;span style=&quot;color: #ff0000;&quot;&gt;0 2&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;1256 &lt;span style=&quot;color: #ff0000;&quot;&gt;0 1&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;3487 &lt;span style=&quot;color: #ff0000;&quot;&gt;2 1&lt;br /&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;7482 &lt;span style=&quot;color: #ff0000;&quot;&gt;3 0&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;7481 &lt;span style=&quot;color: #ff0000;&quot;&gt;4 0&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Els usuaris connectats a l'aplicació (amb un nom d'usuari, millor si és breu, per exemple 3 caràcters, a l'estil de J01, J02, ...) han de poder fer jugades, i l'aplicació ha de mostrar primer el nom del jugador, la tirada i el resultat.&lt;/p&gt;
&lt;p&gt;Per més simplicitat, només es guardarà una partida, però quan finalitze s'ha de poder començar una altra (esborrant les tirades de la partida anterior). Les dades que guardarem de la partida són:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mastermind&lt;/strong&gt; (serà la clau on ho guardarem tot)&lt;strong&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Número secret a endevinar: &lt;strong&gt;numSecret&lt;/strong&gt; (string)&lt;/li&gt;
&lt;li&gt;Partida en marxa o bé ja finalitzada: &lt;strong&gt;finalitzada&lt;/strong&gt; (boolean)&lt;/li&gt;
&lt;li&gt;Llista de tirades: &lt;strong&gt;tirades&lt;/strong&gt;. De cadascuna:
&lt;ul&gt;
&lt;li&gt;Jugador que l'ha feta: &lt;strong&gt;nom&lt;/strong&gt; (string)&lt;/li&gt;
&lt;li&gt;Jugada feta: &lt;strong&gt;tirada&lt;/strong&gt; (string)&lt;/li&gt;
&lt;li&gt;Encertades col·locades: &lt;strong&gt;colocades&lt;/strong&gt; (String)&lt;/li&gt;
&lt;li&gt;Encertades no col·locades: &lt;strong&gt;desordenades&lt;/strong&gt; (String)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Encara que possiblement podríem considerar &lt;strong&gt;colocades&lt;/strong&gt; i &lt;strong&gt;desordenades&lt;/strong&gt; com a números enters, per una altra banda les hem de mostrar per pantalla.&lt;/p&gt;
&lt;p&gt;Tindrem els mateixos elements que en l'exercici anterior:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una etiqueta per a indicar nom de jugador&lt;/li&gt;
&lt;li&gt;Un EditText per a introduir el nom del jugador. Aquestes dues coses han d'anar dalt de tot, en la mateixa línia.&lt;/li&gt;
&lt;li&gt;Un TextView, per a anar mostrant les tirades de la partida&lt;/li&gt;
&lt;li&gt;Un altre EditText per a introduir la nova tirada.&lt;/li&gt;
&lt;li&gt;Un botó d'Enviar. Aquestes dues coses han d'anar baix de tot, en la mateixa línia.&lt;/li&gt;
&lt;li&gt;Per últim també tindrem un botó que inicialment està ocult per a començar una nova partida. Quan es visualitza tapa l'EditText de la nova tirada i el botó d'enviar, amb la qual cosa no es poden fer més intents&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inicialment s'ha de comprovar si la partida està en marxa. Si no ho està (o si no hi ha cap partida perquè és la primera vegada que s'executa):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;S'ha de generar un nou número secret i guardar-lo&lt;/li&gt;
&lt;li&gt;S'ha de marcar com a partida no finalitzada&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si ja està en marxa, senzillament s'han de visualitzar les tirades existents, i esperar per si es fa una tirada.&lt;/p&gt;
&lt;p&gt;Quan es fa una tirada:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;S'ha de guardar el jugador, la tirada, el número de encertades col·locades i el número d'encertades no col·locades.&lt;/li&gt;
&lt;li&gt;Si s'ha encertat el número, s'ha de marcar com a finalitzada la partida, i s'ha de visualitzar el botó per a generar una nova partida&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;L'aplicació s'ha de dir &lt;strong&gt;Mastermind_AD&lt;/strong&gt;. Les dades de connexió són les mateixes que l'exercici anterior:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compte de Google: &lt;strong&gt;ieselcaminas.ad@gmail.com &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Contrasenya: &lt;strong&gt;ad_ieselcaminas&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest seria el &lt;strong&gt;activity_main.xml&lt;/strong&gt; amb els elements comentats abans:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xml version=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;1.0&quot; &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;encoding=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;?&amp;gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;RelativeLayout &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;http://schemas.android.com/apk/res/android&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;xmlns:&lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;http://schemas.android.com/tools&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/activity_main&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_vertical_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_horizontal_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_horizontal_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:paddingTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@dimen/activity_vertical_margin&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;tools&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:context=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;com.proves_alvar.mastermind_ad.MainActivity&quot;&lt;/span&gt;&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Nom del jugador (preferiblement 3 caràcters):&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/eti&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentStart=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_above=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/jugador&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toRightOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/eti&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentTop=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;TextView&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;match_parent&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentEnd=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/jugador&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_above=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/tirada&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:scrollbars=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;vertical&quot;&lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;EditText&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/tirada&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentStart=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toLeftOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_toStartOf=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;Enviar&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/boto&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentEnd=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot; &lt;/span&gt;/&amp;gt;&lt;br /&gt;    &amp;lt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;Button&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_width=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_height=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;wrap_content&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:text=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;NOVA PARTIDA&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:id=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/botoNova&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentRight=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentEnd=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentBottom=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_below=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;@+id/textView&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentLeft=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:layout_alignParentStart=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;true&quot;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660e7a; font-weight: bold;&quot;&gt;android&lt;/span&gt;&lt;span style=&quot;color: #0000ff; font-weight: bold;&quot;&gt;:visibility=&lt;/span&gt;&lt;span style=&quot;color: #008000; font-weight: bold;&quot;&gt;&quot;invisible&quot;&lt;/span&gt;/&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;RelativeLayout&lt;/span&gt;&amp;gt;&lt;/pre&gt;
&lt;p&gt;També us passe els mètodes &lt;strong&gt;genera()&lt;/strong&gt;, que genera un número aleatori de 4 xifres no repetides, i &lt;strong&gt;comprova(String,String)&lt;/strong&gt; que torna les xifres encertades col·locades i encertades no col·locades:&lt;/p&gt;
&lt;pre style=&quot;background-color: #ffffff; color: #000000; font-family: 'DejaVu Sans Mono'; font-size: 9,0pt;&quot;&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;protected &lt;/span&gt;String genera(){&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;char&lt;/span&gt;[] n = &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;new char&lt;/span&gt;[&lt;span style=&quot;color: #0000ff;&quot;&gt;4&lt;/span&gt;];&lt;br /&gt;    n[&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    n[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;while &lt;/span&gt;(n[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;])&lt;br /&gt;        n[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    n[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;while &lt;/span&gt;(n[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;] || n[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;])&lt;br /&gt;        n[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    n[&lt;span style=&quot;color: #0000ff;&quot;&gt;3&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;while &lt;/span&gt;(n[&lt;span style=&quot;color: #0000ff;&quot;&gt;3&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;] || n[&lt;span style=&quot;color: #0000ff;&quot;&gt;3&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;] || n[&lt;span style=&quot;color: #0000ff;&quot;&gt;3&lt;/span&gt;] == n[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;])&lt;br /&gt;        n[&lt;span style=&quot;color: #0000ff;&quot;&gt;3&lt;/span&gt;] = Integer.&lt;span style=&quot;font-style: italic;&quot;&gt;toString&lt;/span&gt;(((&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;) (Math.&lt;span style=&quot;font-style: italic;&quot;&gt;random&lt;/span&gt;() * &lt;span style=&quot;color: #0000ff;&quot;&gt;10&lt;/span&gt;))).charAt(&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;);&lt;br /&gt;    String generat= &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;new &lt;/span&gt;String(n);&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;return &lt;/span&gt;generat;&lt;br /&gt;}&lt;br /&gt;&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;protected int&lt;/span&gt;[] comprova(String num, String secret){&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;char&lt;/span&gt;[] n = secret.toCharArray();&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int &lt;/span&gt;pos =&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int &lt;/span&gt;nopos=&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int &lt;/span&gt;i=&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;;i&amp;lt;&lt;span style=&quot;color: #0000ff;&quot;&gt;4&lt;/span&gt;;i++)&lt;br /&gt;        &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int &lt;/span&gt;j=&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;; j&amp;lt;&lt;span style=&quot;color: #0000ff;&quot;&gt;4&lt;/span&gt;; j++)&lt;br /&gt;            &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;if &lt;/span&gt;(num.charAt(i)== n[j])&lt;br /&gt;                &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;if &lt;/span&gt;(i==j) pos++;&lt;br /&gt;                &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;else &lt;/span&gt;nopos++;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;int&lt;/span&gt;[] solucio = &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;new int&lt;/span&gt;[&lt;span style=&quot;color: #0000ff;&quot;&gt;2&lt;/span&gt;];&lt;br /&gt;    solucio[&lt;span style=&quot;color: #0000ff;&quot;&gt;0&lt;/span&gt;]=pos;&lt;br /&gt;    solucio[&lt;span style=&quot;color: #0000ff;&quot;&gt;1&lt;/span&gt;]=nopos;&lt;br /&gt;    &lt;span style=&quot;color: #000080; font-weight: bold;&quot;&gt;return &lt;/span&gt;solucio;&lt;br /&gt;}&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="490"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="166"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="491">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.3 (Redis)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="492">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="42_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="491"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;En un nou paquet anomenat &lt;strong&gt;Exercicis&lt;/strong&gt; dins del projecte &lt;strong&gt;Tema7_1&lt;/strong&gt;, crea la classe &lt;strong&gt;ConsultarClaus.java&lt;/strong&gt;, amb &lt;strong&gt;main&lt;/strong&gt;, que permeta consultar totes les claus guardades en el nostre servidor &lt;strong&gt;Redis&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ha de presentar totes les claus actuals en &lt;strong&gt;Redis&lt;/strong&gt; i el seu tipus, però amb un número davant. Posteriorment ha de demanar un número per teclat, i presentar la clau i el valor corresponent al número introduït, fins introduir el 0. Observa que depenent del tipus de la clau s'haurà de fer d'una manera o una altra. En la imatge teniu un exemple de cada:&lt;/p&gt;
&lt;p class=&quot;codi2&quot;&gt;1.- clau_1 (string)&lt;br /&gt;2.- mes2 (string)&lt;br /&gt;3.- empleat_1 (hash)&lt;br /&gt;4.- mes1 (string)&lt;br /&gt;5.- saludar (string)&lt;br /&gt;6.- empleat_2 (hash)&lt;br /&gt;7.- mes6 (string)&lt;br /&gt;8.- mes5 (string)&lt;br /&gt;9.- mes4 (string)&lt;br /&gt;10.- mes3 (string)&lt;br /&gt;11.- colors (set)&lt;br /&gt;12.- mes7 (string)&lt;br /&gt;13.- llista1 (list)&lt;br /&gt;14.- clau_Java (string)&lt;br /&gt;15.- lista111 (list)&lt;br /&gt;16.- colors1 (set)&lt;br /&gt;17.- colors2 (set)&lt;br /&gt;18.- colors3 (set)&lt;br /&gt;19.- text (string)&lt;br /&gt;20.- colors4 (set)&lt;br /&gt;21.- clau_4 (string)&lt;br /&gt;22.- clau_2 (string)&lt;br /&gt;23.- puntuacions (zset)&lt;br /&gt;24.- compt3 (string)&lt;br /&gt;25.- compt2 (string)&lt;br /&gt;26.- compt1 (string)&lt;br /&gt;27.- quatre (string)&lt;br /&gt;28.- pi (string)&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;4&lt;br /&gt;mes1: gener&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;6&lt;br /&gt;empleat_2&lt;br /&gt;    sou --&amp;gt; 1500.0&lt;br /&gt;    nom --&amp;gt; Berta&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;13&lt;br /&gt;llista1&lt;br /&gt;    primera&lt;br /&gt;    sisena&lt;br /&gt;    cinquena&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;11&lt;br /&gt;colors&lt;br /&gt;    roig&lt;br /&gt;    verd&lt;br /&gt;    blau&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;23&lt;br /&gt;puntuacions&lt;br /&gt;    Nom5 --&amp;gt; 2.75&lt;br /&gt;    Nom2 --&amp;gt; 3.5&lt;br /&gt;    Nom3 --&amp;gt; 5.0&lt;br /&gt;Introdueix un número (0 per a eixir)&lt;br /&gt;0&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="492"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="74"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="493">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.4 (Redis)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="494">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="43_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="493"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Realitzar en el mateix paquet un altre programa, aquesta vegada gràfic, que ens diga el mateix, però d'una forma més atractiva.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;El programa principal s'ha de dir &lt;strong&gt;ConsultaClausGrafica&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;On estarà tot el programa s'ha de dir &lt;strong&gt;ConsultaClausGrafica_Pantalla&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Contindrà un &lt;strong&gt;JList&lt;/strong&gt; on han d'aparéixer totes les claus, millor si estan ordenades alfabèticament. Recordeu que el &lt;strong&gt;JList&lt;/strong&gt; és un poc complicat, que es basa en un &lt;strong&gt;DefaultListModel&lt;/strong&gt;, i és a aquest a qui heu d'afegir els elements.&lt;/li&gt;
&lt;li&gt;Al costat ha d'haver un &lt;strong&gt;JTextField&lt;/strong&gt; que diga de quin tipus és quan se seleccione un element del JList&lt;/li&gt;
&lt;li&gt;I també un &lt;strong&gt;JTextArea&lt;/strong&gt; amb el seu valor (siga del tipus que siga)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aquest seria l'esquelet:&lt;/p&gt;
&lt;p class=&quot;codi&quot;&gt;package Exercicis;&lt;br /&gt;&lt;br /&gt;import java.awt.Color;&lt;br /&gt;import java.awt.FlowLayout;&lt;br /&gt;import java.util.ArrayList;&lt;br /&gt;import java.util.Collections;&lt;br /&gt;import java.util.List;&lt;br /&gt;import java.util.Set;&lt;br /&gt;&lt;br /&gt;import javax.swing.DefaultListModel;&lt;br /&gt;import javax.swing.JFrame;&lt;br /&gt;import javax.swing.JLabel;&lt;br /&gt;import javax.swing.JList;&lt;br /&gt;import javax.swing.JScrollPane;&lt;br /&gt;import javax.swing.JTextArea;&lt;br /&gt;import javax.swing.JTextField;&lt;br /&gt;import javax.swing.event.ListSelectionEvent;&lt;br /&gt;import javax.swing.event.ListSelectionListener;&lt;br /&gt;&lt;br /&gt;import redis.clients.jedis.Jedis;&lt;br /&gt;&lt;br /&gt;public class ConsultaClausGrafica_Pantalla extends JFrame implements ListSelectionListener{&lt;br /&gt;    &lt;br /&gt;    JLabel etTipClau= new JLabel(&quot;Tipus:&quot;);&lt;br /&gt;    JTextField tipClau= new JTextField(8);&lt;br /&gt;    JTextArea contClau = new JTextArea(8,15);&lt;br /&gt;    Jedis con = new Jedis(&quot;localhost&quot;);&lt;br /&gt;    DefaultListModel listModel = new DefaultListModel();&lt;br /&gt;    JList llClaus = new JList(listModel);&lt;br /&gt;&lt;br /&gt;    &lt;br /&gt;    public void iniciar(){&lt;br /&gt;        this.getContentPane().setLayout(new FlowLayout());&lt;br /&gt;        &lt;br /&gt;        llClaus.setForeground(Color.blue);&lt;br /&gt;        JScrollPane scroll = new JScrollPane(llClaus);&lt;br /&gt;        llClaus.setVisibleRowCount(20);&lt;br /&gt;        &lt;br /&gt;        JScrollPane scroll2 = new JScrollPane(contClau);&lt;br /&gt;        &lt;br /&gt;        this.add(scroll);&lt;br /&gt;        this.add(etTipClau);&lt;br /&gt;        this.add(tipClau);&lt;br /&gt;        this.add(scroll2);&lt;br /&gt;        &lt;br /&gt;        this.setSize(600, 400);&lt;br /&gt;        this.setVisible(true);&lt;br /&gt;        &lt;br /&gt;        inicialitzar();&lt;br /&gt;        &lt;br /&gt;        llClaus.addListSelectionListener(this);&lt;br /&gt;        &lt;br /&gt;    }&lt;br /&gt;    private void inicialitzar(){&lt;br /&gt;        &lt;br /&gt;    }&lt;br /&gt;    @Override&lt;br /&gt;    public void valueChanged(ListSelectionEvent e) {&lt;br /&gt;        &lt;br /&gt;    }&lt;br /&gt;}&lt;/p&gt;
&lt;p&gt;I aquest el seu aspecte&lt;/p&gt;
&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;resources/T8_Ex2_1.png&quot; height=&quot;428&quot; width=&quot;600&quot; /&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list>
                 <instance class="exe.engine.galleryidevice.GalleryImage">
                  <dictionary>
                   <string role="key" value="_caption"></string>
                   <instance class="exe.engine.field.TextField">
                    <dictionary>
                     <string role="key" value="_id"></string>
                     <int value="5376"></int>
                     <string role="key" value="_idevice"></string>
                     <none></none>
                     <string role="key" value="_instruc"></string>
                     <string value=""></string>
                     <string role="key" value="_name"></string>
                     <string value=""></string>
                     <string role="key" value="content"></string>
                     <string value=""></string>
                     <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
                     <int value="4"></int>
                    </dictionary>
                   </instance>
                   <string role="key" value="_id"></string>
                   <unicode value="75_43_2.131"></unicode>
                   <string role="key" value="_imageResource"></string>
                   <instance class="exe.engine.resource.Resource" reference="495">
                    <dictionary>
                     <string role="key" value="_idevice"></string>
                     <reference key="493"></reference>
                     <string role="key" value="_package"></string>
                     <reference key="2"></reference>
                     <string role="key" value="_storageName"></string>
                     <string value="T8_Ex2_1.png"></string>
                     <string role="key" value="_userName"></string>
                     <string value="/tmp/tmpLb7sM2/T8_Ex2_1.png"></string>
                     <string role="key" value="checksum"></string>
                     <string value="6efa24a37ac07a6e62069b3caad7dccf"></string>
                     <string role="key" value="exe.engine.resource.Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="exe.engine.resource._Resource.persistenceVersion"></string>
                     <int value="2"></int>
                     <string role="key" value="warningMsg"></string>
                     <string value=""></string>
                    </dictionary>
                   </instance>
                   <string role="key" value="_parent"></string>
                   <reference key="494"></reference>
                   <string role="key" value="_thumbnailResource"></string>
                   <none></none>
                   <string role="key" value="exe.engine.galleryidevice.GalleryImage.persistenceVersion"></string>
                   <int value="3"></int>
                   <string role="key" value="makeThumbnail"></string>
                   <bool value="0"></bool>
                  </dictionary>
                 </instance>
                </list>
                <string role="key" value="idevice"></string>
                <reference key="494"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="132"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="75"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list>
            <reference key="495"></reference>
           </list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="496">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.5 (Redis) (voluntari)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="497">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="41_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="496"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;div class=&quot;iDevice_inner&quot;&gt;
&lt;div class=&quot;iDevice_content_wrapper&quot;&gt;
&lt;div id=&quot;ta77_42_2&quot; class=&quot;block iDevice_content&quot;&gt;
&lt;p&gt;Realitzar un programa anomenat &lt;strong&gt;JocEndevinaNumero.java&lt;/strong&gt; (amb &lt;strong&gt;main&lt;/strong&gt;), que faça el joc d'endevinar un número del 1 al 100. Cada vegada que el jugador pose un número el programa ha de dir si el número a endevinar és major o menor que l'introduït, fins que es trobe.&lt;/p&gt;
&lt;p&gt;Posteriorment pregunta el nom i guarda'l amb la marca en un conjunt ordenat (&lt;strong&gt;Sorted Set&lt;/strong&gt;) anomenat &lt;strong&gt;joc_marques&lt;/strong&gt;, on utilitzarem com a valor el nom del jugador, i com a puntuació (&lt;strong&gt;score&lt;/strong&gt;) que serveix per a ordenar, el temps. Com a complicació tindrem que en un conjunt ordenat (igual que en un conjunt) no es poden repetir els valors. Ha de ser de la següent manera:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Medir el temps des de que comença la partida fins que es trobe el número. T'anirà bé la funció &lt;strong&gt;System.currentTimeMillis()&lt;/strong&gt;, que dóna l'hora actual en milisegons. La diferència entre el primer moment i el segon, serà el número de milisegons que ha durat la partida.&lt;/li&gt;
&lt;li&gt;Primer guarda sense tenir en consideració que es puga repetir el nom del jugador.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;(Voluntari)&lt;/strong&gt; Després millora'l, per a que si es posa un nom que ja existeix, li afegisca un número: &lt;strong&gt;nom, nom_1, nom_2, ...&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;(Voluntari)&lt;/strong&gt; Finalment, limita la llista de puntuacions a les 10 millors.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="497"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="78"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="498">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.6 (MongoDB)"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="499">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="42_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="498"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Agafa l'estat actual de Bicicas de la següent adreça:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://gestiona.bicicas.es/apps/apps.php&quot; target=&quot;_blank&quot;&gt;http://gestiona.bicicas.es/apps/apps.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;En l'annex del WebService tens la manera d'accedir a un WebService.&lt;/p&gt;
&lt;p&gt;Estudia el format JSON, per a poder agafar bé la informació de cada estació.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fes un programa anomenat &lt;strong&gt;IntroduirBicicas&lt;/strong&gt; (amb &lt;strong&gt;main&lt;/strong&gt;) que introduesca en &lt;strong&gt;MongoDB&lt;/strong&gt; cada estació com un document en una col·lecció anomenada &lt;strong&gt;bicicas&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Fes un altre programa anomenat &lt;strong&gt;MostrarBicias&lt;/strong&gt; que agafe tots els documents de la col·lecció &lt;strong&gt;bicicas &lt;/strong&gt; de la Base de Dades de MongoDb, que són totes les estacions, i traga la seua informació amb aquest aspecte (només es mostren les 10 primeres)&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&quot;codi2&quot;&gt;00.- TALLER (0/1)&lt;br /&gt;01.- UJI - FCHS (5/28)&lt;br /&gt;02.- ESTACIÃ³N DE FERROCARRIL Y AUTOBUSES (12/28)&lt;br /&gt;03.- PLAZA DE PESCADERÃ­A (14/28)&lt;br /&gt;04.- PASEO BUENAVISTA-GRAO (6/14)&lt;br /&gt;05.- HOSPITAL GENERAL (9/18)&lt;br /&gt;06.- PLAZA DE LA LIBERTAD (5/14)&lt;br /&gt;07.- PLAZA TEODORO IZQUIERDO (0/14)&lt;br /&gt;08.- PLAZA PRIMER MOLÃ­ (2/14)&lt;br /&gt;09.- PATRONAT DESPORTS (4/14)&lt;br /&gt;10.- PLAZA DOCTOR MARAÃ±Ã³N (7/14)&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="499"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="150"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
         <instance class="exe.engine.genericidevice.GenericIdevice" reference="500">
          <dictionary>
           <string role="key" value="_title"></string>
           <unicode value="Exercici 7.7 (Firebase) Voluntari"></unicode>
           <string role="key" value="_author"></string>
           <unicode value="University of Auckland"></unicode>
           <string role="key" value="_purpose"></string>
           <unicode value="An activity can be defined as a task or set of tasks a learner must
complete. Provide a clear statement of the task and consider any conditions
that may help or hinder the learner in the performance of the task."></unicode>
           <string role="key" value="_tip"></string>
           <unicode value=""></unicode>
           <string role="key" value="class_"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="edit"></string>
           <bool value="0"></bool>
           <string role="key" value="emphasis"></string>
           <int value="1"></int>
           <string role="key" value="exe.engine.genericidevice.GenericIdevice.persistenceVersion"></string>
           <int value="11"></int>
           <string role="key" value="fields"></string>
           <list>
            <instance class="exe.engine.field.TextAreaField" reference="501">
             <dictionary>
              <string role="key" value="_id"></string>
              <unicode value="171_2"></unicode>
              <string role="key" value="_idevice"></string>
              <reference key="500"></reference>
              <string role="key" value="_instruc"></string>
              <unicode value="Describe the tasks the learners should complete."></unicode>
              <string role="key" value="_name"></string>
              <unicode value="Activity"></unicode>
              <string role="key" value="anchor_names"></string>
              <list></list>
              <string role="key" value="anchors_linked_from_fields"></string>
              <dictionary></dictionary>
              <string role="key" value="buttonCaption"></string>
              <string value=""></string>
              <string role="key" value="content_w_resourcePaths"></string>
              <unicode content="true" value="&lt;p&gt;Fer el joc del 3 en ratlla (TicTacToe) fet en PMDM, però per a 2 jugadors que juguen en terminals diferents. El primer que hauren de fer és connectar-se, i després començar a jugar. Ens guardarem en Firebase (dins de l'objecte &lt;strong&gt;TicTacToe&lt;/strong&gt;) total la informació necessària:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ens guardarem l'estat de la partida en &lt;strong&gt;StateOfGame&lt;/strong&gt;, que podrà tenir els valors Playing, Draw o Winner. Podria anar bé un nou estat anomenat &lt;strong&gt;Connecting&lt;/strong&gt;.&lt;strong&gt; &lt;/strong&gt;Inicialment podem considerar que l'estat és Draw.&lt;/li&gt;
&lt;li&gt;Ens guardarem la informació dels 2 jugadors: nom i símbol. Inicialment no tindran res. Quan el primer jugador es connecte s'inicialitzarà el &lt;strong&gt;jugador1&lt;/strong&gt; (per exemple amb els valors 1 X), i el valor seria &lt;strong&gt;Connecting&lt;/strong&gt;. Quan es connecte el segon s'inicialitzarà el &lt;strong&gt;jugador2&lt;/strong&gt; (per exemple amb els valors 2 O). I l'estat passarà a ser &lt;strong&gt;Playing&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;En fer click a qualsevol botó, no s'ha de marcar encara amb el símbol del jugador (es farà després). S'ha de comprovar si és el torn del jugador (si no es el seu torn no es farà res). I en cas afirmatiu es guardarà la jugada, que constarà de: nom jugador, fila i columna. Observa com hauràs de poder identificar el botó (fila i columna) que s'ha apretat per poder guardar-lo. Les jugades s'aniran registrant com elements de l'array &lt;strong&gt;tirades &lt;/strong&gt;(o &lt;strong&gt;moves&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;La jugada es marcarà en l'esdeveniment &lt;strong&gt;addChildEventListener()&lt;/strong&gt; , tant si és pròpia com si és de l'altre jugador, utilitzant la fila, la columna i el nom per a marcar el botó correcte. Serà el moment de fer les comprovacions que ja teníeu en el joc.&lt;/li&gt;
&lt;li&gt;Quan finalitze la partida, a banda de marcar el guanyador o que no hi ha, s'ha de guardar el nou estat de la partida.&lt;/li&gt;
&lt;/ul&gt;"></unicode>
              <string role="key" value="exe.engine.field.Field.persistenceVersion"></string>
              <int value="4"></int>
              <string role="key" value="exe.engine.field.FieldWithResources.persistenceVersion"></string>
              <int value="2"></int>
              <string role="key" value="exe.engine.field.TextAreaField.persistenceVersion"></string>
              <int value="3"></int>
              <string role="key" value="htmlTag"></string>
              <string value="div"></string>
              <string role="key" value="images"></string>
              <instance class="exe.engine.galleryidevice.GalleryImages">
               <dictionary>
                <string role="key" value=".listitems"></string>
                <list></list>
                <string role="key" value="idevice"></string>
                <reference key="501"></reference>
               </dictionary>
              </instance>
              <string role="key" value="intlinks_to_anchors"></string>
              <dictionary></dictionary>
              <string role="key" value="nextImageId"></string>
              <int value="0"></int>
              <string role="key" value="parentNode"></string>
              <reference key="487"></reference>
             </dictionary>
            </instance>
           </list>
           <string role="key" value="icon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="id"></string>
           <unicode value="171"></unicode>
           <string role="key" value="lastIdevice"></string>
           <bool value="0"></bool>
           <string role="key" value="nextFieldId"></string>
           <int value="3"></int>
           <string role="key" value="originalicon"></string>
           <unicode value="activity"></unicode>
           <string role="key" value="parentNode"></string>
           <reference key="487"></reference>
           <string role="key" value="systemResources"></string>
           <list>
            <string value="common.js"></string>
           </list>
           <string role="key" value="undo"></string>
           <bool value="1"></bool>
           <string role="key" value="userResources"></string>
           <list></list>
           <string role="key" value="version"></string>
           <int value="0"></int>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="_id"></string>
        <unicode value="12"></unicode>
        <string role="key" value="_package"></string>
        <reference key="2"></reference>
        <string role="key" value="anchor_fields"></string>
        <list></list>
        <string role="key" value="exe.engine.node.Node.persistenceVersion"></string>
        <int value="2"></int>
        <string role="key" value="exportType"></string>
        <string value="website"></string>
        <string role="key" value="last_full_node_path"></string>
        <string value="exe-node:Tema%207%3A%20Bases%20de%20Dades%20NoSQL:Exercicis"></string>
        <string role="key" value="parent"></string>
        <reference key="4"></reference>
        <string role="key" value="top_anchors_linked_from_fields"></string>
        <list></list>
        <string role="key" value="children"></string>
        <list></list>
       </dictionary>
      </instance>
     </list>
    </dictionary>
   </instance>
   <unicode role="key" value="1"></unicode>
   <reference key="8"></reference>
   <unicode role="key" value="10"></unicode>
   <reference key="288"></reference>
   <unicode role="key" value="12"></unicode>
   <reference key="487"></reference>
   <unicode role="key" value="13"></unicode>
   <reference key="319"></reference>
   <unicode role="key" value="14"></unicode>
   <reference key="351"></reference>
   <unicode role="key" value="16"></unicode>
   <reference key="354"></reference>
   <unicode role="key" value="17"></unicode>
   <reference key="365"></reference>
   <unicode role="key" value="18"></unicode>
   <reference key="381"></reference>
   <unicode role="key" value="19"></unicode>
   <reference key="368"></reference>
   <unicode role="key" value="2"></unicode>
   <reference key="176"></reference>
   <unicode role="key" value="20"></unicode>
   <reference key="396"></reference>
   <unicode role="key" value="21"></unicode>
   <reference key="399"></reference>
   <unicode role="key" value="22"></unicode>
   <reference key="404"></reference>
   <unicode role="key" value="23"></unicode>
   <reference key="410"></reference>
   <unicode role="key" value="24"></unicode>
   <reference key="407"></reference>
   <unicode role="key" value="25"></unicode>
   <reference key="415"></reference>
   <unicode role="key" value="26"></unicode>
   <reference key="418"></reference>
   <unicode role="key" value="27"></unicode>
   <reference key="423"></reference>
   <unicode role="key" value="28"></unicode>
   <reference key="426"></reference>
   <unicode role="key" value="29"></unicode>
   <reference key="431"></reference>
   <unicode role="key" value="3"></unicode>
   <reference key="179"></reference>
   <unicode role="key" value="30"></unicode>
   <reference key="434"></reference>
   <unicode role="key" value="31"></unicode>
   <reference key="439"></reference>
   <unicode role="key" value="34"></unicode>
   <reference key="462"></reference>
   <unicode role="key" value="35"></unicode>
   <reference key="477"></reference>
   <unicode role="key" value="37"></unicode>
   <reference key="11"></reference>
   <unicode role="key" value="38"></unicode>
   <reference key="14"></reference>
   <unicode role="key" value="4"></unicode>
   <reference key="189"></reference>
   <unicode role="key" value="40"></unicode>
   <reference key="61"></reference>
   <unicode role="key" value="41"></unicode>
   <reference key="73"></reference>
   <unicode role="key" value="42"></unicode>
   <reference key="27"></reference>
   <unicode role="key" value="43"></unicode>
   <reference key="58"></reference>
   <unicode role="key" value="44"></unicode>
   <reference key="22"></reference>
   <unicode role="key" value="46"></unicode>
   <reference key="19"></reference>
   <unicode role="key" value="5"></unicode>
   <reference key="342"></reference>
   <unicode role="key" value="51"></unicode>
   <reference key="36"></reference>
   <unicode role="key" value="52"></unicode>
   <reference key="30"></reference>
   <unicode role="key" value="53"></unicode>
   <reference key="55"></reference>
   <unicode role="key" value="55"></unicode>
   <reference key="93"></reference>
   <unicode role="key" value="56"></unicode>
   <reference key="96"></reference>
   <unicode role="key" value="57"></unicode>
   <reference key="106"></reference>
   <unicode role="key" value="58"></unicode>
   <reference key="85"></reference>
   <unicode role="key" value="59"></unicode>
   <reference key="109"></reference>
   <unicode role="key" value="6"></unicode>
   <reference key="192"></reference>
   <unicode role="key" value="60"></unicode>
   <reference key="116"></reference>
   <unicode role="key" value="61"></unicode>
   <reference key="133"></reference>
   <unicode role="key" value="62"></unicode>
   <reference key="139"></reference>
   <unicode role="key" value="63"></unicode>
   <reference key="144"></reference>
   <unicode role="key" value="65"></unicode>
   <reference key="154"></reference>
   <unicode role="key" value="66"></unicode>
   <reference key="166"></reference>
   <unicode role="key" value="7"></unicode>
   <reference key="221"></reference>
   <unicode role="key" value="8"></unicode>
   <reference key="246"></reference>
   <unicode role="key" value="9"></unicode>
   <reference key="263"></reference>
  </dictionary>
  <string role="key" value="_objectives"></string>
  <unicode value=""></unicode>
  <string role="key" value="_preknowledge"></string>
  <unicode value=""></unicode>
  <string role="key" value="_templateFile"></string>
  <string value=""></string>
  <string role="key" value="anchor_nodes"></string>
  <list></list>
  <string role="key" value="backgroundImgTile"></string>
  <bool value="0"></bool>
  <string role="key" value="currentNode"></string>
  <reference key="4"></reference>
  <string role="key" value="dublinCore"></string>
  <instance class="exe.engine.package.DublinCore">
   <dictionary>
    <string role="key" value="contributors"></string>
    <unicode value=""></unicode>
    <string role="key" value="coverage"></string>
    <unicode value=""></unicode>
    <string role="key" value="creator"></string>
    <unicode value="Àlvar Serrano Calduch"></unicode>
    <string role="key" value="date"></string>
    <unicode value=""></unicode>
    <string role="key" value="description"></string>
    <unicode value=""></unicode>
    <string role="key" value="format"></string>
    <unicode value=""></unicode>
    <string role="key" value="identifier"></string>
    <unicode value="aa72efc9-e88a-48d6-a120-062067417389"></unicode>
    <string role="key" value="language"></string>
    <unicode value="ca"></unicode>
    <string role="key" value="publisher"></string>
    <unicode value=""></unicode>
    <string role="key" value="relation"></string>
    <unicode value=""></unicode>
    <string role="key" value="rights"></string>
    <unicode value=""></unicode>
    <string role="key" value="source"></string>
    <unicode value=""></unicode>
    <string role="key" value="subject"></string>
    <unicode value=""></unicode>
    <string role="key" value="title"></string>
    <unicode value="Bases de Dades"></unicode>
    <string role="key" value="type"></string>
    <unicode value=""></unicode>
   </dictionary>
  </instance>
  <string role="key" value="exe.engine.package.Package.persistenceVersion"></string>
  <int value="16"></int>
  <string role="key" value="exportMetadataType"></string>
  <string value="LOMES"></string>
  <string role="key" value="exportSource"></string>
  <bool value="1"></bool>
  <string role="key" value="footer"></string>
  <unicode value=""></unicode>
  <string role="key" value="isLoading"></string>
  <bool value="0"></bool>
  <string role="key" value="license"></string>
  <unicode value=""></unicode>
  <string role="key" value="lom"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.contextSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOMv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.contextValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="other"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <instance class="exe.engine.lom.lomsubs.contextSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOMv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.contextValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="school"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.intendedEndUserRoleSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOMv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.intendedEndUserRoleValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="learner"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.learningResourceTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOMv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.learningResourceTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value=""></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOMv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="aa72efc9-e88a-48d6-a120-062067417389"></unicode>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Bases de Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="502">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2016-05-06"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="503">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="504">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOMv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="502"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="503"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="504"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOMv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <none></none>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <none></none>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="lomEs"></string>
  <instance class="exe.engine.lom.lomsubs.lomSub">
   <dictionary>
    <string role="key" value="__index__"></string>
    <dictionary></dictionary>
    <string role="key" value="__oldchild__"></string>
    <none></none>
    <string role="key" value="annotation"></string>
    <list></list>
    <string role="key" value="classification"></string>
    <list></list>
    <string role="key" value="educational"></string>
    <list>
     <instance class="exe.engine.lom.lomsubs.educationalSub">
      <dictionary>
       <string role="key" value="cognitiveProcess"></string>
       <list></list>
       <string role="key" value="context"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.contextSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.contextValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="presencial"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <instance class="exe.engine.lom.lomsubs.contextSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.contextValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="classroom"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="description"></string>
       <list></list>
       <string role="key" value="difficulty"></string>
       <none></none>
       <string role="key" value="intendedEndUserRole"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.intendedEndUserRoleSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.intendedEndUserRoleValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="learner"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="interactivityLevel"></string>
       <none></none>
       <string role="key" value="interactivityType"></string>
       <none></none>
       <string role="key" value="language"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="ca"></string>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="learningResourceType"></string>
       <list>
        <instance class="exe.engine.lom.lomsubs.learningResourceTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.learningResourceTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value=""></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
       </list>
       <string role="key" value="semanticDensity"></string>
       <none></none>
       <string role="key" value="typicalAgeRange"></string>
       <list></list>
       <string role="key" value="typicalLearningTime"></string>
       <none></none>
      </dictionary>
     </instance>
    </list>
    <string role="key" value="general"></string>
    <instance class="exe.engine.lom.lomsubs.generalSub">
     <dictionary>
      <string role="key" value="aggregationLevel"></string>
      <instance class="exe.engine.lom.lomsubs.aggregationLevelSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="source"></string>
        <instance class="exe.engine.lom.lomsubs.sourceValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list></list>
          <string role="key" value="uniqueElementName"></string>
          <string value="source"></string>
          <string role="key" value="valueOf_"></string>
          <string value="LOM-ESv1.0"></string>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="aggregationLevel"></string>
        <string role="key" value="value"></string>
        <instance class="exe.engine.lom.lomsubs.aggregationLevelValueSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <none></none>
          <string role="key" value="uniqueElementName"></string>
          <string value="value"></string>
          <string role="key" value="value"></string>
          <none></none>
          <string role="key" value="valueOf_"></string>
          <string value="2"></string>
         </dictionary>
        </instance>
       </dictionary>
      </instance>
      <string role="key" value="coverage"></string>
      <list></list>
      <string role="key" value="description"></string>
      <list></list>
      <string role="key" value="identifier"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.identifierSub">
        <dictionary>
         <string role="key" value="catalog"></string>
         <instance class="exe.engine.lom.lomsubs.catalogSub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="catalog"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="El meu catàleg "></unicode>
          </dictionary>
         </instance>
         <string role="key" value="entry"></string>
         <instance class="exe.engine.lom.lomsubs.entrySub">
          <dictionary>
           <string role="key" value="uniqueElementName"></string>
           <string value="entry"></string>
           <string role="key" value="valueOf_"></string>
           <unicode value="aa72efc9-e88a-48d6-a120-062067417389"></unicode>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="keyword"></string>
      <list></list>
      <string role="key" value="language"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
        <dictionary>
         <string role="key" value="extensiontype_"></string>
         <none></none>
         <string role="key" value="valueOf_"></string>
         <string value="ca"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="structure"></string>
      <none></none>
      <string role="key" value="title"></string>
      <instance class="exe.engine.lom.lomsubs.titleSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="string"></string>
        <list>
         <instance class="exe.engine.lom.lomsubs.LangStringSub">
          <dictionary>
           <string role="key" value="language"></string>
           <string value="ca"></string>
           <string role="key" value="valueOf_"></string>
           <string value="Bases de Dades"></string>
          </dictionary>
         </instance>
        </list>
        <string role="key" value="uniqueElementName"></string>
        <none></none>
       </dictionary>
      </instance>
      <string role="key" value="uniqueElementName"></string>
      <string value="general"></string>
     </dictionary>
    </instance>
    <string role="key" value="lifeCycle"></string>
    <instance class="exe.engine.lom.lomsubs.lifeCycleSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeSub">
        <dictionary>
         <string role="key" value="date"></string>
         <instance class="exe.engine.lom.lomsubs.dateSub" reference="505">
          <dictionary>
           <string role="key" value="dateTime"></string>
           <instance class="exe.engine.lom.lomsubs.DateTimeValueSub">
            <dictionary>
             <string role="key" value="uniqueElementName"></string>
             <string value="dateTime"></string>
             <string role="key" value="valueOf_"></string>
             <string value="2016-05-06"></string>
            </dictionary>
           </instance>
           <string role="key" value="description"></string>
           <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list>
              <instance class="exe.engine.lom.lomsubs.LangStringSub">
               <dictionary>
                <string role="key" value="language"></string>
                <string value="ca"></string>
                <string role="key" value="valueOf_"></string>
                <string value="Data de creaci\xc3\xb3 de les metadades"></string>
               </dictionary>
              </instance>
             </list>
            </dictionary>
           </instance>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="uniqueElementName"></string>
           <none></none>
           <string role="key" value="valueOf_"></string>
           <none></none>
          </dictionary>
         </instance>
         <string role="key" value="entity"></string>
         <list>
          <instance class="exe.engine.lom.lomsubs.entitySub" reference="506">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="BEGIN:VCARD VERSION:3.0 FN:\xc3\x80lvar Serrano Calduch EMAIL;TYPE=INTERNET: ORG: END:VCARD"></string>
           </dictionary>
          </instance>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <instance class="exe.engine.lom.lomsubs.sourceValueSub" reference="507">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="string"></string>
             <list></list>
             <string role="key" value="uniqueElementName"></string>
             <string value="source"></string>
             <string role="key" value="valueOf_"></string>
             <string value="LOM-ESv1.0"></string>
            </dictionary>
           </instance>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="author"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="status"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <none></none>
      <string role="key" value="version"></string>
      <none></none>
     </dictionary>
    </instance>
    <string role="key" value="metaMetadata"></string>
    <instance class="exe.engine.lom.lomsubs.metaMetadataSub">
     <dictionary>
      <string role="key" value="contribute"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.contributeMetaSub">
        <dictionary>
         <string role="key" value="date"></string>
         <reference key="505"></reference>
         <string role="key" value="entity"></string>
         <list>
          <reference key="506"></reference>
         </list>
         <string role="key" value="role"></string>
         <instance class="exe.engine.lom.lomsubs.roleSub">
          <dictionary>
           <string role="key" value="extensiontype_"></string>
           <none></none>
           <string role="key" value="source"></string>
           <reference key="507"></reference>
           <string role="key" value="uniqueElementName"></string>
           <string value="role"></string>
           <string role="key" value="value"></string>
           <instance class="exe.engine.lom.lomsubs.roleValueSub">
            <dictionary>
             <string role="key" value="extensiontype_"></string>
             <none></none>
             <string role="key" value="source"></string>
             <none></none>
             <string role="key" value="uniqueElementName"></string>
             <string value="value"></string>
             <string role="key" value="value"></string>
             <none></none>
             <string role="key" value="valueOf_"></string>
             <string value="creator"></string>
            </dictionary>
           </instance>
          </dictionary>
         </instance>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="identifier"></string>
      <list></list>
      <string role="key" value="language"></string>
      <instance class="exe.engine.lom.lomsubs.LanguageIdSub">
       <dictionary>
        <string role="key" value="extensiontype_"></string>
        <none></none>
        <string role="key" value="valueOf_"></string>
        <string value="ca"></string>
       </dictionary>
      </instance>
      <string role="key" value="metadataSchema"></string>
      <list>
       <instance class="exe.engine.lom.lomsubs.metadataSchemaSub">
        <dictionary>
         <string role="key" value="valueOf_"></string>
         <string value="LOM-ESv1.0"></string>
        </dictionary>
       </instance>
      </list>
      <string role="key" value="uniqueElementName"></string>
      <string value="metaMetadata"></string>
     </dictionary>
    </instance>
    <string role="key" value="relation"></string>
    <list></list>
    <string role="key" value="rights"></string>
    <instance class="exe.engine.lom.lomsubs.rightsSub">
     <dictionary>
      <string role="key" value="access"></string>
      <instance class="exe.engine.lom.lomsubs.accessSub">
       <dictionary>
        <string role="key" value="accessType"></string>
        <instance class="exe.engine.lom.lomsubs.accessTypeSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="source"></string>
          <instance class="exe.engine.lom.lomsubs.sourceValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="string"></string>
            <list></list>
            <string role="key" value="uniqueElementName"></string>
            <string value="source"></string>
            <string role="key" value="valueOf_"></string>
            <string value="LOM-ESv1.0"></string>
           </dictionary>
          </instance>
          <string role="key" value="uniqueElementName"></string>
          <string value="accessType"></string>
          <string role="key" value="value"></string>
          <instance class="exe.engine.lom.lomsubs.accessTypeValueSub">
           <dictionary>
            <string role="key" value="extensiontype_"></string>
            <none></none>
            <string role="key" value="source"></string>
            <none></none>
            <string role="key" value="uniqueElementName"></string>
            <string value="value"></string>
            <string role="key" value="value"></string>
            <none></none>
            <string role="key" value="valueOf_"></string>
            <string value="universal"></string>
           </dictionary>
          </instance>
         </dictionary>
        </instance>
        <string role="key" value="description"></string>
        <instance class="exe.engine.lom.lomsubs.LanguageStringSub">
         <dictionary>
          <string role="key" value="extensiontype_"></string>
          <none></none>
          <string role="key" value="string"></string>
          <list>
           <instance class="exe.engine.lom.lomsubs.LangStringSub">
            <dictionary>
             <string role="key" value="language"></string>
             <string value="ca"></string>
             <string role="key" value="valueOf_"></string>
             <unicode value="Per defecte"></unicode>
            </dictionary>
           </instance>
          </list>
         </dictionary>
        </instance>
        <string role="key" value="uniqueElementName"></string>
        <string value="access"></string>
       </dictionary>
      </instance>
      <string role="key" value="copyrightAndOtherRestrictions"></string>
      <none></none>
      <string role="key" value="cost"></string>
      <none></none>
      <string role="key" value="description"></string>
      <none></none>
      <string role="key" value="uniqueElementName"></string>
      <string value="rights"></string>
     </dictionary>
    </instance>
    <string role="key" value="technical"></string>
    <none></none>
   </dictionary>
  </instance>
  <string role="key" value="mxmlforcemediaonly"></string>
  <bool value="0"></bool>
  <string role="key" value="mxmlheight"></string>
  <string value=""></string>
  <string role="key" value="mxmlprofilelist"></string>
  <string value=""></string>
  <string role="key" value="mxmlwidth"></string>
  <string value=""></string>
  <string role="key" value="release"></string>
  <string value="2.7"></string>
  <string role="key" value="resources"></string>
  <dictionary>
   <string role="key" value="00d7bcef276ccb8619c2ad49c9b55ed8"></string>
   <list>
    <reference key="163"></reference>
   </list>
   <string role="key" value="0828819989fb581b259817a1fe1ead8c"></string>
   <list>
    <reference key="184"></reference>
   </list>
   <string role="key" value="0c67825f4282d219b2ae9db4650bebb3"></string>
   <list>
    <reference key="173"></reference>
   </list>
   <string role="key" value="0e986fe0598132cc919076e837fbfae4"></string>
   <list>
    <reference key="182"></reference>
   </list>
   <string role="key" value="10467746282449a0178badbd93fc516b"></string>
   <list>
    <reference key="49"></reference>
   </list>
   <string role="key" value="12a628a2d12eec5241a38ba2772a7a42"></string>
   <list>
    <reference key="118"></reference>
   </list>
   <string role="key" value="1ecab1bdd95ec807ed61231834fb9132"></string>
   <list>
    <reference key="151"></reference>
   </list>
   <string role="key" value="1f40c2ee9c34df625f74de39b41cf65b"></string>
   <list>
    <reference key="33"></reference>
   </list>
   <string role="key" value="20da4f3dbebc3088a502e2186981835f"></string>
   <list>
    <reference key="362"></reference>
   </list>
   <string role="key" value="254720187b887d1069d79d15a6d73e69"></string>
   <list>
    <reference key="32"></reference>
   </list>
   <string role="key" value="261fabfc7482808e0713e15dc9172f5f"></string>
   <list>
    <reference key="24"></reference>
   </list>
   <string role="key" value="32261605eb8914cd06ee1a0e03fbc781"></string>
   <list>
    <reference key="136"></reference>
   </list>
   <string role="key" value="356bbf3e3063526a936848373f84248d"></string>
   <list>
    <reference key="482"></reference>
   </list>
   <string role="key" value="37d0fece31c79993bc62c60f1ef2db3d"></string>
   <list>
    <reference key="127"></reference>
   </list>
   <string role="key" value="3db6c1c42a7ff805e2fed912dd3d2ffb"></string>
   <list>
    <reference key="65"></reference>
   </list>
   <string role="key" value="41ba16c9f3d5edc61a47e4f385d1b94d"></string>
   <list>
    <reference key="64"></reference>
    <reference key="149"></reference>
   </list>
   <string role="key" value="486f9fd63aa60df4c1a5232b303eb515"></string>
   <list>
    <reference key="67"></reference>
   </list>
   <string role="key" value="4909d352768fe8f70beb772a9a671112"></string>
   <list>
    <reference key="150"></reference>
   </list>
   <string role="key" value="4d3ca939d56543c32e2f841db8481efa"></string>
   <list>
    <reference key="183"></reference>
   </list>
   <string role="key" value="4fadc7e8684def92f7d83072c03b1bad"></string>
   <list>
    <reference key="147"></reference>
   </list>
   <string role="key" value="54b532072cba1f4f7faad6ff4476fa1c"></string>
   <list>
    <reference key="15"></reference>
   </list>
   <string role="key" value="598ce642a14205b633de94e9ead37352"></string>
   <list>
    <reference key="52"></reference>
   </list>
   <string role="key" value="5bd1d0692d1c790aade0d012a52a6bb3"></string>
   <list>
    <reference key="70"></reference>
   </list>
   <string role="key" value="5f485b0593f6f27f7c343c69bad76342"></string>
   <list>
    <reference key="50"></reference>
   </list>
   <string role="key" value="65ee0fa59875bfa7c17311ea4edaef4c"></string>
   <list>
    <reference key="122"></reference>
   </list>
   <string role="key" value="696223cc43f7a9c2b284e5e26eefad42"></string>
   <list>
    <reference key="31"></reference>
   </list>
   <string role="key" value="6ba60e73684cf1748f9fee8d509514b1"></string>
   <list>
    <reference key="41"></reference>
   </list>
   <string role="key" value="6bf4a4047651637e2aade4442a5c87ee"></string>
   <list>
    <reference key="357"></reference>
   </list>
   <string role="key" value="6efa24a37ac07a6e62069b3caad7dccf"></string>
   <list>
    <reference key="495"></reference>
   </list>
   <string role="key" value="7378c6842569e29c2560c8f0861cab93"></string>
   <list>
    <reference key="44"></reference>
   </list>
   <string role="key" value="7ffd261500c63d97ae69c7fae56720e7"></string>
   <list>
    <reference key="488"></reference>
   </list>
   <string role="key" value="806a46335058d67ac87abc19be6b6a4d"></string>
   <list>
    <reference key="181"></reference>
   </list>
   <string role="key" value="82b8eda4bc36b0627045a36301512080"></string>
   <list>
    <reference key="51"></reference>
   </list>
   <string role="key" value="8401631852e99b3dae9bc2e4ea3011fb"></string>
   <list>
    <reference key="90"></reference>
   </list>
   <string role="key" value="8b01abe1656b9e6fd2398b3126deb0c4"></string>
   <list>
    <reference key="97"></reference>
   </list>
   <string role="key" value="8bee6db26f7b160b951c96e2cf2c8965"></string>
   <list>
    <reference key="360"></reference>
   </list>
   <string role="key" value="8dd6223993b24665d2ae69ba6d58271e"></string>
   <list>
    <reference key="355"></reference>
   </list>
   <string role="key" value="8ec7af30ccfb77e0dd97c5a7b74886fe"></string>
   <list>
    <reference key="38"></reference>
   </list>
   <string role="key" value="98f85d76201f6365e517bc89eb594d8f"></string>
   <list>
    <reference key="126"></reference>
   </list>
   <string role="key" value="993245330c32629aed3cea0aacbfbb6f"></string>
   <list>
    <reference key="148"></reference>
   </list>
   <string role="key" value="9f7bdb3c1aafb6159180d36abe2045a6"></string>
   <list>
    <reference key="98"></reference>
   </list>
   <string role="key" value="9fe63917194e36b16f19497a2584c621"></string>
   <list>
    <reference key="103"></reference>
   </list>
   <string role="key" value="a22f2a50b16a867d24090181876b1c82"></string>
   <list>
    <reference key="185"></reference>
   </list>
   <string role="key" value="a3215dcc0649adc637e2415d53f1799f"></string>
   <list>
    <reference key="43"></reference>
   </list>
   <string role="key" value="ac0d668783f221db8da10a4660c6914e"></string>
   <list>
    <reference key="361"></reference>
   </list>
   <string role="key" value="af853a4c89b82f1e45b25af4c62b5af1"></string>
   <list>
    <reference key="180"></reference>
   </list>
   <string role="key" value="b2adba8acecd22655f6f7211ea454bb1"></string>
   <list>
    <reference key="356"></reference>
   </list>
   <string role="key" value="b59fdbc11babc86ebe58a4bdd4e541ea"></string>
   <list>
    <reference key="42"></reference>
   </list>
   <string role="key" value="b5c7f0a5f4ce6b105be633f3211dde64"></string>
   <list>
    <reference key="45"></reference>
   </list>
   <string role="key" value="c04f479c174630e409fb181e5a8915f5"></string>
   <list>
    <reference key="82"></reference>
   </list>
   <string role="key" value="c57c8a910cf0025c191129860bce8333"></string>
   <list>
    <reference key="16"></reference>
   </list>
   <string role="key" value="c90f2c61eb3cf62115eb5b851b12c708"></string>
   <list>
    <reference key="63"></reference>
   </list>
   <string role="key" value="cad3faf79a8cd73da073f2ec3a88bc24"></string>
   <list>
    <reference key="186"></reference>
   </list>
   <string role="key" value="d917bb1b0d299fbea5510f5479cdeeb4"></string>
   <list>
    <reference key="23"></reference>
   </list>
   <string role="key" value="d98764db55aeef003a6bd918042a51db"></string>
   <list>
    <reference key="37"></reference>
   </list>
   <string role="key" value="d9fb10c28302cc6f0ca8867b6a5cb8fa"></string>
   <list>
    <reference key="66"></reference>
   </list>
   <string role="key" value="dd94ace98b647d954464fba7556122f5"></string>
   <list>
    <reference key="117"></reference>
   </list>
   <string role="key" value="e7330f3da2f07b47e2dc2287d19ced41"></string>
   <list>
    <reference key="123"></reference>
   </list>
   <string role="key" value="e989c5e8f34bde9511cca377fa3194bf"></string>
   <list>
    <reference key="130"></reference>
   </list>
   <string role="key" value="ec38636b843f72e6d9fc89278da368fc"></string>
   <list>
    <reference key="121"></reference>
   </list>
   <string role="key" value="f51ffada702dded3426aa10501cf815a"></string>
   <list>
    <reference key="146"></reference>
   </list>
   <string role="key" value="f94571662608286fb7b5e8ddf01e14b8"></string>
   <list>
    <reference key="5"></reference>
   </list>
   <string role="key" value="fde357eb0df7ca1c99444373564374f9"></string>
   <list>
    <reference key="46"></reference>
   </list>
   <string role="key" value="ffe95e5633fe844b2b39114d9ed77a34"></string>
   <list>
    <reference key="62"></reference>
    <reference key="145"></reference>
   </list>
  </dictionary>
  <string role="key" value="root"></string>
  <reference key="4"></reference>
  <string role="key" value="scolinks"></string>
  <bool value="0"></bool>
  <string role="key" value="scowsinglepage"></string>
  <bool value="0"></bool>
  <string role="key" value="scowwebsite"></string>
  <bool value="0"></bool>
  <string role="key" value="style"></string>
  <unicode value="caminas 3.1"></unicode>
  <string role="key" value="sugaractivityname"></string>
  <string value=""></string>
  <string role="key" value="sugarservicename"></string>
  <string value=""></string>
  <string role="key" value="tempFile"></string>
  <bool value="0"></bool>
 </dictionary>
</instance>